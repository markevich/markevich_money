defmodule MarkevichMoney.Pipelines.Help.Callbacks do
  use MarkevichMoney.Constants
  alias MarkevichMoney.CallbackData
  alias MarkevichMoney.Pipelines.Help.Messages, as: HelpPipeline
  alias MarkevichMoney.Steps.Telegram.{SendMessage, SendPhoto}

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_newby}
        } = callback_data
      ) do
    payload = callback_data |> Map.from_struct()

    message = """
    `> ü§î –Ø –Ω–æ–≤–µ–Ω—å–∫–∏–π, –ø–æ–º–æ–≥–∏—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!`

    –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Å –∫–∞—Ä—Ç–æ—á–∫–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π –∫ —Å–∏—Å—Ç–µ–º–µ ‚Äú–ê–ª—å—Ñ–∞-–ö–ª–∏–∫‚Äù, –≤ –±–æ—Ç –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–¥–æ–±–Ω–æ–≥–æ –≤–∏–¥–∞:
    """

    payload
    |> Map.put(:output_message, message)
    |> SendMessage.call()

    payload
    |> Map.put(:output_file_id, get_file_id(:newby_transaction_example))
    |> SendPhoto.call()

    message = """
    –ë–æ—Ç —Å—Ç–∞—Ä–∞–µ—Ç—Å—è —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–æ –ø–æ–Ω–∞—á–∞–ª—É –æ–Ω –º–æ–∂–µ—Ç –æ—à–∏–±–∏—Ç—å—Å—è –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤–æ–≤—Å–µ. –¢—É—Ç –µ–º—É –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ç–≤–æ—è –ø–æ–º–æ—â—å: –Ω–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É `–ö–∞—Ç–µ–≥–æ—Ä–∏—è` –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ç–≤–æ—è —Ç—Ä–∞—Ç–∞.

    –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –±–æ—Ç —É–∂–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, –∫–∞–∫—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –µ–º—É –≤—ã–±—Ä–∞—Ç—å. –ü–æ–º–æ—â—å –Ω—É–∂–Ω–∞ –±–æ—Ç—É —Ç–æ–ª—å–∫–æ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã: —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å –æ–Ω –Ω–∞—á–Ω—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤—Å–µ–º —Ç–≤–æ–∏–º —Ç—Ä–∞—Ç–∞–º, –∏ –≤—ã–±–∏—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—Ä—É—á–Ω—É—é –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑—Ä–µ–¥–∫–∞, –≤ –Ω–µ–∑–Ω–∞–∫–æ–º—ã—Ö –¥–ª—è –±–æ—Ç–∞ —Å–∏—Ç—É–∞—Ü–∏—è—Ö.

    –ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –±–æ—Ç –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª –∫–∞–∫—É—é-—Ç–æ —Ç—Ä–∞—Ç—É, —Ç–æ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É `–£–¥–∞–ª–∏—Ç—å` –ø–æ–¥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. *–°–∞–º–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —ç—Ç–æ–º —É–¥–∞–ª—è—Ç—å –Ω–µ –Ω–∞–¥–æ!*

    –ö–Ω–æ–ø–∫–∏ –ø–æ–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ `‚ùå–£–¥–∞–ª–∏—Ç—å‚ùå` –∏ `–û—Ç–º–µ–Ω–∞`. –ï—Å–ª–∏ —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å —É–¥–∞–ª–∏—Ç—å —Ç—Ä–∞—Ç—É, –∂–º–∏ –Ω–∞ –ø–µ—Ä–≤—É—é –∫–Ω–æ–ø–∫—É; –µ—Å–ª–∏ –≤—Å—ë-—Ç–∞–∫–∏ –ø–µ—Ä–µ–¥—É–º–∞–µ—à—å, —Ç–æ –∂–º–∏ –Ω–∞ –≤—Ç–æ—Ä—É—é. –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ—è–≤–∏—Ç—Å—è —Å–ª–æ–≤–æ `–£–¥–∞–ª–µ–Ω–æ`.

    –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥ –ø–æ–º–æ—â–∏, –Ω–∞–ø–∏—à–∏ /help.

    –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ —É –±–æ—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–≤–æ–∏–º —Ç—Ä–∞—Ç–∞–º –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ –ø–æ–º–æ—â–∏ `"–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?"`.

    –ë–æ—Ç –º–æ–∂–µ—Ç —É—á–µ—Å—Ç—å –¥–∞–∂–µ —Ç—Ä–∞—Ç—ã, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –Ω–∞–ª–∏—á–∫–æ–π –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏, –µ—Å–ª–∏ —Ç—ã –µ–º—É –≤ —ç—Ç–æ–º –Ω–µ–º–Ω–æ–≥–æ –ø–æ–º–æ–∂–µ—à—å. –û —Ç–æ–º, –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ `"–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É –≤—Ä—É—á–Ω—É—é?"`.

    –ß—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ —Ç—Ä–∞—Ç–∏—à—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥ –Ω–∞ —á—Ç–æ-—Ç–æ –æ–¥–Ω–æ? –¢—ã –º–æ–∂–µ—à—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç —Ç—Ä–∞—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –∞ –±–æ—Ç –±—É–¥–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Ç–µ–±–µ –æ –Ω—ë–º –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å. –ù–∞—É—á–∏—Ç—å—Å—è –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –ª–∏–º–∏—Ç—ã –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ä–∞–∑–¥–µ–ª–∞ `"–†–∞–±–æ—Ç–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏."`.


    –°–µ–π—á–∞—Å —è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –≤—ã–∑–æ–≤—É –∫–æ–º–∞–Ω–¥—É /help, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –¥–∏–∞–ª–æ–≥ –ø–æ–º–æ—â–∏.
    """

    payload
    |> Map.put(:output_message, message)
    |> SendMessage.call()

    payload
    |> HelpPipeline.call()
  end

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_add}
        } = callback_data
      ) do
    message = """
    `> üì≤ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É –≤—Ä—É—á–Ω—É—é?`

    –ë–æ—Ç –æ–±—É—á–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ —Ç–≤–æ–µ–π –∫–∞—Ä—Ç–æ—á–∫–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π –∫ —Å–∏—Å—Ç–µ–º–µ ‚Äú–ê–ª—å—Ñ–∞-–ö–ª–∏–∫‚Äù. –û–¥–Ω–∞–∫–æ –Ω–µ —Ä–µ–¥–∫–∏ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ —Ç–µ–±–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å–ø–ª–∞—Ç–∏—Ç—å—Å—è –Ω–∞–ª–∏—á–∫–æ–π –∏–ª–∏ –∫–∞—Ä—Ç–æ–π –¥—Ä—É–≥–æ–≥–æ –±–∞–Ω–∫–∞. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–∏—Ö —Ç—Ä–∞—Ç–∞—Ö?

    –¢—ã –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –±–æ—Ç–∞ –ª—é–±—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã `/add x y`, –≥–¥–µ:

    `x` - —Å—É–º–º–∞ —Ç—Ä–∞—Ç—ã –≤ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª—è—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: `10`, `45.5`;

    `y` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: `–§—Ä—É–∫—Ç—ã –Ω–∞ —Ä—ã–Ω–∫–µ`, `–¢–∞–∫—Å–∏ –Ω–∞–ª–∏—á–∫–æ–π`.

    –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –µ—Å–ª–∏ —Ç—ã –∫—É–ø–∏–ª –Ω–∞ —Ä—ã–Ω–∫–µ —Ñ—Ä—É–∫—Ç–æ–≤ –Ω–∞ 10.5 –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª–µ–π –∏ —Ä–∞—Å–ø–ª–∞—Ç–∏–ª—Å—è –∑–∞ –Ω–∏—Ö –Ω–∞–ª–∏—á–∫–æ–π, —Ç–æ –∫–æ–º–∞–Ω–¥–∞ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –±–æ—Ç–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

    `/add 10.5 —Ñ—Ä—É–∫—Ç—ã –Ω–∞ —Ä—ã–Ω–∫–µ`.

    –ü—Ä–∏ –ø–æ–º–æ—â–∏ –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—ã –º–æ–∂–µ—à—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç–æ–±–æ–π –ø–æ–∫—É–ø–∫–∞—Ö –∏ –∏–º–µ—Ç—å –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Å–≤–æ–∏—Ö –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç–∞—Ö, –Ω–µ –æ–ø–∏—Ä–∞—è—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ.
    """

    callback_data
    |> Map.from_struct()
    |> Map.put(:output_message, message)
    |> SendMessage.call()
  end

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_stats}
        } = callback_data
      ) do
    message = """
    `> üìà –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?`

    –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ–¥—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—Å–µ—Ö —Ç–≤–æ–∏—Ö —Ç—Ä–∞—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç—ã –º–æ–∂–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –±—ã–ª–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –≤ —Å—Ç—Ä–æ–∫—É –∫–æ–º–∞–Ω–¥—É /stats.

    –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –∫–≤–∞—Ä—Ç–∞–ª –∏ —Ç.–¥.), –∏–∑—É—á–∏—Ç—å —Å–≤–æ–∏ —Ç—Ä–∞—Ç—ã –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –¢–∞–∫–∂–µ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, –Ω–µ –≤—ã—à–µ–ª –ª–∏ —Ç—ã –∑–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã, –∞ –Ω–∞ –∫–∞–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç—Ä–∞—Ç —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ.

    –ù–∞ —á—Ç–æ —Ç—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ç—Ä–∞—Ç–∏–ª –≤ –º–∏–Ω—É–≤—à–µ–º –º–µ—Å—è—Ü–µ? –ù–∞ –µ–¥—É –∏–ª–∏ –Ω–∞ –æ–¥–µ–∂–¥—É? –ù–∞ —Å–µ–º—å—é –∏–ª–∏ –Ω–∞ –º–∞—à–∏–Ω—É? –ù–µ —Å–ª–∏—à–∫–æ–º –ª–∏ —Ç—ã –º–Ω–æ–≥–æ —Ç—Ä–∞—Ç–∏—à—å –Ω–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è? –ê –º–æ–∂–µ—Ç –±—ã—Ç—å... –ú–∞–ª–æ? –ò –Ω–∞–¥–æ –±–æ–ª—å—à–µ –±–∞–ª–æ–≤–∞—Ç—å —Å–µ–±—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Ä–∞–¥–æ—Å—Ç—è–º–∏ –∂–∏–∑–Ω–∏?

    –í—Å—é —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ç—ã —É–∑–Ω–∞–µ—à—å –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞`.
    """

    callback_data
    |> Map.from_struct()
    |> Map.put(:output_message, message)
    |> SendMessage.call()
  end

  def call(
        %CallbackData{
          callback_data: %{
            "pipeline" => @help_callback,
            "type" => @help_callback_edit_description
          }
        } = callback_data
      ) do
    payload = callback_data |> Map.from_struct()

    message = """
    `> üìù –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?`

    –ö –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –ø—É–Ω–∫—Ç–µ ¬´–û–ø–∏—Å–∞–Ω–∏–µ¬ª –∏ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞ —Å —Ç–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç. –ù–∞–ø–∏—à–∏ –≤ –æ—Ç–≤–µ—Ç–µ –ª—é–±–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –æ—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É ‚Äî —Ç–µ–±–µ —Ç—É—Ç –∂–µ –ø—Ä–∏–¥—ë—Ç –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –¢–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –¥–µ—Å–∫—Ç–æ–ø-–≤–µ—Ä—Å–∏–∏ –¢–µ–ª–µ–≥—Ä–∞–º–∞:
    """

    payload
    |> Map.put(:output_message, message)
    |> SendMessage.call()

    payload
    |> Map.put(:output_file_id, get_file_id(:edit_description_example))
    |> SendPhoto.call()

    message = """
    –ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–æ —Å–º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç —Ç–µ–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º, —á—Ç–æ –æ–ø–∏—Å–∞–Ω –≤—ã—à–µ!

    –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫¬†—Å–æ–æ–±—â–µ–Ω–∏—é –æ¬†—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞¬†–ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞, —Ç–æ¬†—Ç—ã¬†—É–≤–∏–¥–∏—à—å —Å–ª–µ–¥—É—é—â–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: `–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –±–æ—Ç –Ω–µ —Å–º–æ–≥ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç–≤–æ–π –æ—Ç–≤–µ—Ç. –í–æ–∑–º–æ–∂–Ω–æ, –æ—Ç–≤–µ—Ç –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π.`.
    """

    payload
    |> Map.put(:output_message, message)
    |> SendMessage.call()

    payload
    |> HelpPipeline.call()
  end

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_limits}
        } = callback_data
      ) do
    message = """
    `> ‚úã –†–∞–±–æ—Ç–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏.`

    –ë–æ—Ç –≥–æ—Ç–æ–≤ —Å—Ç–∞—Ç—å —Ç–≤–æ–∏–º –≥–æ–ª–æ—Å–æ–º —Ä–∞–∑—É–º–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç—Ä–∞—Ç–∞–º–∏ –∏ –æ—Å—É–∂–¥–∞—é—â–µ –æ–ø–æ–≤–µ—â–∞—Ç—å –æ–± –∏–∑–ª–∏—à–Ω–µ–º —Ç—Ä–∞–Ω–∂–∏—Ä—Å—Ç–≤–µ. –î–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π –≤ –Ω–µ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è "–õ–∏–º–∏—Ç–æ–≤".

    "–õ–∏–º–∏—Ç—ã" ‚Äì —ç—Ç–æ –ª—ë–≥–∫–∏–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ç–µ–±–µ –¥–µ—Ä–∂–∞—Ç—å —Ä—É–∫—É –Ω–∞ –ø—É–ª—å—Å–µ –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç. –£—Å—Ç–∞–Ω–æ–≤–∏–≤ –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Ç—ã –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç–≤–æ–∏ —Ç—Ä–∞—Ç—ã –±—É–¥—É—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å `50%`, `70%`, `90%`, –∞ –ø–æ—Ç–æ–º —É–∂–µ –∏ `100%` –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç—ã –º–æ–∂–µ—à—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ç—Ä–∞—Ç—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞ –∏ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—à—å –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—Ç—å –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤.

    –¢—ã –º–æ–∂–µ—à—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ –ª—é–±—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã `/set_limit x y`, –≥–¥–µ:
    `x` ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: `–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è`, `–ü—Ä–æ–¥—É–∫—Ç—ã`;
    `y` ‚Äì —Å—É–º–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –≥–æ—Ç–æ–≤ —Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —ç—Ç—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –º–µ—Å—è—Ü: `50` , `100`, `250`. –ß–∏—Å–ª–æ `0` - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–∞.

    –†–∞–∑–±–µ—Ä—ë–º –ø–∞—Ä—É –ø—Ä–∏–º–µ—Ä–æ–≤:
    –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —Ç—ã —Ä–µ—à–∏–ª —Å–ª–µ–≥–∫–∞ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É—Å–æ–≤–æ–∫ –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –ª–∏–º–∏—Ç –≤ 500 –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª–µ–π –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è": `/set_limit —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è 500`.

    –ö–µ–π—Å ‚Ññ1:
    –°–µ–≥–æ–¥–Ω—è 15-–æ–µ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞, —Ç–≤–æ—è —Å—É–º–º–∞ —Ç—Ä–∞—Ç –ø–æ –¥–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç–∏–≥–ª–∞ 250 –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ä—É–±–ª–µ–π.
    –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Ç–µ–±–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞: `"–í–Ω–∏–º–∞–Ω–∏–µ! –í –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è" –ø–æ—Ç—Ä–∞—á–µ–Ω–æ 50% –º–µ—Å—è—á–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞"` . –¢—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ —Å–µ–π—á–∞—Å —É–∂–µ –≥–¥–µ-—Ç–æ —Å–µ—Ä–µ–¥–∏–Ω–∞ –º–µ—Å—è—Ü–∞. –ü—Ä–∏ —ç—Ç–æ–º —Ç—ã –ø–æ—Ç—Ä–∞—Ç–∏–ª —Ä–æ–≤–Ω–æ 50% –±—é–¥–∂–µ—Ç–∞ ‚Äì –∑–Ω–∞—á–∏—Ç, —Ç—ã –≤—Å—ë –¥–µ–ª–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å–æ–±–æ –Ω–µ –ø–µ—Ä–µ–±–∏—Ä–∞–µ—à—å —Å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è–º–∏, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—à—å—Å—è —Å–µ–±—è —Å–æ–≤—Å–µ–º. –í –æ–±—â–µ–º, –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è –Ω–µ –æ —á–µ–º!

    –ö–µ–π—Å ‚Ññ2:
    –°–µ–≥–æ–¥–Ω—è 6-–æ–µ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞, –∞ —Å—É–º–º–∞ —Ç–≤–æ–∏—Ö —Ç—Ä–∞—Ç —É–∂–µ –¥–æ—Å—Ç–∏–≥–ª–∞ 250 —Ä—É–±–ª–µ–π.
    –¢—ã –ø–æ–ª—É—á–∏—à—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 50% –ø–æ—Ä–æ–≥–∞. –í–æ–∑–º–æ–∂–Ω–æ, —Ç—ã –Ω–µ–ø–ª–æ—Ö–æ –ø—Ä–æ–≤—ë–ª –≤—Ä–µ–º—è, –∏ –ø—Ä–∏—è—Ç–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞–¥–æ–ª–≥–æ –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Å —Ç–æ–±–æ–π. –ù–æ, –Ω–∞–¥–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –≤–ø–µ—Ä–µ–¥–∏ –µ—â—ë —Ü–µ–ª—ã–π –º–µ—Å—è—Ü, –∞ —Ç—ã —É–∂–µ –ø–æ—Ç—Ä–∞—Ç–∏–ª –ø–æ–ª–æ–≤–∏–Ω—É –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤! –°—Ç–æ–∏—Ç —É–º–µ–Ω—å—à–∏—Ç—å —Ç—Ä–∞—Ç—ã –Ω–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –¥–µ—Ä–∂–∞—Ç—å —Å–µ–±—è –≤ —Ä—É–∫–∞—Ö. –ï—Å–ª–∏ —Ç—ã, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –Ω–∞ —Ç–µ–±—è –Ω–∞—á–∞–ª —Ä—É–≥–∞—Ç—å—Å—è –±–æ—Ç.

    –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–µ–∫—É—â–∏—Ö —Ç—Ä–∞—Ç –ø–æ –ª–∏–º–∏—Ç–∞–º, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –∫–æ–º–∞–Ω–¥–æ–π /limits.
    """

    callback_data
    |> Map.from_struct()
    |> Map.put(:output_message, message)
    |> SendMessage.call()
  end

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_support}
        } = callback_data
      ) do
    message = """
    `> üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞.`

    –ü–æ –≤—Å–µ–º –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Ç—ã –º–æ–∂–µ—à—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ —á–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ [https://t.me/markevich_support].
    """

    callback_data
    |> Map.from_struct()
    |> Map.put(:output_message, message)
    |> SendMessage.call()
  end

  def call(
        %CallbackData{
          callback_data: %{"pipeline" => @help_callback, "type" => @help_callback_bug}
        } = callback_data
      ) do
    message = """
    `> üêû –°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ.`

    –ï—Å–ª–∏ —Ç—ã –Ω–∞—à–µ–ª –∫–∞–∫—É—é-—Ç–æ –æ—à–∏–±–∫—É –≤ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞ –∏–ª–∏ —É —Ç–µ–±—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ) –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ - –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—à—å –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —á–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ [https://t.me/markevich_support].
    """

    callback_data
    |> Map.from_struct()
    |> Map.put(:output_message, message)
    |> SendMessage.call()
  end

  defp get_file_id(picture_name) do
    Application.get_env(:markevich_money, :tg_file_ids)[:help][picture_name]
  end
end
