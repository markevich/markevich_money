/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={902:function(t){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){(function(e){t.exports=e.Phoenix=n(2)}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}n.r(e),n.d(e,"Channel",(function(){return O})),n.d(e,"Serializer",(function(){return R})),n.d(e,"Socket",(function(){return N})),n.d(e,"LongPoll",(function(){return I})),n.d(e,"Ajax",(function(){return H})),n.d(e,"Presence",(function(){return F}));var d="undefined"!=typeof self?self:null,h="undefined"!=typeof window?window:null,f=d||h||void 0,g=0,p=1,m=2,v=3,b="closed",y="errored",x="joined",w="joining",k="leaving",_="phx_close",M="phx_error",T="phx_join",S="phx_reply",C="phx_leave",P=[_,M,T,S,C],E="longpoll",D="websocket",A=function(t){return"function"==typeof t?t:function(){return t}},L=function(){function t(e,n,i,r){l(this,t),this.channel=e,this.event=n,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return u(t,[{key:"resend",value:function(t){this.timeout=t,this.reset(),this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"receive",value:function(t,e){return this.hasReceived(t)&&e(this.receivedResp.response),this.recHooks.push({status:t,callback:e}),this}},{key:"reset",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:"matchReceive",value:function(t){var e=t.status,n=t.response;t.ref,this.recHooks.filter((function(t){return t.status===e})).forEach((function(t){return t.callback(n)}))}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var t=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(e){t.cancelRefEvent(),t.cancelTimeout(),t.receivedResp=e,t.matchReceive(e)})),this.timeoutTimer=setTimeout((function(){t.trigger("timeout",{})}),this.timeout)}},{key:"hasReceived",value:function(t){return this.receivedResp&&this.receivedResp.status===t}},{key:"trigger",value:function(t,e){this.channel.trigger(this.refEvent,{status:t,response:e})}}]),t}(),O=function(){function t(e,n,i){var r=this;l(this,t),this.state=b,this.topic=e,this.params=A(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new L(this,T,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new j((function(){r.socket.isConnected()&&r.rejoin()}),this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError((function(){return r.rejoinTimer.reset()}))),this.stateChangeRefs.push(this.socket.onOpen((function(){r.rejoinTimer.reset(),r.isErrored()&&r.rejoin()}))),this.joinPush.receive("ok",(function(){r.state=x,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(t){return t.send()})),r.pushBuffer=[]})),this.joinPush.receive("error",(function(){r.state=y,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.onClose((function(){r.rejoinTimer.reset(),r.socket.hasLogger()&&r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=b,r.socket.remove(r)})),this.onError((function(t){r.socket.hasLogger()&&r.socket.log("channel","error ".concat(r.topic),t),r.isJoining()&&r.joinPush.reset(),r.state=y,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.joinPush.receive("timeout",(function(){r.socket.hasLogger()&&r.socket.log("channel","timeout ".concat(r.topic," (").concat(r.joinRef(),")"),r.joinPush.timeout),new L(r,C,A({}),r.timeout).send(),r.state=y,r.joinPush.reset(),r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()})),this.on(S,(function(t,e){r.trigger(r.replyEventName(e),t)}))}return u(t,[{key:"join",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=t,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:"onClose",value:function(t){this.on(_,t)}},{key:"onError",value:function(t){return this.on(M,(function(e){return t(e)}))}},{key:"on",value:function(t,e){var n=this.bindingRef++;return this.bindings.push({event:t,ref:n,callback:e}),n}},{key:"off",value:function(t,e){this.bindings=this.bindings.filter((function(n){return!(n.event===t&&(void 0===e||e===n.ref))}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw new Error("tried to push '".concat(t,"' to '").concat(this.topic,"' before joining. Use channel.join() before pushing events"));var i=new L(this,t,(function(){return e}),n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:"leave",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=k;var n=function(){t.socket.hasLogger()&&t.socket.log("channel","leave ".concat(t.topic)),t.trigger(_,"leave")},i=new L(this,C,A({}),e);return i.receive("ok",(function(){return n()})).receive("timeout",(function(){return n()})),i.send(),this.canPush()||i.trigger("ok",{}),i}},{key:"onMessage",value:function(t,e,n){return e}},{key:"isLifecycleEvent",value:function(t){return P.indexOf(t)>=0}},{key:"isMember",value:function(t,e,n,i){return!(this.topic!==t||i&&i!==this.joinRef()&&this.isLifecycleEvent(e)&&(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:t,event:e,payload:n,joinRef:i}),1))}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=w,this.joinPush.resend(t))}},{key:"trigger",value:function(t,e,n,i){var r=this.onMessage(t,e,n,i);if(e&&!r)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");for(var o=this.bindings.filter((function(e){return e.event===t})),a=0;a<o.length;a++)o[a].callback(r,n,i||this.joinRef())}},{key:"replyEventName",value:function(t){return"chan_reply_".concat(t)}},{key:"isClosed",value:function(){return this.state===b}},{key:"isErrored",value:function(){return this.state===y}},{key:"isJoined",value:function(){return this.state===x}},{key:"isJoining",value:function(){return this.state===w}},{key:"isLeaving",value:function(){return this.state===k}}]),t}(),R={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode:function(t,e){if(t.payload.constructor===ArrayBuffer)return e(this.binaryEncode(t));var n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(n))},decode:function(t,e){if(t.constructor===ArrayBuffer)return e(this.binaryDecode(t));var n=o(JSON.parse(t),5);return e({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})},binaryEncode:function(t){var e=t.join_ref,n=t.ref,i=t.event,r=t.topic,o=t.payload,a=this.META_LENGTH+e.length+n.length+r.length+i.length,s=new ArrayBuffer(this.HEADER_LENGTH+a),l=new DataView(s),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,e.length),l.setUint8(c++,n.length),l.setUint8(c++,r.length),l.setUint8(c++,i.length),Array.from(e,(function(t){return l.setUint8(c++,t.charCodeAt(0))})),Array.from(n,(function(t){return l.setUint8(c++,t.charCodeAt(0))})),Array.from(r,(function(t){return l.setUint8(c++,t.charCodeAt(0))})),Array.from(i,(function(t){return l.setUint8(c++,t.charCodeAt(0))}));var u=new Uint8Array(s.byteLength+o.byteLength);return u.set(new Uint8Array(s),0),u.set(new Uint8Array(o),s.byteLength),u.buffer},binaryDecode:function(t){var e=new DataView(t),n=e.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(t,e,i);case this.KINDS.reply:return this.decodeReply(t,e,i);case this.KINDS.broadcast:return this.decodeBroadcast(t,e,i)}},decodePush:function(t,e,n){var i=e.getUint8(1),r=e.getUint8(2),o=e.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,s=n.decode(t.slice(a,a+i));a+=i;var l=n.decode(t.slice(a,a+r));a+=r;var c=n.decode(t.slice(a,a+o));return a+=o,{join_ref:s,ref:null,topic:l,event:c,payload:t.slice(a,t.byteLength)}},decodeReply:function(t,e,n){var i=e.getUint8(1),r=e.getUint8(2),o=e.getUint8(3),a=e.getUint8(4),s=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(t.slice(s,s+i));s+=i;var c=n.decode(t.slice(s,s+r));s+=r;var u=n.decode(t.slice(s,s+o));s+=o;var d=n.decode(t.slice(s,s+a));s+=a;var h=t.slice(s,t.byteLength);return{join_ref:l,ref:c,topic:u,event:S,payload:{status:d,response:h}}},decodeBroadcast:function(t,e,n){var i=e.getUint8(1),r=e.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(t.slice(o,o+i));o+=i;var s=n.decode(t.slice(o,o+r));return o+=r,{join_ref:null,ref:null,topic:a,event:s,payload:t.slice(o,t.byteLength)}}},N=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||f.WebSocket||I,this.defaultEncoder=R.encode.bind(R),this.defaultDecoder=R.decode.bind(R),this.closeWasClean=!1,this.unloaded=!1,this.binaryType=i.binaryType||"arraybuffer",this.transport!==I?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),h&&h.addEventListener&&h.addEventListener("unload",(function(t){n.conn&&(n.unloaded=!0,n.abnormalClose("unloaded"))})),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(t){return i.rejoinAfterMs?i.rejoinAfterMs(t):[1e3,2e3,5e3][t-1]||1e4},this.reconnectAfterMs=function(t){return n.unloaded?100:i.reconnectAfterMs?i.reconnectAfterMs(t):[10,50,100,150,200,250,500,1e3,2e3][t-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=A(i.params||{}),this.endPoint="".concat(e,"/").concat(D),this.vsn=i.vsn||"2.0.0",this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new j((function(){n.teardown((function(){return n.connect()}))}),this.reconnectAfterMs)}return u(t,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var t=H.appendParams(H.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==t.charAt(0)?t:"/"===t.charAt(1)?"".concat(this.protocol(),":").concat(t):"".concat(this.protocol(),"://").concat(location.host).concat(t)}},{key:"disconnect",value:function(t,e,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(t,e,n)}},{key:"connect",value:function(t){var e=this;t&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=A(t)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return e.onConnOpen()},this.conn.onerror=function(t){return e.onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e.onConnClose(t)})}},{key:"log",value:function(t,e,n){this.logger(t,e,n)}},{key:"hasLogger",value:function(){return null!==this.logger}},{key:"onOpen",value:function(t){var e=this.makeRef();return this.stateChangeCallbacks.open.push([e,t]),e}},{key:"onClose",value:function(t){var e=this.makeRef();return this.stateChangeCallbacks.close.push([e,t]),e}},{key:"onError",value:function(t){var e=this.makeRef();return this.stateChangeCallbacks.error.push([e,t]),e}},{key:"onMessage",value:function(t){var e=this.makeRef();return this.stateChangeCallbacks.message.push([e,t]),e}},{key:"onConnOpen",value:function(){this.hasLogger()&&this.log("transport","connected to ".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(t){return(0,o(t,2)[1])()}))}},{key:"resetHeartbeat",value:function(){var t=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return t.sendHeartbeat()}),this.heartbeatIntervalMs))}},{key:"teardown",value:function(t,e,n){var i=this;if(!this.conn)return t&&t();this.waitForBufferDone((function(){i.conn&&(e?i.conn.close(e,n||""):i.conn.close()),i.waitForSocketClosed((function(){i.conn&&(i.conn.onclose=function(){},i.conn=null),t&&t()}))}))}},{key:"waitForBufferDone",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.bufferedAmount?setTimeout((function(){e.waitForBufferDone(t,n+1)}),150*n):t()}},{key:"waitForSocketClosed",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.readyState!==v?setTimeout((function(){e.waitForSocketClosed(t,n+1)}),150*n):t()}},{key:"onConnClose",value:function(t){this.hasLogger()&&this.log("transport","close",t),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(e){return(0,o(e,2)[1])(t)}))}},{key:"onConnError",value:function(t){this.hasLogger()&&this.log("transport",t),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((function(e){return(0,o(e,2)[1])(t)}))}},{key:"triggerChanError",value:function(){this.channels.forEach((function(t){t.isErrored()||t.isLeaving()||t.isClosed()||t.trigger(M)}))}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case g:return"connecting";case p:return"open";case m:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(t){this.off(t.stateChangeRefs),this.channels=this.channels.filter((function(e){return e.joinRef()!==t.joinRef()}))}},{key:"off",value:function(t){for(var e in this.stateChangeCallbacks)this.stateChangeCallbacks[e]=this.stateChangeCallbacks[e].filter((function(e){var n=o(e,1)[0];return-1===t.indexOf(n)}))}},{key:"channel",value:function(t){var e=new O(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this);return this.channels.push(e),e}},{key:"push",value:function(t){var e=this;if(this.hasLogger()){var n=t.topic,i=t.event,r=t.payload,o=t.ref,a=t.join_ref;this.log("push","".concat(n," ").concat(i," (").concat(a,", ").concat(o,")"),r)}this.isConnected()?this.encode(t,(function(t){return e.conn.send(t)})):this.sendBuffer.push((function(){return e.encode(t,(function(t){return e.conn.send(t)}))}))}},{key:"makeRef",value:function(){var t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}},{key:"sendHeartbeat",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void this.abnormalClose("heartbeat timeout");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}},{key:"abnormalClose",value:function(t){this.closeWasClean=!1,this.conn.readyState===p&&this.conn.close(1e3,t)}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(t){return t()})),this.sendBuffer=[])}},{key:"onConnMessage",value:function(t){var e=this;this.decode(t.data,(function(t){var n=t.topic,i=t.event,r=t.payload,a=t.ref,s=t.join_ref;a&&a===e.pendingHeartbeatRef&&(e.pendingHeartbeatRef=null),e.hasLogger()&&e.log("receive","".concat(r.status||""," ").concat(n," ").concat(i," ").concat(a&&"("+a+")"||""),r);for(var l=0;l<e.channels.length;l++){var c=e.channels[l];c.isMember(n,i,r,s)&&c.trigger(i,r,a,s)}for(var u=0;u<e.stateChangeCallbacks.message.length;u++)(0,o(e.stateChangeCallbacks.message[u],2)[1])(t)}))}},{key:"leaveOpenTopic",value:function(t){var e=this.channels.find((function(e){return e.topic===t&&(e.isJoined()||e.isJoining())}));e&&(this.hasLogger()&&this.log("transport",'leaving duplicate topic "'.concat(t,'"')),e.leave())}}]),t}(),I=function(){function t(e){l(this,t),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=g,this.poll()}return u(t,[{key:"normalizeEndpoint",value:function(t){return t.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+D),"$1/"+E)}},{key:"endpointURL",value:function(){return H.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=g}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var t=this;this.readyState!==p&&this.readyState!==g||H.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),(function(e){if(e){var n=e.status,i=e.token,r=e.messages;t.token=i}else n=0;switch(n){case 200:r.forEach((function(e){return t.onmessage({data:e})})),t.poll();break;case 204:t.poll();break;case 410:t.readyState=p,t.onopen(),t.poll();break;case 403:t.onerror(),t.close();break;case 0:case 500:t.onerror(),t.closeAndRetry();break;default:throw new Error("unhandled poll status ".concat(n))}}))}},{key:"send",value:function(t){var e=this;H.request("POST",this.endpointURL(),"application/json",t,this.timeout,this.onerror.bind(this,"timeout"),(function(t){t&&200===t.status||(e.onerror(t&&t.status),e.closeAndRetry())}))}},{key:"close",value:function(t,e){this.readyState=v,this.onclose()}}]),t}(),H=function(){function t(){l(this,t)}return u(t,null,[{key:"request",value:function(t,e,n,i,r,o,a){if(f.XDomainRequest){var s=new XDomainRequest;this.xdomainRequest(s,t,e,i,r,o,a)}else{var l=new f.XMLHttpRequest;this.xhrRequest(l,t,e,n,i,r,o,a)}}},{key:"xdomainRequest",value:function(t,e,n,i,r,o,a){var s=this;t.timeout=r,t.open(e,n),t.onload=function(){var e=s.parseJSON(t.responseText);a&&a(e)},o&&(t.ontimeout=o),t.onprogress=function(){},t.send(i)}},{key:"xhrRequest",value:function(t,e,n,i,r,o,a,s){var l=this;t.open(e,n,!0),t.timeout=o,t.setRequestHeader("Content-Type",i),t.onerror=function(){s&&s(null)},t.onreadystatechange=function(){if(t.readyState===l.states.complete&&s){var e=l.parseJSON(t.responseText);s(e)}},a&&(t.ontimeout=a),t.send(r)}},{key:"parseJSON",value:function(t){if(!t||""===t)return null;try{return JSON.parse(t)}catch(e){return console&&console.log("failed to parse JSON response",t),null}}},{key:"serialize",value:function(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var o=e?"".concat(e,"[").concat(i,"]"):i,a=t[i];"object"===r(a)?n.push(this.serialize(a,o)):n.push(encodeURIComponent(o)+"="+encodeURIComponent(a))}return n.join("&")}},{key:"appendParams",value:function(t,e){if(0===Object.keys(e).length)return t;var n=t.match(/\?/)?"&":"?";return"".concat(t).concat(n).concat(this.serialize(e))}}]),t}();H.states={complete:4};var F=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t);var r=i.events||{state:"presence_state",diff:"presence_diff"};this.state={},this.pendingDiffs=[],this.channel=e,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(r.state,(function(e){var i=n.caller,r=i.onJoin,o=i.onLeave,a=i.onSync;n.joinRef=n.channel.joinRef(),n.state=t.syncState(n.state,e,r,o),n.pendingDiffs.forEach((function(e){n.state=t.syncDiff(n.state,e,r,o)})),n.pendingDiffs=[],a()})),this.channel.on(r.diff,(function(e){var i=n.caller,r=i.onJoin,o=i.onLeave,a=i.onSync;n.inPendingSyncState()?n.pendingDiffs.push(e):(n.state=t.syncDiff(n.state,e,r,o),a())}))}return u(t,[{key:"onJoin",value:function(t){this.caller.onJoin=t}},{key:"onLeave",value:function(t){this.caller.onLeave=t}},{key:"onSync",value:function(t){this.caller.onSync=t}},{key:"list",value:function(e){return t.list(this.state,e)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(t,e,n,i){var r=this,o=this.clone(t),a={},s={};return this.map(o,(function(t,n){e[t]||(s[t]=n)})),this.map(e,(function(t,e){var n=o[t];if(n){var i=e.metas.map((function(t){return t.phx_ref})),l=n.metas.map((function(t){return t.phx_ref})),c=e.metas.filter((function(t){return l.indexOf(t.phx_ref)<0})),u=n.metas.filter((function(t){return i.indexOf(t.phx_ref)<0}));c.length>0&&(a[t]=e,a[t].metas=c),u.length>0&&(s[t]=r.clone(n),s[t].metas=u)}else a[t]=e})),this.syncDiff(o,{joins:a,leaves:s},n,i)}},{key:"syncDiff",value:function(t,e,n,r){var o=e.joins,a=e.leaves,s=this.clone(t);return n||(n=function(){}),r||(r=function(){}),this.map(o,(function(t,e){var r=s[t];if(s[t]=e,r){var o,a=s[t].metas.map((function(t){return t.phx_ref})),l=r.metas.filter((function(t){return a.indexOf(t.phx_ref)<0}));(o=s[t].metas).unshift.apply(o,i(l))}n(t,r,e)})),this.map(a,(function(t,e){var n=s[t];if(n){var i=e.metas.map((function(t){return t.phx_ref}));n.metas=n.metas.filter((function(t){return i.indexOf(t.phx_ref)<0})),r(t,n,e),0===n.metas.length&&delete s[t]}})),s}},{key:"list",value:function(t,e){return e||(e=function(t,e){return e}),this.map(t,(function(t,n){return e(t,n)}))}},{key:"map",value:function(t,e){return Object.getOwnPropertyNames(t).map((function(n){return e(n,t[n])}))}},{key:"clone",value:function(t){return JSON.parse(JSON.stringify(t))}}]),t}(),j=function(){function t(e,n){l(this,t),this.callback=e,this.timerCalc=n,this.timer=null,this.tries=0}return u(t,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.tries=t.tries+1,t.callback()}),this.timerCalc(this.tries+1))}}]),t}()}])},458:()=>{"use strict";!function(){var t=function(){if("function"==typeof window.CustomEvent)return window.CustomEvent;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}return t.prototype=window.Event.prototype,t}();function e(t,e){var n=document.createElement("input");return n.type="hidden",n.name=t,n.value=e,n}function n(t){var n=t.getAttribute("data-to"),i=e("_method",t.getAttribute("data-method")),r=e("_csrf_token",t.getAttribute("data-csrf")),o=document.createElement("form"),a=t.getAttribute("target");o.method="get"===t.getAttribute("data-method")?"get":"post",o.action=n,o.style.display="hidden",a&&(o.target=a),o.appendChild(r),o.appendChild(i),document.body.appendChild(o),o.submit()}window.addEventListener("click",(function(e){for(var i=e.target;i&&i.getAttribute;){var r=new t("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!i.dispatchEvent(r))return e.preventDefault(),e.stopImmediatePropagation(),!1;if(i.getAttribute("data-method"))return n(i),e.preventDefault(),!1;i=i.parentNode}}),!1),window.addEventListener("phoenix.link.click",(function(t){var e=t.target.getAttribute("data-confirm");e&&!window.confirm(e)&&t.preventDefault()}),!1)}()},789:function(t){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";n.r(e);var i,r=11,o="http://www.w3.org/1999/xhtml",a="undefined"==typeof document?void 0:document,s=!!a&&"content"in a.createElement("template"),l=!!a&&a.createRange&&"createContextualFragment"in a.createRange();function c(t){return t=t.trim(),s?function(t){var e=a.createElement("template");return e.innerHTML=t,e.content.childNodes[0]}(t):l?function(t){return i||(i=a.createRange()).selectNode(a.body),i.createContextualFragment(t).childNodes[0]}(t):function(t){var e=a.createElement("body");return e.innerHTML=t,e.childNodes[0]}(t)}function u(t,e){var n,i,r=t.nodeName,o=e.nodeName;return r===o||(n=r.charCodeAt(0),i=o.charCodeAt(0),n<=90&&i>=97?r===o.toUpperCase():i<=90&&n>=97&&o===r.toUpperCase())}function d(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n))}var h={OPTION:function(t,e){var n=t.parentNode;if(n){var i=n.nodeName.toUpperCase();"OPTGROUP"===i&&(i=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==i||n.hasAttribute("multiple")||(t.hasAttribute("selected")&&!e.selected&&(t.setAttribute("selected","selected"),t.removeAttribute("selected")),n.selectedIndex=-1)}d(t,e,"selected")},INPUT:function(t,e){d(t,e,"checked"),d(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),e.hasAttribute("value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n);var i=t.firstChild;if(i){var r=i.nodeValue;if(r==n||!n&&r==t.placeholder)return;i.nodeValue=n}},SELECT:function(t,e){if(!e.hasAttribute("multiple")){for(var n,i,r=-1,o=0,a=t.firstChild;a;)if("OPTGROUP"===(i=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===i){if(a.hasAttribute("selected")){r=o;break}o++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}t.selectedIndex=r}}},f=1,g=11,p=3,m=8;function v(){}function b(t){if(t)return t.getAttribute&&t.getAttribute("id")||t.id}var y=function(t){return function(e,n,i){if(i||(i={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName){var r=n;(n=a.createElement("html")).innerHTML=r}else n=c(n);var s=i.getNodeKey||b,l=i.onBeforeNodeAdded||v,d=i.onNodeAdded||v,y=i.onBeforeElUpdated||v,x=i.onElUpdated||v,w=i.onBeforeNodeDiscarded||v,k=i.onNodeDiscarded||v,_=i.onBeforeElChildrenUpdated||v,M=!0===i.childrenOnly,T=Object.create(null),S=[];function C(t){S.push(t)}function P(t,e,n){!1!==w(t)&&(e&&e.removeChild(t),k(t),function t(e,n){if(e.nodeType===f)for(var i=e.firstChild;i;){var r=void 0;n&&(r=s(i))?C(r):(k(i),i.firstChild&&t(i,n)),i=i.nextSibling}}(t,n))}function E(t){d(t);for(var e=t.firstChild;e;){var n=e.nextSibling,i=s(e);if(i){var r=T[i];r&&u(e,r)?(e.parentNode.replaceChild(r,e),D(r,e)):E(e)}else E(e);e=n}}function D(e,n,i){var r=s(n);if(r&&delete T[r],!i){if(!1===y(e,n))return;if(t(e,n),x(e),!1===_(e,n))return}"TEXTAREA"!==e.nodeName?function(t,e){var n,i,r,o,c,d=e.firstChild,g=t.firstChild;t:for(;d;){for(o=d.nextSibling,n=s(d);g;){if(r=g.nextSibling,d.isSameNode&&d.isSameNode(g)){d=o,g=r;continue t}i=s(g);var v=g.nodeType,b=void 0;if(v===d.nodeType&&(v===f?(n?n!==i&&((c=T[n])?r===c?b=!1:(t.insertBefore(c,g),i?C(i):P(g,t,!0),g=c):b=!1):i&&(b=!1),(b=!1!==b&&u(g,d))&&D(g,d)):v!==p&&v!=m||(b=!0,g.nodeValue!==d.nodeValue&&(g.nodeValue=d.nodeValue))),b){d=o,g=r;continue t}i?C(i):P(g,t,!0),g=r}if(n&&(c=T[n])&&u(c,d))t.appendChild(c),D(c,d);else{var y=l(d);!1!==y&&(y&&(d=y),d.actualize&&(d=d.actualize(t.ownerDocument||a)),t.appendChild(d),E(d))}d=o,g=r}!function(t,e,n){for(;e;){var i=e.nextSibling;(n=s(e))?C(n):P(e,t,!0),e=i}}(t,g,i);var x=h[t.nodeName];x&&x(t,e)}(e,n):h.TEXTAREA(e,n)}!function t(e){if(e.nodeType===f||e.nodeType===g)for(var n=e.firstChild;n;){var i=s(n);i&&(T[i]=n),t(n),n=n.nextSibling}}(e);var A=e,L=A.nodeType,O=n.nodeType;if(!M)if(L===f)O===f?u(e,n)||(k(e),A=function(t,e){for(var n=t.firstChild;n;){var i=n.nextSibling;e.appendChild(n),n=i}return e}(e,function(t,e){return e&&e!==o?a.createElementNS(e,t):a.createElement(t)}(n.nodeName,n.namespaceURI))):A=n;else if(L===p||L===m){if(O===L)return A.nodeValue!==n.nodeValue&&(A.nodeValue=n.nodeValue),A;A=n}if(A===n)k(e);else{if(n.isSameNode&&n.isSameNode(A))return;if(D(A,n,M),S)for(var R=0,N=S.length;R<N;R++){var I=T[S[R]];I&&P(I,I.parentNode,!1)}}return!M&&A!==e&&e.parentNode&&(A.actualize&&(A=A.actualize(e.ownerDocument||a)),e.parentNode.replaceChild(A,e)),A}}((function(t,e){var n,i,o,a,s=e.attributes;if(e.nodeType!==r&&t.nodeType!==r){for(var l=s.length-1;l>=0;l--)i=(n=s[l]).name,o=n.namespaceURI,a=n.value,o?(i=n.localName||i,t.getAttributeNS(o,i)!==a&&("xmlns"===n.prefix&&(i=n.name),t.setAttributeNS(o,i,a))):t.getAttribute(i)!==a&&t.setAttribute(i,a);for(var c=t.attributes,u=c.length-1;u>=0;u--)i=(n=c[u]).name,(o=n.namespaceURI)?(i=n.localName||i,e.hasAttributeNS(o,i)||t.removeAttributeNS(o,i)):e.hasAttribute(i)||t.removeAttribute(i)}}));function x(t){return D(t)||M(t)||A(t)||E()}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return function(t){if(Array.isArray(t))return L(t)}(t)||M(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}function P(t,e){return D(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||A(t,e)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(t){if(Array.isArray(t))return t}function A(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"debug",(function(){return G})),n.d(e,"Rendered",(function(){return et})),n.d(e,"LiveSocket",(function(){return nt})),n.d(e,"Browser",(function(){return it})),n.d(e,"DOM",(function(){return rt})),n.d(e,"View",(function(){return st}));var R=[1e3,3e3],N="data-phx-view",I=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading"],H="data-phx-component",F="data-phx-ref",j="[".concat(N,"]"),U=["text","textarea","number","email","password","search","tel","url","date","time"],W=["checkbox","radio"],B="data-phx-static",z=1,V="phx-",Y={debounce:300,throttle:300},q=function(t,e){return console.error&&console.error(t,e)},G=function(t,e,n,i){t.liveSocket.isDebugEnabled()&&console.log("".concat(t.id," ").concat(e,": ").concat(n," - "),i)},X=function(t){return"function"==typeof t?t:function(){return t}},J=function(t){return JSON.parse(JSON.stringify(t))},Q=function(t,e,n){do{if(t.matches("[".concat(e,"]")))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType&&!(n&&n.isSameNode(t)||t.matches(j)));return null},$=function(t){return null!==t&&"object"===O(t)&&!(t instanceof Array)},K=function(t){for(var e in t)return!1;return!0},Z=function(t,e){return t&&e(t)},tt=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new FormData(t),r=new URLSearchParams,o=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=A(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}(i.entries());try{for(o.s();!(e=o.n()).done;){var a=P(e.value,2),s=a[0],l=a[1];r.append(s,l)}}catch(t){o.e(t)}finally{o.f()}for(var c in n)r.append(c,n[c]);return r.toString()},et=function(){function t(e,n){T(this,t),this.viewId=e,this.rendered={},this.mergeDiff(n)}return C(t,null,[{key:"extract",value:function(t){var e=t.r,n=t.e,i=t.t;return delete t.r,delete t.e,delete t.t,{diff:t,title:i,reply:e||null,events:n||[]}}}]),C(t,[{key:"parentViewId",value:function(){return this.viewId}},{key:"toString",value:function(t){return this.recursiveToString(this.rendered,this.rendered.c,t)}},{key:"recursiveToString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.c,n=arguments.length>2?arguments[2]:void 0,i={buffer:"",components:e,onlyCids:n=n?new Set(n):null};return this.toOutputBuffer(t,i),i.buffer}},{key:"componentCIDs",value:function(t){return Object.keys(t.c||{}).map((function(t){return parseInt(t)}))}},{key:"isComponentOnlyDiff",value:function(t){return!!t.c&&1===Object.keys(t).length}},{key:"getComponent",value:function(t,e){return t.c[e]}},{key:"mergeDiff",value:function(t){var e=t.c;if(delete t.c,this.rendered=this.recursiveMerge(this.rendered,t),this.rendered.c=this.rendered.c||{},e){var n=this.rendered.c;for(var i in e){var r=e[i],o=r,a=o.s;if("number"==typeof a){for(;"number"==typeof a;)a=(o=a>0?e[a]:n[-a]).s;o=J(o),this.doRecursiveMerge(o,r),o.s=a}else o=n[i]||{},o=this.recursiveMerge(o,r);e[i]=o}for(var s in e)n[s]=e[s];t.c=e}}},{key:"recursiveMerge",value:function(t,e){return void 0!==e.s?e:(this.doRecursiveMerge(t,e),t)}},{key:"doRecursiveMerge",value:function(t,e){for(var n in e){var i=e[n],r=t[n];$(i)&&void 0===i.s&&$(r)?this.doRecursiveMerge(r,i):t[n]=i}}},{key:"componentToString",value:function(t){return this.recursiveCIDToString(this.rendered.c,t)}},{key:"pruneCIDs",value:function(t){var e=this;t.forEach((function(t){return delete e.rendered.c[t]}))}},{key:"get",value:function(){return this.rendered}},{key:"isNewFingerprint",value:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).s}},{key:"toOutputBuffer",value:function(t,e){if(t.d)return this.comprehensionToBuffer(t,e);var n=t.s;e.buffer+=n[0];for(var i=1;i<n.length;i++)this.dynamicToBuffer(t[i-1],e),e.buffer+=n[i]}},{key:"comprehensionToBuffer",value:function(t,e){for(var n=t.d,i=t.s,r=0;r<n.length;r++){var o=n[r];e.buffer+=i[0];for(var a=1;a<i.length;a++)this.dynamicToBuffer(o[a-1],e),e.buffer+=i[a]}}},{key:"dynamicToBuffer",value:function(t,e){"number"==typeof t?e.buffer+=this.recursiveCIDToString(e.components,t,e.onlyCids):$(t)?this.toOutputBuffer(t,e):e.buffer+=t}},{key:"recursiveCIDToString",value:function(t,e,n){var i=this,r=t[e]||q("no component for CID ".concat(e),t),o=document.createElement("template");o.innerHTML=this.recursiveToString(r,t,n);var a=o.content,s=n&&!n.has(e),l=P(Array.from(a.childNodes).reduce((function(t,n,r){var a=P(t,2),l=a[0],c=a[1];return n.nodeType===Node.ELEMENT_NODE?n.getAttribute(H)?[l,!0]:(n.setAttribute(H,e),n.id||(n.id="".concat(i.parentViewId(),"-").concat(e,"-").concat(r)),s&&(n.setAttribute("data-phx-skip",""),n.innerHTML=""),[!0,c]):""!==n.nodeValue.trim()?(q("only HTML element tags are allowed at the root of components.\n\n"+'got: "'.concat(n.nodeValue.trim(),'"\n\n')+"within:\n",o.innerHTML.trim()),n.replaceWith(i.createSpan(n.nodeValue,e)),[!0,c]):(n.remove(),[l,c])}),[!1,!1]),2),c=l[0],u=l[1];return c||u?!c&&u?(q("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.",o.innerHTML.trim()),o.innerHTML):o.innerHTML:(q("expected at least one HTML element tag inside a component, but the component is empty:\n",o.innerHTML.trim()),this.createSpan("",e).outerHTML)}},{key:"createSpan",value:function(t,e){var n=document.createElement("span");return n.innerText=t,n.setAttribute(H,e),n}}]),t}(),nt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(T(this,t),this.unloaded=!1,!n||"Object"===n.constructor.name)throw new Error('\n      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:\n\n          import {Socket} from "phoenix"\n          import {LiveSocket} from "phoenix_live_view"\n          let liveSocket = new LiveSocket("/live", Socket, {...})\n      ');this.socket=new n(e,r),this.bindingPrefix=r.bindingPrefix||V,this.opts=r,this.params=X(r.params||{}),this.viewLogger=r.viewLogger,this.metadataCallbacks=r.metadata||{},this.defaults=Object.assign(J(Y),r.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.linkRef=0,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=J(window.location),this.hooks=r.hooks||{},this.loaderTimeout=r.loaderTimeout||z,this.boundTopLevelEvents=!1,this.domCallbacks=r.dom||{onBeforeElUpdated:X()},window.addEventListener("unload",(function(t){i.unloaded=!0})),this.socket.onOpen((function(){i.isUnloaded()&&window.location.reload()}))}return C(t,[{key:"isProfileEnabled",value:function(){return"true"===sessionStorage.getItem("phx:live-socket:profiling")}},{key:"isDebugEnabled",value:function(){return"true"===sessionStorage.getItem("phx:live-socket:debug")}},{key:"enableDebug",value:function(){sessionStorage.setItem("phx:live-socket:debug","true")}},{key:"enableProfiling",value:function(){sessionStorage.setItem("phx:live-socket:profiling","true")}},{key:"disableDebug",value:function(){sessionStorage.removeItem("phx:live-socket:debug")}},{key:"disableProfiling",value:function(){sessionStorage.removeItem("phx:live-socket:profiling")}},{key:"enableLatencySim",value:function(t){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),sessionStorage.setItem("phx:live-socket:latency-sim",t)}},{key:"disableLatencySim",value:function(){sessionStorage.removeItem("phx:live-socket:latency-sim")}},{key:"getLatencySim",value:function(){var t=sessionStorage.getItem("phx:live-socket:latency-sim");return t?parseInt(t):null}},{key:"getSocket",value:function(){return this.socket}},{key:"connect",value:function(){var t=this,e=function(){t.joinRootViews()&&(t.bindTopLevelEvents(),t.socket.connect())};["complete","loaded","interactive"].indexOf(document.readyState)>=0?e():document.addEventListener("DOMContentLoaded",(function(){return e()}))}},{key:"disconnect",value:function(t){this.socket.disconnect(t)}},{key:"triggerDOM",value:function(t,e){var n;(n=this.domCallbacks)[t].apply(n,_(e))}},{key:"time",value:function(t,e){if(!this.isProfileEnabled()||!console.time)return e();console.time(t);var n=e();return console.timeEnd(t),n}},{key:"log",value:function(t,e,n){if(this.viewLogger){var i=P(n(),2),r=i[0],o=i[1];this.viewLogger(t,e,r,o)}else if(this.isDebugEnabled()){var a=P(n(),2),s=a[0],l=a[1];G(t,e,s,l)}}},{key:"onChannel",value:function(t,e,n){var i=this;t.on(e,(function(t){var e=i.getLatencySim();e?(console.log("simulating ".concat(e,"ms of latency from server to client")),setTimeout((function(){return n(t)}),e)):n(t)}))}},{key:"wrapPush",value:function(t){var e=this.getLatencySim();if(!e)return t();console.log("simulating ".concat(e,"ms of latency from client to server"));var n={receives:[],receive:function(t,e){this.receives.push([t,e])}};return setTimeout((function(){n.receives.reduce((function(t,e){var n=P(e,2),i=n[0],r=n[1];return t.receive(i,r)}),t())}),e),n}},{key:"reloadWithJitter",value:function(t){var e=this;t.destroy(),this.disconnect();var n=R[0],i=R[1],r=Math.floor(Math.random()*(i-n+1))+n,o=it.updateLocal(t.name(),"consecutive-reloads",0,(function(t){return t+1}));this.log(t,"join",(function(){return["encountered ".concat(o," consecutive reloads")]})),o>10&&(this.log(t,"join",(function(){return["exceeded ".concat(10," consecutive reloads. Entering failsafe mode")]})),r=3e4),setTimeout((function(){e.hasPendingLink()?window.location=e.pendingLink:window.location.reload()}),r)}},{key:"getHookCallbacks",value:function(t){return this.hooks[t]}},{key:"isUnloaded",value:function(){return this.unloaded}},{key:"isConnected",value:function(){return this.socket.isConnected()}},{key:"getBindingPrefix",value:function(){return this.bindingPrefix}},{key:"binding",value:function(t){return"".concat(this.getBindingPrefix()).concat(t)}},{key:"channel",value:function(t,e){return this.socket.channel(t,e)}},{key:"joinRootViews",value:function(){var t=this,e=!1;return rt.all(document,"".concat(j,":not([").concat("data-phx-parent-id","])"),(function(n){if(!t.getRootById(n.id)){var i=t.joinRootView(n,t.getHref());t.root=t.root||i,n.getAttribute("data-phx-main")&&(t.main=i)}e=!0})),e}},{key:"redirect",value:function(t,e){this.disconnect(),it.redirect(t,e)}},{key:"replaceMain",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.setPendingLink(t),o=this.main.el;this.main.showLoader(this.loaderTimeout),this.main.destroy(),it.fetchPage(t,(function(a,s){if(200!==a)return n.redirect(t);var l=document.createElement("template");l.innerHTML=s;var c=l.content.childNodes[0];if(!c||!n.isPhxView(c))return n.redirect(t);n.joinRootView(c,t,e,(function(t,e){1===e&&(n.commitPendingLink(r)?(o.replaceWith(t.el),n.main=t,i&&i()):t.destroy())}))}))}},{key:"isPhxView",value:function(t){return t.getAttribute&&null!==t.getAttribute(N)}},{key:"joinRootView",value:function(t,e,n,i){var r=new st(t,this,null,e,n);return this.roots[r.id]=r,r.join(i),r}},{key:"owner",value:function(t,e){var n=this,i=Z(t.closest(j),(function(t){return n.getViewByEl(t)}));i&&e(i)}},{key:"withinOwners",value:function(t,e){var n=this;this.owner(t,(function(i){var r=t.getAttribute(n.binding("target"));null===r?e(i,t):i.withinTargets(r,e)}))}},{key:"getViewByEl",value:function(t){var e=t.getAttribute("data-phx-root-id");return Z(this.getRootById(e),(function(e){return e.getDescendentByEl(t)}))}},{key:"getRootById",value:function(t){return this.roots[t]}},{key:"destroyAllViews",value:function(){for(var t in this.roots)this.roots[t].destroy(),delete this.roots[t]}},{key:"destroyViewByEl",value:function(t){var e=this.getRootById(t.getAttribute("data-phx-root-id"));e&&e.destroyDescendent(t.id)}},{key:"setActiveElement",value:function(t){var e=this;if(this.activeElement!==t){this.activeElement=t;var n=function(){t===e.activeElement&&(e.activeElement=null),t.removeEventListener("mouseup",e),t.removeEventListener("touchend",e)};t.addEventListener("mouseup",n),t.addEventListener("touchend",n)}}},{key:"getActiveElement",value:function(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}},{key:"dropActiveElement",value:function(t){this.prevActive&&t.ownsElement(this.prevActive)&&(this.prevActive=null)}},{key:"restorePreviouslyActiveFocus",value:function(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}},{key:"blurActiveElement",value:function(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}},{key:"bindTopLevelEvents",value:function(){var t=this;this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,window.addEventListener("pageshow",(function(e){e.persisted&&(t.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())})),this.bindClicks(),this.bindNav(),this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(function(e,n,i,r,o,a,s){var l=r.getAttribute(t.binding("key")),c=e.key&&e.key.toLowerCase();l&&l.toLowerCase()!==c||i.pushKey(r,o,n,a,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({key:e.key},t.eventMeta(n,e,r)))})),this.bind({blur:"focusout",focus:"focusin"},(function(e,n,i,r,o,a,s){s||i.pushEvent(n,r,o,a,t.eventMeta(n,e,r))})),this.bind({blur:"blur",focus:"focus"},(function(e,n,i,r,o,a,s){s&&"window"!==!s&&i.pushEvent(n,r,o,a,t.eventMeta(n,e,r))})))}},{key:"eventMeta",value:function(t,e,n){var i=this.metadataCallbacks[t];return i?i(e,n):{}}},{key:"setPendingLink",value:function(t){return this.linkRef++,this.pendingLink=t,this.linkRef}},{key:"commitPendingLink",value:function(t){return this.linkRef===t&&(this.href=this.pendingLink,this.pendingLink=null,!0)}},{key:"getHref",value:function(){return this.href}},{key:"hasPendingLink",value:function(){return!!this.pendingLink}},{key:"bind",value:function(t,e){var n=this,i=function(i){var r=t[i];n.on(r,(function(t){var r=n.binding(i),o=n.binding("window-".concat(i)),a=t.target.getAttribute&&t.target.getAttribute(r);a?n.debounce(t.target,t,(function(){n.withinOwners(t.target,(function(n,r){e(t,i,n,t.target,r,a,null)}))})):rt.all(document,"[".concat(o,"]"),(function(r){var a=r.getAttribute(o);n.debounce(r,t,(function(){n.withinOwners(r,(function(n,o){e(t,i,n,r,o,a,"window")}))}))}))}))};for(var r in t)i(r)}},{key:"bindClicks",value:function(){var t=this;[!0,!1].forEach((function(e){var n=e?t.binding("capture-click"):t.binding("click");window.addEventListener("click",(function(i){var r=null,o=(r=e?i.target.matches("[".concat(n,"]"))?i.target:i.target.querySelector("[".concat(n,"]")):Q(i.target,n))&&r.getAttribute(n);o&&("#"===r.getAttribute("href")&&i.preventDefault(),t.debounce(r,i,(function(){t.withinOwners(r,(function(e,n){e.pushEvent("click",r,n,o,t.eventMeta("click",i,r))}))})))}),e)}))}},{key:"bindNav",value:function(){var t=this;if(it.canPushState()){history.scrollRestoration&&(history.scrollRestoration="manual");var e=null;window.addEventListener("scroll",(function(t){clearTimeout(e),e=setTimeout((function(){it.updateCurrentState((function(t){return Object.assign(t,{scroll:window.scrollY})}))}),100)})),window.addEventListener("popstate",(function(e){if(t.registerNewLocation(window.location)){var n=e.state||{},i=n.type,r=n.id,o=n.root,a=n.scroll,s=window.location.href;t.main.isConnected()&&"patch"===i&&r===t.main.id?t.main.pushLinkPatch(s,null):t.replaceMain(s,null,(function(){o&&t.replaceRootHistory(),"number"==typeof a&&setTimeout((function(){window.scrollTo(0,a)}),0)}))}}),!1),window.addEventListener("click",(function(e){var n=Q(e.target,"data-phx-link"),i=n&&n.getAttribute("data-phx-link"),r=e.metaKey||e.ctrlKey||1===e.button;if(i&&t.isConnected()&&t.main&&!r){var o=n.href,a=n.getAttribute("data-phx-link-state");if(e.preventDefault(),t.pendingLink!==o)if("patch"===i)t.pushHistoryPatch(o,a,n);else{if("redirect"!==i)throw new Error("expected ".concat("data-phx-link",' to be "patch" or "redirect", got: ').concat(i));t.historyRedirect(o,a)}}}),!1)}}},{key:"withPageLoading",value:function(t,e){rt.dispatchEvent(window,"phx:page-loading-start",t);var n=function(){return rt.dispatchEvent(window,"phx:page-loading-stop",t)};return e?e(n):n}},{key:"pushHistoryPatch",value:function(t,e,n){var i=this;this.withPageLoading({to:t,kind:"patch"},(function(r){i.main.pushLinkPatch(t,n,(function(){i.historyPatch(t,e),r()}))}))}},{key:"historyPatch",value:function(t,e){it.pushState(e,{type:"patch",id:this.main.id},t),this.registerNewLocation(window.location)}},{key:"historyRedirect",value:function(t,e,n){var i=this,r=window.scrollY;this.withPageLoading({to:t,kind:"redirect"},(function(o){i.replaceMain(t,n,(function(){it.pushState(e,{type:"redirect",id:i.main.id,scroll:r},t),i.registerNewLocation(window.location),o()}))}))}},{key:"replaceRootHistory",value:function(){it.pushState("replace",{root:!0,type:"patch",id:this.main.id})}},{key:"registerNewLocation",value:function(t){var e=this.currentLocation;return e.pathname+e.search!==t.pathname+t.search&&(this.currentLocation=J(t),!0)}},{key:"bindForms",value:function(){var t=this,e=0;this.on("submit",(function(e){var n=e.target.getAttribute(t.binding("submit"));n&&(e.preventDefault(),e.target.disabled=!0,t.withinOwners(e.target,(function(t,i){return t.submitForm(e.target,i,n)})))}),!1);for(var n=function(){var n=r[i];t.on(n,(function(i){var r=i.target,o=r.form&&r.form.getAttribute(t.binding("change"));if(o&&("number"!==r.type||!r.validity||!r.validity.badInput)){var a=e;e++;var s=rt.private(r,"prev-iteration")||{},l=s.at,c=s.type;l===a-1&&n!==c||(rt.putPrivate(r,"prev-iteration",{at:a,type:n}),t.debounce(r,i,(function(){t.withinOwners(r.form,(function(e,n){rt.putPrivate(r,"phx-has-focused",!0),rt.isTextualInput(r)||t.setActiveElement(r),e.pushInput(r,n,o,i.target)}))})))}}),!1)},i=0,r=["change","input"];i<r.length;i++)n()}},{key:"debounce",value:function(t,e,n){var i=this.binding("debounce"),r=this.binding("throttle"),o=this.defaults.debounce.toString(),a=this.defaults.throttle.toString();rt.debounce(t,e,i,o,r,a,n)}},{key:"silenceEvents",value:function(t){this.silenced=!0,t(),this.silenced=!1}},{key:"on",value:function(t,e){var n=this;window.addEventListener(t,(function(t){n.silenced||e(t)}))}}]),t}(),it={canPushState:function(){return void 0!==history.pushState},dropLocal:function(t,e){return window.localStorage.removeItem(this.localKey(t,e))},updateLocal:function(t,e,n,i){var r=this.getLocal(t,e),o=this.localKey(t,e),a=null===r?n:i(r);return window.localStorage.setItem(o,JSON.stringify(a)),a},getLocal:function(t,e){return JSON.parse(window.localStorage.getItem(this.localKey(t,e)))},fetchPage:function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.timeout=3e4,n.setRequestHeader("content-type","text/html"),n.setRequestHeader("cache-control","max-age=0, no-cache, no-store, must-revalidate, post-check=0, pre-check=0"),n.setRequestHeader("x-requested-with","live-link"),n.onerror=function(){return e(400)},n.ontimeout=function(){return e(504)},n.onreadystatechange=function(){if(4===n.readyState){var i=new URL(t),r=i.pathname+i.search,o=Z(n.getResponseHeader("x-response-url")||n.responseURL,(function(t){return new URL(t)})),a=o?o.pathname+o.search:null;return"live-link"!==n.getResponseHeader("x-requested-with")?e(400):null===o||a!=r?e(302):200!==n.status?e(n.status):void e(200,n.responseText)}},n.send()},updateCurrentState:function(t){this.canPushState()&&history.replaceState(t(history.state||{}),"",window.location.href)},pushState:function(t,e,n){if(this.canPushState()){if(n!==window.location.href){if("redirect"==e.type&&e.scroll){var i=history.state||{};i.scroll=e.scroll,history.replaceState(i,"",window.location.href)}delete e.scroll,history[t+"State"](e,"",n||null);var r=this.getHashTargetEl(window.location.hash);r?r.scrollIntoView():"redirect"===e.type&&window.scroll(0,0)}}else this.redirect(n)},setCookie:function(t,e){document.cookie="".concat(t,"=").concat(e)},getCookie:function(t){return document.cookie.replace(new RegExp("(?:(?:^|.*;s*)".concat(t,"s*=s*([^;]*).*$)|^.*$")),"$1")},redirect:function(t,e){e&&it.setCookie("__phoenix_flash__",e+"; max-age=60000; path=/"),window.location=t},localKey:function(t,e){return"".concat(t,"-").concat(e)},getHashTargetEl:function(t){var e=t.toString().substring(1);if(""!==e)return document.getElementById(e)||document.querySelector('a[name="'.concat(e,'"]'))}},rt={byId:function(t){return document.getElementById(t)||q("no id found for ".concat(t))},removeClass:function(t,e){t.classList.remove(e),0===t.classList.length&&t.removeAttribute("class")},all:function(t,e,n){var i=Array.from(t.querySelectorAll(e));return n?i.forEach(n):i},findComponentNodeList:function(t,e){var n=this.all(t,j),i=this.all(t,"[".concat(H,'="').concat(e,'"]'));return 0===n.length?i:i.filter((function(t){return!n.some((function(e){return e.contains(t)}))}))},findPhxChildrenInFragment:function(t,e){var n=document.createElement("template");return n.innerHTML=t,this.findPhxChildren(n.content,e)},isPhxUpdate:function(t,e,n){return t.getAttribute&&n.indexOf(t.getAttribute(e))>=0},findPhxChildren:function(t,e){return this.all(t,"".concat(j,"[").concat("data-phx-parent-id",'="').concat(e,'"]'))},findParentCIDs:function(t,e){var n=this,i=new Set(e);return e.reduce((function(e,i){var r="[".concat(H,'="').concat(i,'"] [').concat(H,"]");return n.all(t,r).map((function(t){return parseInt(t.getAttribute(H))})).forEach((function(t){return e.delete(t)})),e}),i)},private:function(t,e){return t.phxPrivate&&t.phxPrivate[e]},deletePrivate:function(t,e){t.phxPrivate&&delete t.phxPrivate[e]},putPrivate:function(t,e,n){t.phxPrivate||(t.phxPrivate={}),t.phxPrivate[e]=n},copyPrivates:function(t,e){e.phxPrivate&&(t.phxPrivate=J(e.phxPrivate))},putTitle:function(t){var e=document.querySelector("title").dataset,n=e.prefix,i=e.suffix;document.title="".concat(n||"").concat(t).concat(i||"")},debounce:function(t,e,n,i,r,o,a){var s=this,l=t.getAttribute(n),c=t.getAttribute(r);""===l&&(l=i),""===c&&(c=o);var u=l||c;switch(u){case null:return a();case"blur":return void(this.once(t,"debounce-blur")&&t.addEventListener("blur",(function(){return a()})));default:var d=parseInt(u),h=this.incCycle(t,"debounce-trigger",(function(){return c?s.deletePrivate(t,"throttled"):a()}));if(isNaN(d))return q("invalid throttle/debounce value: ".concat(u));if(c){var f=!1;if("keydown"===e.type){var g=this.private(t,"debounce-prev-key");this.putPrivate(t,"debounce-prev-key",e.key),f=g!==e.key}if(!f&&this.private(t,"throttled"))return!1;a(),this.putPrivate(t,"throttled",!0),setTimeout((function(){return s.triggerCycle(t,"debounce-trigger")}),d)}else setTimeout((function(){return s.triggerCycle(t,"debounce-trigger",h)}),d);t.form&&this.once(t.form,"bind-debounce")&&t.form.addEventListener("submit",(function(e){Array.from(new FormData(t.form).entries(),(function(e){var n=P(e,2),i=n[0],r=(n[1],t.form.querySelector('[name="'.concat(i,'"]')));s.incCycle(r,"debounce-trigger"),s.deletePrivate(r,"throttled")}))})),this.once(t,"bind-debounce")&&t.addEventListener("blur",(function(e){return s.triggerCycle(t,"debounce-trigger")}))}},triggerCycle:function(t,e,n){var i=P(this.private(t,e),2),r=i[0],o=i[1];n||(n=r),n===r&&(this.incCycle(t,e),o())},once:function(t,e){return!0!==this.private(t,e)&&(this.putPrivate(t,e,!0),!0)},incCycle:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=P(this.private(t,e)||[0,n],2),r=i[0];return i[1],r++,this.putPrivate(t,e,[r,n]),r},discardError:function(t,e,n){var i=e.getAttribute&&e.getAttribute(n),r=i&&t.querySelector("#".concat(i));r&&(this.private(r,"phx-has-focused")||this.private(r.form,"phx-has-submitted")||e.classList.add("phx-no-feedback"))},isPhxChild:function(t){return t.getAttribute&&t.getAttribute("data-phx-parent-id")},dispatchEvent:function(t,e){var n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}});t.dispatchEvent(n)},cloneNode:function(t,e){if(void 0===e)return t.cloneNode(!0);var n=t.cloneNode(!1);return n.innerHTML=e,n},mergeAttrs:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.attributes,r=i.length-1;r>=0;r--){var o=i[r].name;n.indexOf(o)<0&&t.setAttribute(o,e.getAttribute(o))}for(var a=t.attributes,s=a.length-1;s>=0;s--){var l=a[s].name;e.hasAttribute(l)||t.removeAttribute(l)}},mergeFocusedInput:function(t,e){t instanceof HTMLSelectElement||rt.mergeAttrs(t,e,["value"]),e.readOnly?t.setAttribute("readonly",!0):t.removeAttribute("readonly")},hasSelectionRange:function(t){return t.setSelectionRange&&("text"===t.type||"textarea"===t.type)},restoreFocus:function(t,e,n){if(rt.isTextualInput(t)){var i=t.matches(":focus");t.readOnly&&t.blur(),i||t.focus(),this.hasSelectionRange(t)&&t.setSelectionRange(e,n)}},isFormInput:function(t){return/^(?:input|select|textarea)$/i.test(t.tagName)&&"button"!==t.type},syncAttrsToProps:function(t){t instanceof HTMLInputElement&&W.indexOf(t.type.toLocaleLowerCase())>=0&&(t.checked=null!==t.getAttribute("checked"))},isTextualInput:function(t){return U.indexOf(t.type)>=0},isNowTriggerFormExternal:function(t,e){return t.getAttribute&&null!==t.getAttribute(e)},syncPendingRef:function(t,e,n){var i=t.getAttribute(F);return null===i||(rt.isFormInput(t)||null!==t.getAttribute(n)?(rt.putPrivate(t,F,e),!1):(I.forEach((function(n){t.classList.contains(n)&&e.classList.add(n)})),e.setAttribute(F,i),!0))},cleanChildNodes:function(t,e){if(rt.isPhxUpdate(t,e,["append","prepend"])){var n=[];t.childNodes.forEach((function(t){t.id||(t.nodeType===Node.TEXT_NODE&&""===t.nodeValue.trim()||q("only HTML element tags with an id are allowed inside containers with phx-update.\n\n"+'removing illegal node: "'.concat((t.outerHTML||t.nodeValue).trim(),'"\n\n')),n.push(t))})),n.forEach((function(t){return t.remove()}))}}},ot=function(){function t(e,n,i){T(this,t);var r=new Set,o=new Set(_(n.children).map((function(t){return t.id}))),a=[];Array.from(e.children).forEach((function(t){if(t.id&&(r.add(t.id),o.has(t.id))){var e=t.previousElementSibling&&t.previousElementSibling.id;a.push({elementId:t.id,previousElementId:e})}})),this.containerId=n.id,this.updateType=i,this.elementsToModify=a,this.elementIdsToAdd=_(o).filter((function(t){return!r.has(t)}))}return C(t,[{key:"perform",value:function(){var t=rt.byId(this.containerId);this.elementsToModify.forEach((function(e){e.previousElementId?Z(document.getElementById(e.previousElementId),(function(t){Z(document.getElementById(e.elementId),(function(e){e.previousElementSibling&&e.previousElementSibling.id==t.id||t.insertAdjacentElement("afterend",e)}))})):Z(document.getElementById(e.elementId),(function(e){null==e.previousElementSibling||t.insertAdjacentElement("afterbegin",e)}))})),"prepend"==this.updateType&&this.elementIdsToAdd.reverse().forEach((function(e){Z(document.getElementById(e),(function(e){return t.insertAdjacentElement("afterbegin",e)}))}))}}]),t}(),at=function(){function t(e,n,i,r,o){T(this,t),this.view=e,this.liveSocket=e.liveSocket,this.container=n,this.id=i,this.rootID=e.root.id,this.html=r,this.targetCID=o,this.cidPatch="number"==typeof this.targetCID,this.callbacks={beforeadded:[],beforeupdated:[],beforediscarded:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[]}}return C(t,null,[{key:"patchEl",value:function(t,e,n){y(t,e,{childrenOnly:!1,onBeforeElUpdated:function(t,e){if(n&&n.isSameNode(t)&&rt.isFormInput(t))return rt.mergeFocusedInput(t,e),!1}})}}]),C(t,[{key:"before",value:function(t,e){this.callbacks["before".concat(t)].push(e)}},{key:"after",value:function(t,e){this.callbacks["after".concat(t)].push(e)}},{key:"trackBefore",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.callbacks["before".concat(t)].forEach((function(t){return t.apply(void 0,n)}))}},{key:"trackAfter",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.callbacks["after".concat(t)].forEach((function(t){return t.apply(void 0,n)}))}},{key:"markPrunableContentForRemoval",value:function(){rt.all(this.container,"[phx-update=append] > *, [phx-update=prepend] > *",(function(t){t.setAttribute("data-phx-remove","")}))}},{key:"perform",value:function(){var t=this,e=this.view,n=this.liveSocket,i=this.container,r=this.html,o=this.isCIDPatch()?this.targetCIDContainer():i;if(!this.isCIDPatch()||o){var a=n.getActiveElement(),s=a&&rt.hasSelectionRange(a)?a:{},l=s.selectionStart,c=s.selectionEnd,u=n.binding("update"),d=n.binding("feedback-for"),h=n.binding("disable-with"),f=n.binding("trigger-action"),g=[],p=[],m=[],v=null,b=n.time("premorph container prep",(function(){return t.buildDiffHTML(i,r,u,o)}));return this.trackBefore("added",i),this.trackBefore("updated",i,i),n.time("morphdom",(function(){y(o,b,{childrenOnly:null===o.getAttribute(H),onBeforeNodeAdded:function(e){return rt.discardError(o,e,d),t.trackBefore("added",e),e},onNodeAdded:function(n){rt.isNowTriggerFormExternal(n,f)&&(v=n),rt.isPhxChild(n)&&e.ownsElement(n)&&t.trackAfter("phxChildAdded",n),g.push(n)},onNodeDiscarded:function(e){rt.isPhxChild(e)&&n.destroyViewByEl(e),t.trackAfter("discarded",e)},onBeforeNodeDiscarded:function(e){return!((!e.getAttribute||null===e.getAttribute("data-phx-remove"))&&(null!==e.parentNode&&rt.isPhxUpdate(e.parentNode,u,["append","prepend"])&&e.id||t.skipCIDSibling(e)||(t.trackBefore("discarded",e),0)))},onElUpdated:function(t){rt.isNowTriggerFormExternal(t,f)&&(v=t),p.push(t)},onBeforeElUpdated:function(e,n){if(rt.cleanChildNodes(n,u),t.skipCIDSibling(n))return!1;if("ignore"===e.getAttribute(u))return t.trackBefore("updated",e,n),rt.mergeAttrs(e,n),p.push(e),!1;if("number"===e.type&&e.validity&&e.validity.badInput)return!1;if(!rt.syncPendingRef(e,n,h))return!1;if(rt.isPhxChild(n)){var i=e.getAttribute(B);return rt.mergeAttrs(e,n),e.setAttribute(B,i),e.setAttribute("data-phx-root-id",t.rootID),!1}return rt.copyPrivates(n,e),rt.discardError(o,n,d),a&&e.isSameNode(a)&&rt.isFormInput(e)&&!t.forceFocusedSelectUpdate(e,n)?(t.trackBefore("updated",e,n),rt.mergeFocusedInput(e,n),rt.syncAttrsToProps(e),p.push(e),!1):(rt.isPhxUpdate(n,u,["append","prepend"])&&m.push(new ot(e,n,n.getAttribute(u))),rt.syncAttrsToProps(n),t.trackBefore("updated",e,n),!0)}})})),n.isDebugEnabled()&&function(){for(var t=new Set,e=document.querySelectorAll("*[id]"),n=0,i=e.length;n<i;n++)t.has(e[n].id)?console.error("Multiple IDs detected: ".concat(e[n].id,". Ensure unique element ids.")):t.add(e[n].id)}(),m.length>0&&n.time("post-morph append/prepend restoration",(function(){m.forEach((function(t){return t.perform()}))})),n.silenceEvents((function(){return rt.restoreFocus(a,l,c)})),rt.dispatchEvent(document,"phx:update"),g.forEach((function(e){return t.trackAfter("added",e)})),p.forEach((function(e){return t.trackAfter("updated",e)})),v&&(n.disconnect(),v.submit()),!0}}},{key:"forceFocusedSelectUpdate",value:function(t,e){return!0===t.multiple||t.innerHTML!=e.innerHTML}},{key:"isCIDPatch",value:function(){return this.cidPatch}},{key:"skipCIDSibling",value:function(t){return t.nodeType===Node.ELEMENT_NODE&&null!==t.getAttribute("data-phx-skip")}},{key:"targetCIDContainer",value:function(){if(this.isCIDPatch()){var t=x(rt.findComponentNodeList(this.container,this.targetCID)),e=t[0];return 0===t.slice(1).length?e:e&&e.parentNode}}},{key:"buildDiffHTML",value:function(t,e,n,i){var r=this,o=this.isCIDPatch(),a=o&&i.getAttribute(H)===this.targetCID.toString();if(!o||a)return e;var s=null,l=document.createElement("template");s=rt.cloneNode(i);var c=x(rt.findComponentNodeList(s,this.targetCID)),u=c[0],d=c.slice(1);return l.innerHTML=e,d.forEach((function(t){return t.remove()})),Array.from(s.childNodes).forEach((function(t){t.id&&t.nodeType===Node.ELEMENT_NODE&&t.getAttribute(H)!==r.targetCID.toString()&&(t.setAttribute("data-phx-skip",""),t.innerHTML="")})),Array.from(l.content.childNodes).forEach((function(t){return s.insertBefore(t,u)})),u.remove(),s.outerHTML}}]),t}(),st=function(){function t(e,n,i,r,o){var a=this;T(this,t),this.liveSocket=n,this.flash=o,this.parent=i,this.root=i?i.root:this,this.el=e,this.id=this.el.id,this.view=this.el.getAttribute(N),this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.href=r,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(){},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel("lv:".concat(this.id),(function(){return{url:a.href,params:a.connectParams(),session:a.getSession(),static:a.getStatic(),flash:a.flash}})),this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel()}return C(t,[{key:"isMain",value:function(){return this.liveSocket.main===this}},{key:"connectParams",value:function(){var t=this.liveSocket.params(this.view),e=rt.all(document,"[".concat(this.binding("track-static"),"]")).map((function(t){return t.src||t.href})).filter((function(t){return"string"==typeof t}));return e.length>0&&(t._track_static=e),t._mounts=this.joinCount,t}},{key:"name",value:function(){return this.view}},{key:"isConnected",value:function(){return this.channel.canPush()}},{key:"getSession",value:function(){return this.el.getAttribute("data-phx-session")}},{key:"getStatic",value:function(){var t=this.el.getAttribute(B);return""===t?null:t}},{key:"destroy",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);var n=function(){for(var n in e(),t.viewHooks)t.viewHooks[n].__trigger__("beforeDestroy"),t.destroyHook(t.viewHooks[n])};this.log("destroyed",(function(){return["the child has been removed from the parent"]})),this.channel.leave().receive("ok",n).receive("error",n).receive("timeout",n)}},{key:"setContainerClasses",value:function(){var t;this.el.classList.remove("phx-connected","phx-disconnected","phx-error"),(t=this.el.classList).add.apply(t,arguments)}},{key:"isLoading",value:function(){return this.el.classList.contains("phx-disconnected")}},{key:"showLoader",value:function(t){var e=this;if(clearTimeout(this.loaderTimer),t)this.loaderTimer=setTimeout((function(){return e.showLoader()}),t);else{for(var n in this.viewHooks)this.viewHooks[n].__trigger__("disconnected");this.setContainerClasses("phx-disconnected")}}},{key:"hideLoader",value:function(){clearTimeout(this.loaderTimer),this.setContainerClasses("phx-connected")}},{key:"triggerReconnected",value:function(){for(var t in this.viewHooks)this.viewHooks[t].__trigger__("reconnected")}},{key:"log",value:function(t,e){this.liveSocket.log(this,t,e)}},{key:"withinTargets",value:function(t,e){var n=this;if(/^(0|[1-9]\d*)$/.test(t)){var i=rt.findComponentNodeList(this.el,t);0===i.length?q("no component found matching phx-target of ".concat(t)):e(this,i[0])}else{var r=Array.from(document.querySelectorAll(t));0===r.length&&q('nothing found matching the phx-target selector "'.concat(t,'"')),r.forEach((function(t){return n.liveSocket.owner(t,(function(n){return e(n,t)}))}))}}},{key:"applyDiff",value:function(t,e,n){this.log(t,(function(){return["",J(e)]}));var i=et.extract(e),r=i.diff,o=i.reply,a=i.events,s=i.title;return s&&rt.putTitle(s),n({diff:r,reply:o,events:a}),o}},{key:"onJoin",value:function(t){var e=this,n=t.rendered;this.joinCount++,this.childJoins=0,this.joinPending=!0,this.flash=null,it.dropLocal(this.name(),"consecutive-reloads"),this.applyDiff("mount",n,(function(n){var i=n.diff,r=n.events;e.rendered=new et(e.id,i);var o=e.renderContainer(null,"join");e.dropPendingRefs();var a=e.formsForRecovery(o);e.joinCount>1&&a.length>0?a.forEach((function(t,n){e.pushFormRecovery(t,(function(t){n===a.length-1&&e.onJoinComplete(t,o,r)}))})):e.onJoinComplete(t,o,r)}))}},{key:"dropPendingRefs",value:function(){rt.all(this.el,"[".concat(F,"]"),(function(t){return t.removeAttribute(F)}))}},{key:"onJoinComplete",value:function(t,e,n){var i=this,r=t.live_patch;if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(r,e,n);0===rt.findPhxChildrenInFragment(e,this.id).filter((function(t){var e=t.id&&i.el.querySelector("#".concat(t.id)),n=e&&e.getAttribute(B);return n&&t.setAttribute(B,n),i.joinChild(t)})).length?this.parent?(this.root.pendingJoinOps.push([this,function(){return i.applyJoinPatch(r,e,n)}]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(r,e,n)):this.root.pendingJoinOps.push([this,function(){return i.applyJoinPatch(r,e,n)}])}},{key:"attachTrueDocEl",value:function(){this.el=rt.byId(this.id),this.el.setAttribute("data-phx-root-id",this.root.id)}},{key:"dispatchEvents",value:function(t){t.forEach((function(t){var e=P(t,2),n=e[0],i=e[1];window.dispatchEvent(new CustomEvent("phx:hook:".concat(n),{detail:i}))}))}},{key:"applyJoinPatch",value:function(t,e,n){var i=this;this.attachTrueDocEl();var r=new at(this,this.el,this.id,e,null);if(r.markPrunableContentForRemoval(),this.performPatch(r,!1),this.joinNewChildren(),rt.all(this.el,"[".concat(this.binding("hook"),"]"),(function(t){var e=i.addHook(t);e&&e.__trigger__("mounted")})),this.joinPending=!1,this.dispatchEvents(n),this.applyPendingUpdates(),t){var o=t.kind,a=t.to;this.liveSocket.historyPatch(a,o)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}},{key:"triggerBeforeUpdateHook",value:function(t,e){this.liveSocket.triggerDOM("onBeforeElUpdated",[t,e]);var n=this.getHook(t),i=n&&"ignore"===t.getAttribute(this.binding("update"));if(n&&!t.isEqualNode(e)&&(!i||!function(t,e){return JSON.stringify(t)===JSON.stringify(e)}(t.dataset,e.dataset)))return n.__trigger__("beforeUpdate"),n}},{key:"triggerUpdatedHook",value:function(t){t.__trigger__("updated")}},{key:"performPatch",value:function(t,e){var n=this,i=[],r=!1,o=new Set;return t.after("added",(function(t){var e=n.addHook(t);e&&e.__trigger__("mounted")})),t.after("phxChildAdded",(function(t){return r=!0})),t.before("updated",(function(t,e){n.triggerBeforeUpdateHook(t,e)&&o.add(t.id)})),t.after("updated",(function(t){o.has(t.id)&&n.triggerUpdatedHook(n.getHook(t))})),t.before("discarded",(function(t){var e=n.getHook(t);e&&e.__trigger__("beforeDestroy")})),t.after("discarded",(function(t){var e=n.componentID(t);"number"==typeof e&&-1===i.indexOf(e)&&i.push(e);var r=n.getHook(t);r&&n.destroyHook(r)})),t.perform(),e&&this.maybePushComponentsDestroyed(i),r}},{key:"joinNewChildren",value:function(){var t=this;rt.findPhxChildren(this.el,this.id).forEach((function(e){return t.joinChild(e)}))}},{key:"getChildById",value:function(t){return this.root.children[this.id][t]}},{key:"getDescendentByEl",value:function(t){return t.id===this.id?this:this.children[t.getAttribute("data-phx-parent-id")][t.id]}},{key:"destroyDescendent",value:function(t){for(var e in this.root.children)for(var n in this.root.children[e])if(n===t)return this.root.children[e][n].destroy()}},{key:"joinChild",value:function(e){if(!this.getChildById(e.id)){var n=new t(e,this.liveSocket,this);return this.root.children[this.id][n.id]=n,n.join(),this.childJoins++,!0}}},{key:"isJoinPending",value:function(){return this.joinPending}},{key:"ackJoin",value:function(t){this.childJoins--,0===this.childJoins&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}},{key:"onAllChildJoinsComplete",value:function(){this.joinCallback(),this.pendingJoinOps.forEach((function(t){var e=P(t,2),n=e[0],i=e[1];n.isDestroyed()||i()})),this.pendingJoinOps=[]}},{key:"update",value:function(t,e){var n=this;if(this.isJoinPending()||this.liveSocket.hasPendingLink())return this.pendingDiffs.push({diff:t,events:e});this.rendered.mergeDiff(t);var i=!1;this.rendered.isComponentOnlyDiff(t)?this.liveSocket.time("component patch complete",(function(){rt.findParentCIDs(n.el,n.rendered.componentCIDs(t)).forEach((function(e){n.componentPatch(n.rendered.getComponent(t,e),e)&&(i=!0)}))})):K(t)||this.liveSocket.time("full patch complete",(function(){var e=n.renderContainer(t,"update"),r=new at(n,n.el,n.id,e,null);i=n.performPatch(r,!0)})),this.dispatchEvents(e),i&&this.joinNewChildren()}},{key:"renderContainer",value:function(t,e){var n=this;return this.liveSocket.time("toString diff (".concat(e,")"),(function(){var e=n.el.tagName,i=t?n.rendered.componentCIDs(t):null,r=n.rendered.toString(i);return"<".concat(e,">").concat(r,"</").concat(e,">")}))}},{key:"componentPatch",value:function(t,e){if(K(t))return!1;var n=this.rendered.componentToString(e),i=new at(this,this.el,this.id,n,e);return this.performPatch(i,!0)}},{key:"getHook",value:function(t){return this.viewHooks[ct.elementID(t)]}},{key:"addHook",value:function(t){if(!ct.elementID(t)&&t.getAttribute){var e=t.getAttribute(this.binding("hook"));if(!e||this.ownsElement(t)){var n=this.liveSocket.getHookCallbacks(e);if(n){t.id||q('no DOM ID for hook "'.concat(e,'". Hooks require a unique ID on each element.'),t);var i=new ct(this,t,n);return this.viewHooks[ct.elementID(i.el)]=i,i}null!==e&&q('unknown hook found for "'.concat(e,'"'),t)}}}},{key:"destroyHook",value:function(t){t.__trigger__("destroyed"),t.__cleanup__(),delete this.viewHooks[ct.elementID(t.el)]}},{key:"applyPendingUpdates",value:function(){var t=this;this.pendingDiffs.forEach((function(e){var n=e.diff,i=e.events;return t.update(n,i)})),this.pendingDiffs=[]}},{key:"onChannel",value:function(t,e){var n=this;this.liveSocket.onChannel(this.channel,t,(function(t){n.isJoinPending()?n.root.pendingJoinOps.push([n,function(){return e(t)}]):e(t)}))}},{key:"bindChannel",value:function(){var t=this;this.liveSocket.onChannel(this.channel,"diff",(function(e){t.applyDiff("update",e,(function(e){var n=e.diff,i=e.events;return t.update(n,i)}))})),this.onChannel("redirect",(function(e){var n=e.to,i=e.flash;return t.onRedirect({to:n,flash:i})})),this.onChannel("live_patch",(function(e){return t.onLivePatch(e)})),this.onChannel("live_redirect",(function(e){return t.onLiveRedirect(e)})),this.channel.onError((function(e){return t.onError(e)})),this.channel.onClose((function(){return t.onClose()}))}},{key:"destroyAllChildren",value:function(){for(var t in this.root.children[this.id])this.getChildById(t).destroy()}},{key:"onLiveRedirect",value:function(t){var e=t.to,n=t.kind,i=t.flash,r=this.expandURL(e);this.liveSocket.historyRedirect(r,n,i)}},{key:"onLivePatch",value:function(t){var e=t.to,n=t.kind;this.href=this.expandURL(e),this.liveSocket.historyPatch(e,n)}},{key:"expandURL",value:function(t){return t.startsWith("/")?"".concat(window.location.protocol,"//").concat(window.location.host).concat(t):t}},{key:"onRedirect",value:function(t){var e=t.to,n=t.flash;this.liveSocket.redirect(e,n)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"join",value:function(t){var e=this;this.parent||(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=function(){return t&&t(e,e.joinCount)},this.liveSocket.wrapPush((function(){return e.channel.join().receive("ok",(function(t){return e.onJoin(t)})).receive("error",(function(t){return e.onJoinError(t)})).receive("timeout",(function(){return e.onJoinError({reason:"timeout"})}))}))}},{key:"onJoinError",value:function(t){return(t.redirect||t.live_redirect)&&(this.joinPending=!1,this.channel.leave()),t.redirect?this.onRedirect(t.redirect):t.live_redirect?this.onLiveRedirect(t.live_redirect):(this.log("error",(function(){return["unable to join",t]})),this.liveSocket.reloadWithJitter(this))}},{key:"onClose",value:function(){if(!this.isDestroyed()){if(this.isJoinPending()||this.liveSocket.hasPendingLink())return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(200)}}},{key:"onError",value:function(t){this.onClose(),this.log("error",(function(){return["view crashed",t]})),this.liveSocket.isUnloaded()||this.displayError()}},{key:"displayError",value:function(){this.isMain()&&rt.dispatchEvent(window,"phx:page-loading-start",{to:this.href,kind:"error"}),this.showLoader(),this.setContainerClasses("phx-disconnected","phx-error")}},{key:"pushWithReply",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=P(t?t():[null,[]],2),a=o[0],s=P(o[1],1)[0],l=function(){};return s&&null!==s.getAttribute(this.binding("page-loading"))&&(l=this.liveSocket.withPageLoading({kind:"element",target:s})),"number"!=typeof n.cid&&delete n.cid,this.liveSocket.wrapPush((function(){return i.channel.push(e,n,3e4).receive("ok",(function(t){var e=null;null!==a&&i.undoRefs(a),t.diff&&(e=i.applyDiff("update",t.diff,(function(t){var e=t.diff,n=t.events;i.update(e,n)}))),t.redirect&&i.onRedirect(t.redirect),t.live_patch&&i.onLivePatch(t.live_patch),t.live_redirect&&i.onLiveRedirect(t.live_redirect),l(),r(t,e)}))}))}},{key:"undoRefs",value:function(t){var e=this;rt.all(this.el,"[".concat(F,'="').concat(t,'"]'),(function(t){t.removeAttribute(F),null!==t.getAttribute("data-phx-readonly")&&(t.readOnly=!1,t.removeAttribute("data-phx-readonly")),null!==t.getAttribute("data-phx-disabled")&&(t.disabled=!1,t.removeAttribute("data-phx-disabled")),I.forEach((function(e){return rt.removeClass(t,e)}));var n=t.getAttribute("data-phx-disable-with-restore");null!==n&&(t.innerText=n,t.removeAttribute("data-phx-disable-with-restore"));var i=rt.private(t,F);if(i){var r=e.triggerBeforeUpdateHook(t,i);at.patchEl(t,i,e.liveSocket.getActiveElement()),r&&e.triggerUpdatedHook(r),rt.deletePrivate(t,F)}}))}},{key:"putRef",value:function(t,e){var n=this.ref++,i=this.binding("disable-with");return t.forEach((function(t){t.classList.add("phx-".concat(e,"-loading")),t.setAttribute(F,n);var r=t.getAttribute(i);null!==r&&(t.getAttribute("data-phx-disable-with-restore")||t.setAttribute("data-phx-disable-with-restore",t.innerText),t.innerText=r)})),[n,t]}},{key:"componentID",value:function(t){var e=t.getAttribute&&t.getAttribute(H);return e?parseInt(e):null}},{key:"targetComponentID",value:function(t,e){return t.getAttribute(this.binding("target"))?this.closestComponentID(e):null}},{key:"closestComponentID",value:function(t){var e=this;return t?Z(t.closest("[".concat(H,"]")),(function(t){return e.ownsElement(t)&&e.componentID(t)})):null}},{key:"pushHookEvent",value:function(t,e,n,i){var r=P(this.putRef([],"hook"),2),o=r[0],a=r[1];return this.pushWithReply((function(){return[o,a]}),"event",{type:"hook",event:e,value:n,cid:this.closestComponentID(t)},(function(t,e){return i(e,o)})),o}},{key:"extractMeta",value:function(t,e){for(var n=this.binding("value-"),i=0;i<t.attributes.length;i++){var r=t.attributes[i].name;r.startsWith(n)&&(e[r.replace(n,"")]=t.getAttribute(r))}return void 0!==t.value&&(e.value=t.value,"INPUT"===t.tagName&&W.indexOf(t.type)>=0&&!t.checked&&delete e.value),e}},{key:"pushEvent",value:function(t,e,n,i,r){var o=this;this.pushWithReply((function(){return o.putRef([e],t)}),"event",{type:t,event:i,value:this.extractMeta(e,r),cid:this.targetComponentID(e,n)})}},{key:"pushKey",value:function(t,e,n,i,r){var o=this;this.pushWithReply((function(){return o.putRef([t],n)}),"event",{type:n,event:i,value:this.extractMeta(t,r),cid:this.targetComponentID(t,e)})}},{key:"pushInput",value:function(t,e,n,i,r){var o=this;this.pushWithReply((function(){return o.putRef([t,t.form],"change")}),"event",{type:"form",event:n,value:tt(t.form,{_target:i.name}),cid:this.targetComponentID(t.form,e)},r)}},{key:"pushFormSubmit",value:function(t,e,n,i){var r=this,o=function(t){return!Q(t,"".concat(r.binding("update"),"=ignore"),t.form)};this.pushWithReply((function(){var e=rt.all(t,"[".concat(r.binding("disable-with"),"]")),n=rt.all(t,"button").filter(o),i=rt.all(t,"input,textarea,select").filter(o);return n.forEach((function(t){t.setAttribute("data-phx-disabled",t.disabled),t.disabled=!0})),i.forEach((function(t){t.setAttribute("data-phx-readonly",t.readOnly),t.readOnly=!0})),t.setAttribute(r.binding("page-loading"),""),r.putRef([t].concat(e).concat(n).concat(i),"submit")}),"event",{type:"form",event:n,value:tt(t),cid:this.targetComponentID(t,e)},i)}},{key:"pushFormRecovery",value:function(t,e){var n=this;this.liveSocket.withinOwners(t,(function(i,r){var o=t.elements[0],a=t.getAttribute(n.binding("auto-recover"))||t.getAttribute(n.binding("change"));i.pushInput(o,r,a,o,e)}))}},{key:"pushLinkPatch",value:function(t,e,n){var i=this,r=this.liveSocket.setPendingLink(t),o=e?function(){return i.putRef([e],"click")}:null;this.pushWithReply(o,"link",{url:t},(function(e){e.link_redirect?i.liveSocket.replaceMain(t,null,n,r):i.liveSocket.commitPendingLink(r)&&(i.href=t,i.applyPendingUpdates(),n&&n())})).receive("timeout",(function(){return i.liveSocket.redirect(window.location.href)}))}},{key:"formsForRecovery",value:function(t){var e=this,n=this.binding("change"),i=document.createElement("template");return i.innerHTML=t,rt.all(this.el,"form[".concat(n,"]")).filter((function(t){return e.ownsElement(t)})).filter((function(t){return"ignore"!==t.getAttribute(e.binding("auto-recover"))})).filter((function(t){return i.content.querySelector("form[".concat(n,'="').concat(t.getAttribute(n),'"]'))}))}},{key:"maybePushComponentsDestroyed",value:function(t){var e=this,n=t.filter((function(t){return 0===rt.findComponentNodeList(e.el,t).length}));n.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:n},(function(){e.rendered.pruneCIDs(n)}))}},{key:"ownsElement",value:function(t){return t.getAttribute("data-phx-parent-id")===this.id||Z(t.closest(j),(function(t){return t.id}))===this.id}},{key:"submitForm",value:function(t,e,n){var i=this;rt.putPrivate(t,"phx-has-submitted",!0),this.liveSocket.blurActiveElement(this),this.pushFormSubmit(t,e,n,(function(){i.liveSocket.restorePreviouslyActiveFocus()}))}},{key:"binding",value:function(t){return this.liveSocket.binding(t)}}]),t}(),lt=1,ct=function(){function t(e,n,i){for(var r in T(this,t),this.__view=e,this.__liveSocket=e.liveSocket,this.__callbacks=i,this.__listeners=new Set,this.el=n,this.viewName=e.name(),this.el.phxHookId=this.constructor.makeID(),this.__callbacks)this[r]=this.__callbacks[r]}return C(t,null,[{key:"makeID",value:function(){return lt++}},{key:"elementID",value:function(t){return t.phxHookId}}]),C(t,[{key:"pushEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return this.__view.pushHookEvent(null,t,e,n)}},{key:"pushEventTo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return this.__view.withinTargets(t,(function(t,r){return t.pushHookEvent(r,e,n,i)}))}},{key:"handleEvent",value:function(t,e){var n=function(n,i){return i?t:e(n.detail)};return window.addEventListener("phx:hook:".concat(t),n),this.__listeners.add(n),n}},{key:"removeHandleEvent",value:function(t){var e=t(null,!0);window.removeEventListener("phx:hook:".concat(e),t),this.__listeners.delete(t)}},{key:"__cleanup__",value:function(){var t=this;this.__listeners.forEach((function(e){return t.removeHandleEvent(e)}))}},{key:"__trigger__",value:function(t){var e=this.__callbacks[t];e&&e.call(this)}}]),t}();e.default=nt},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){e.Phoenix||(e.Phoenix={}),t.exports=e.Phoenix.LiveView=n(0)}).call(this,n(1))}])},865:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e,n={version:"0.2.0"},i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(t,e,n){return t<e?e:t>n?n:t}function o(t){return 100*(-1+t)}function a(t,e,n){var r;return(r="translate3d"===i.positionUsing?{transform:"translate3d("+o(t)+"%,0,0)"}:"translate"===i.positionUsing?{transform:"translate("+o(t)+"%,0)"}:{"margin-left":o(t)+"%"}).transition="all "+e+"ms "+n,r}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(i[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=r(t,i.minimum,1),n.status=1===t?null:t;var o=n.render(!e),c=o.querySelector(i.barSelector),u=i.speed,d=i.easing;return o.offsetWidth,s((function(e){""===i.positionUsing&&(i.positionUsing=n.getPositioningCSS()),l(c,a(t,u,d)),1===t?(l(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout((function(){l(o,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout((function(){n.status&&(n.trickle(),t())}),i.trickleSpeed)};return i.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},t=0,e=0,n.promise=function(i){return i&&"resolved"!==i.state()?(0===e&&n.start(),t++,e++,i.always((function(){0==--e?(t=0,n.done()):n.set((t-e)/t)})),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=i.template;var r,a=e.querySelector(i.barSelector),s=t?"-100":o(n.status||0),c=document.querySelector(i.parent);return l(a,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),i.showSpinner||(r=e.querySelector(i.spinnerSelector))&&f(r),c!=document.body&&u(c,"nprogress-custom-parent"),c.appendChild(e),e},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&f(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var s=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),l=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function i(e){var n=document.body.style;if(e in n)return e;for(var i,r=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((i=t[r]+o)in n)return i;return e}function r(t){return t=n(t),e[t]||(e[t]=i(t))}function o(t,e,n){e=r(e),t.style[e]=n}return function(t,e){var n,i,r=arguments;if(2==r.length)for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&o(t,n,i);else o(t,r[1],r[2])}}();function c(t,e){return("string"==typeof t?t:h(t)).indexOf(" "+e+" ")>=0}function u(t,e){var n=h(t),i=n+e;c(n,e)||(t.className=i.substring(1))}function d(t,e){var n,i=h(t);c(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function h(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?i.call(e,n,e,t):i)||(t.exports=r)}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(458);var t=n(902),e=n(865),i=n.n(e),r=n(789);const o="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function a(t,e,n){const i=n||(t=>Array.prototype.slice.call(t));let r=!1,a=[];return function(...n){a=i(n),r||(r=!0,o.call(window,(()=>{r=!1,t.apply(e,a)})))}}function s(){}const l=function(){let t=0;return function(){return t++}}();function c(t){return null==t}function u(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function d(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const h=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function f(t,e){return void 0===t?e:t}function g(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function p(t,e,n,i){let r,o,a;if(u(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(d(t))for(a=Object.keys(t),o=a.length,r=0;r<o;r++)e.call(n,t[a[r]],a[r])}function m(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function v(t){if(u(t))return t.map(v);if(d(t)){const e={},n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=v(t[n[r]]);return e}return t}function b(t,e,n,i){const r=e[t],o=n[t];d(r)&&d(o)?y(r,o,i):e[t]=v(o)}function y(t,e,n){const i=u(e)?e:[e],r=i.length;if(!d(t))return t;const o=(n=n||{}).merger||b;for(let a=0;a<r;++a){if(!d(e=i[a]))continue;const r=Object.keys(e);for(let i=0,a=r.length;i<a;++i)o(r[i],t,e,n)}return t}function x(t,e){return y(t,e,{merger:w})}function w(t,e,n){const i=e[t],r=n[t];d(i)&&d(r)?x(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v(r))}function k(t,e){if(e.length<3)return t[e];const n=e.split(".");for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!(i in t))return;t=t[i]}return t}function _(t){return t.charAt(0).toUpperCase()+t.slice(1)}function M(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function T(t,e,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const s=n.length;let l,c,d,h,f;for(l=0;l<s;l++)if(h=n[l],null!=h&&!0!==u(h))a=M(t,r,o,a,h);else if(u(h))for(c=0,d=h.length;c<d;c++)f=h[c],null==f||u(f)||(a=M(t,r,o,a,f));t.restore();const g=o.length/2;if(g>n.length){for(l=0;l<g;l++)delete r[o[l]];o.splice(0,g)}return a}function S(t,e,n){const i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r}function C(t){t.ctx.clearRect(0,0,t.width,t.height)}function P(t,e,n,i){let r,o,a,s,l;const c=e.pointStyle,u=e.rotation,d=e.radius;let h=(u||0)*z;if(c&&"object"==typeof c&&(r=c.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(n,i),t.rotate(h),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),c){default:t.arc(n,i,d,0,U),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=q,t.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),h+=q,t.lineTo(n+Math.sin(h)*d,i-Math.cos(h)*d),t.closePath();break;case"rectRounded":l=.516*d,s=d-l,o=Math.cos(h+Y)*s,a=Math.sin(h+Y)*s,t.arc(n-o,i-a,l,h-j,h-V),t.arc(n+a,i-o,l,h-V,h),t.arc(n+o,i+a,l,h,h+V),t.arc(n-a,i+o,l,h+V,h+j),t.closePath();break;case"rect":if(!u){s=Math.SQRT1_2*d,t.rect(n-s,i-s,2*s,2*s);break}h+=Y;case"rectRot":o=Math.cos(h)*d,a=Math.sin(h)*d,t.moveTo(n-o,i-a),t.lineTo(n+a,i-o),t.lineTo(n+o,i+a),t.lineTo(n-a,i+o),t.closePath();break;case"crossRot":h+=Y;case"cross":o=Math.cos(h)*d,a=Math.sin(h)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"star":o=Math.cos(h)*d,a=Math.sin(h)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o),h+=Y,o=Math.cos(h)*d,a=Math.sin(h)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"line":o=Math.cos(h)*d,a=Math.sin(h)*d,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(h)*d,i+Math.sin(h)*d)}t.fill(),e.borderWidth>0&&t.stroke()}}function E(t,e){const n=.5;return t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function D(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function A(t){t.restore()}function L(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function O(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y)}function R(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const N=(t,e,n)=>R(t,n,(i=>t[i][e]<n)),I=(t,e,n)=>R(t,n,(i=>t[i][e]>=n));const H=["push","pop","shift","splice","unshift"];function F(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(H.forEach((e=>{delete t[e]})),delete t._chartjs)}const j=Math.PI,U=2*j,W=U+j,B=Number.POSITIVE_INFINITY,z=j/180,V=j/2,Y=j/4,q=2*j/3;const G=Math.log10||function(t){const e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e};function X(t){return!isNaN(parseFloat(t))&&isFinite(t)}function J(t,e,n){return Math.abs(t-e)<n}function Q(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}const $=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1};function K(t){return t*(j/180)}function Z(t){return t*(180/j)}function tt(t,e){return(t-e+W)%U-j}function et(t){return(t%U+U)%U}function nt(t,e,n){const i=et(t),r=et(e),o=et(n),a=et(r-i),s=et(o-i),l=et(i-r),c=et(i-o);return i===r||i===o||a>s&&l<c}function it(t,e,n){return Math.max(e,Math.min(n,t))}const rt=Number.EPSILON||1e-14;function ot(t,e,n,i){const r=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2));let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}}function at(t,e,n){return Math.max(Math.min(t,n),e)}function st(t,e,n,i){let r,o,a,s;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)!function(t){const e=(t||[]).map((t=>({model:t,deltaK:0,mK:0}))),n=e.length;let i,r,o,a,s,l,c,u,d;for(i=0;i<n;++i)if(o=e[i],!o.model.skip){if(r=i>0?e[i-1]:null,a=i<n-1?e[i+1]:null,a&&!a.model.skip){const t=a.model.x-o.model.x;o.deltaK=0!==t?(a.model.y-o.model.y)/t:0}!r||r.model.skip?o.mK=o.deltaK:!a||a.model.skip?o.mK=r.deltaK:$(r.deltaK)!==$(o.deltaK)?o.mK=0:o.mK=(r.deltaK+o.deltaK)/2}for(i=0;i<n-1;++i)o=e[i],a=e[i+1],o.model.skip||a.model.skip||(J(o.deltaK,0,rt)?o.mK=a.mK=0:(s=o.mK/o.deltaK,l=a.mK/o.deltaK,u=Math.pow(s,2)+Math.pow(l,2),u<=9||(c=3/Math.sqrt(u),o.mK=s*c*o.deltaK,a.mK=l*c*o.deltaK)));for(i=0;i<n;++i)o=e[i],o.model.skip||(r=i>0?e[i-1]:null,a=i<n-1?e[i+1]:null,r&&!r.model.skip&&(d=(o.model.x-r.model.x)/3,o.model.controlPointPreviousX=o.model.x-d,o.model.controlPointPreviousY=o.model.y-d*o.mK),a&&!a.model.skip&&(d=(a.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+d,o.model.controlPointNextY=o.model.y+d*o.mK))}(t);else{let n=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],s=ot(n,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.controlPointPreviousX=s.previous.x,a.controlPointPreviousY=s.previous.y,a.controlPointNextX=s.next.x,a.controlPointNextY=s.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],E(r,e)&&(n>0&&E(t[n-1],e)&&(r.controlPointPreviousX=at(r.controlPointPreviousX,e.left,e.right),r.controlPointPreviousY=at(r.controlPointPreviousY,e.top,e.bottom)),n<t.length-1&&E(t[n+1],e)&&(r.controlPointNextX=at(r.controlPointNextX,e.left,e.right),r.controlPointNextY=at(r.controlPointNextY,e.top,e.bottom)))}(t,n)}function lt(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function ct(t,e,n){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const ut=t=>window.getComputedStyle(t,null);const dt=["top","right","bottom","left"];function ht(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=dt[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ft(t,e){const{canvas:n,currentDevicePixelRatio:i}=e,r=ut(n),o="border-box"===r.boxSizing,a=ht(r,"padding"),s=ht(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.originalEvent||t,i=n.touches,r=i&&i.length?i[0]:n,{offsetX:o,offsetY:a}=r;let s,l,c=!1;if(o>0||a>0)s=o,l=a;else{const t=e.getBoundingClientRect();s=r.clientX-t.left,l=r.clientY-t.top,c=!0}return{x:s,y:l,box:c}}(t,n),d=a.left+(u&&s.left),h=a.top+(u&&s.top);let{width:f,height:g}=e;return o&&(f-=a.width+s.width,g-=a.height+s.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/g*n.height/i)}}function gt(t,e,n,i){const r=ut(t),o=ht(r,"margin"),a=ct(r.maxWidth,t,"clientWidth")||B,s=ct(r.maxHeight,t,"clientHeight")||B,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const o=lt(t);if(o){const t=o.getBoundingClientRect(),a=ut(o),s=ht(a,"border","width"),l=ht(a,"padding");e=t.width-l.width-s.width,n=t.height-l.height-s.height,i=ct(a.maxWidth,o,"clientWidth"),r=ct(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||B,maxHeight:r||B}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=ht(r,"border","width"),e=ht(r,"padding");c-=e.width+t.width,u-=e.height+t.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?Math.floor(c/i):u-o.height),{width:Math.min(c,a,l.maxWidth),height:Math.min(u,s,l.maxHeight)}}function pt(t,e){const n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1,{canvas:i,width:r,height:o}=t;i.height=o*n,i.width=r*n,t.ctx.setTransform(n,0,0,n,0,0),!i.style||i.style.height||i.style.width||(i.style.height=o+"px",i.style.width=r+"px")}const mt=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function vt(t,e){const n=function(t,e){return t.currentStyle?t.currentStyle[e]:ut(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function bt(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yt(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function xt(t,e,n,i){const r={x:t.controlPointNextX,y:t.controlPointNextY},o={x:e.controlPointPreviousX,y:e.controlPointPreviousY},a=bt(t,r,n),s=bt(r,o,n),l=bt(o,e,n),c=bt(a,s,n),u=bt(s,l,n);return bt(c,u,n)}function wt(t,e){if(!e)return t;const n=e.split(".");for(let e=0,i=n.length;e<i;++e){const i=n[e];t=t[i]||(t[i]={})}return t}var kt=new class{constructor(){this.color="rgba(0,0,0,0.1)",this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={color:"#666",family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null,lineWidth:0,strokeStyle:void 0},this.hover={onHover:null,mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onClick=null,this.responsive=!0,this.showLines=!0,this.plugins={},this.scale=void 0,this.doughnut=void 0,this.scales={},this.controllers=void 0}set(t,e){return y(wt(this,t),e)}get(t){return wt(this,t)}route(t,e,n,i){const r=wt(this,t),o=wt(this,n),a="_"+e;Object.defineProperties(r,{[a]:{writable:!0},[e]:{enumerable:!0,get(){return f(this[a],o[i])},set(t){this[a]=t}}})}};function _t(t,e){const n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Mt=t=>+t||0;function Tt(t){let e,n,i,r;return d(t)?(e=Mt(t.top),n=Mt(t.right),i=Mt(t.bottom),r=Mt(t.left)):e=n=i=r=Mt(t),{top:e,right:n,bottom:i,left:r}}function St(t){const e=Tt(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ct(t,e){t=t||{},e=e||kt.font;let n=f(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));const i={color:f(t.color,e.color),family:f(t.family,e.family),lineHeight:_t(f(t.lineHeight,e.lineHeight),n),lineWidth:f(t.lineWidth,e.lineWidth),size:n,style:f(t.style,e.style),weight:f(t.weight,e.weight),strokeStyle:f(t.strokeStyle,e.strokeStyle),string:""};return i.string=function(t){return!t||c(t.size)||c(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Pt(t,e,n,i){let r,o,a,s=!0;for(r=0,o=t.length;r<o;++r)if(a=t[r],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),s=!1),void 0!==n&&u(a)&&(a=a[n%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function Et(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Dt(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function At(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Lt(t){return"angle"===t?{between:nt,compare:tt,normalize:et}:{between:(t,e,n)=>t>=e&&t<=n,compare:(t,e)=>t-e,normalize:t=>t}}function Ot(t,e,n,i){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0}}function Rt(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,a=e.length,{compare:s,between:l,normalize:c}=Lt(i),{start:u,end:d,loop:h}=function(t,e,n){const{property:i,start:r,end:o}=n,{between:a,normalize:s}=Lt(i),l=e.length;let c,u,{start:d,end:h,loop:f}=t;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&a(s(e[d%l][i]),r,o);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f}}(t,e,n),f=[];let g,p,m,v=!1,b=null;const y=()=>v||l(r,m,g)&&0!==s(r,m),x=()=>!v||0===s(o,g)||l(o,m,g);for(let t=u,n=u;t<=d;++t)p=e[t%a],p.skip||(g=c(p[i]),v=l(g,r,o),null===b&&y()&&(b=0===s(g,r)?t:n),null!==b&&x()&&(f.push(Ot(b,t,h,a)),b=null),n=t,m=g);return null!==b&&f.push(Ot(b,d,h,a)),f}function Nt(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=Rt(i[r],t.points,e);o.length&&n.push(...o)}return n}const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ht="0123456789ABCDEF",Ft=t=>Ht[15&t],jt=t=>Ht[(240&t)>>4]+Ht[15&t],Ut=t=>(240&t)>>4==(15&t);function Wt(t){var e=function(t){return Ut(t.r)&&Ut(t.g)&&Ut(t.b)&&Ut(t.a)}(t)?Ft:jt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function Bt(t){return t+.5|0}const zt=(t,e,n)=>Math.max(Math.min(t,n),e);function Vt(t){return zt(Bt(2.55*t),0,255)}function Yt(t){return zt(Bt(255*t),0,255)}function qt(t){return zt(Bt(t/2.55)/100,0,1)}function Gt(t){return zt(Bt(100*t),0,100)}const Xt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Jt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qt(t,e,n){const i=e*Math.min(n,1-n),r=(e,r=(e+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function $t(t,e,n){const i=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Kt(t,e,n){const i=Qt(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Zt(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=Math.min(e,n,i),a=(r+o)/2;let s,l,c;return r!==o&&(c=r-o,l=a>.5?c/(2-r-o):c/(r+o),s=r===e?(n-i)/c+(n<i?6:0):r===n?(i-e)/c+2:(e-n)/c+4,s=60*s+.5),[0|s,l||0,a]}function te(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Yt)}function ee(t,e,n){return te(Qt,t,e,n)}function ne(t){return(t%360+360)%360}function ie(t){const e=Jt.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Vt(+e[5]):Yt(+e[5]));const r=ne(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return te(Kt,t,e,n)}(r,o,a):"hsv"===e[1]?function(t,e,n){return te($t,t,e,n)}(r,o,a):ee(r,o,a),{r:n[0],g:n[1],b:n[2],a:i}}const re={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ae;function se(t){ae||(ae=function(){const t={},e=Object.keys(oe),n=Object.keys(re);let i,r,o,a,s;for(i=0;i<e.length;i++){for(a=s=e[i],r=0;r<n.length;r++)o=n[r],s=s.replace(o,re[o]);o=parseInt(oe[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),ae.transparent=[0,0,0,0]);const e=ae[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function le(t,e,n){if(t){let i=Zt(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=ee(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function ce(t,e){return t?Object.assign(e||{},t):t}function ue(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Yt(t[3]))):(e=ce(t,{r:0,g:0,b:0,a:1})).a=Yt(e.a),e}function de(t){return"r"===t.charAt(0)?function(t){const e=Xt.exec(t);let n,i,r,o=255;if(e){if(e[7]!==n){const t=+e[7];o=255&(e[8]?Vt(t):255*t)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Vt(n):n),i=255&(e[4]?Vt(i):i),r=255&(e[6]?Vt(r):r),{r:n,g:i,b:r,a:o}}}(t):ie(t)}class he{constructor(t){if(t instanceof he)return t;const e=typeof t;let n;var i,r,o;"object"===e?n=ue(t):"string"===e&&(o=(i=t).length,"#"===i[0]&&(4===o||5===o?r={r:255&17*It[i[1]],g:255&17*It[i[2]],b:255&17*It[i[3]],a:5===o?17*It[i[4]]:255}:7!==o&&9!==o||(r={r:It[i[1]]<<4|It[i[2]],g:It[i[3]]<<4|It[i[4]],b:It[i[5]]<<4|It[i[6]],a:9===o?It[i[7]]<<4|It[i[8]]:255})),n=r||se(t)||de(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ce(this._rgb);return t&&(t.a=qt(t.a)),t}set rgb(t){this._rgb=ue(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?Wt(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const e=Zt(t),n=e[0],i=Gt(e[1]),r=Gt(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${qt(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):this._rgb}mix(t,e){const n=this;if(t){const i=n.rgb,r=t.rgb;let o;const a=e===o?.5:e,s=2*a-1,l=i.a-r.a,c=((s*l==-1?s:(s+l)/(1+s*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=a*i.a+(1-a)*r.a,n.rgb=i}return n}clone(){return new he(this.rgb)}alpha(t){return this._rgb.a=Yt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Bt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return le(this._rgb,2,t),this}darken(t){return le(this._rgb,2,-t),this}saturate(t){return le(this._rgb,1,t),this}desaturate(t){return le(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Zt(t);n[0]=ne(n[0]+e),n=ee(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function fe(t){return new he(t)}const ge=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function pe(t){return ge(t)?t:fe(t)}const me={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*V),easeOutSine:t=>Math.sin(t*V),easeInOutSine:t=>-.5*(Math.cos(j*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t)),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic(t){let e=1.70158,n=0;return 0===t?0:1===t?1:(n||(n=.3),e=n/U*Math.asin(1),-1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*U/n))},easeOutElastic(t){let e=1.70158,n=0;return 0===t?0:1===t?1:(n||(n=.3),e=n/U*Math.asin(1),1*Math.pow(2,-10*t)*Math.sin((t-e)*U/n)+1)},easeInOutElastic(t){let e=1.70158,n=0;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),e=n/U*Math.asin(1),t<1?1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*U/n)*-.5:1*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*U/n)*.5+1)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-me.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*me.easeInBounce(2*t):.5*me.easeOutBounce(2*t-1)+.5};var ve=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i]||[],o=e.duration;r.forEach((i=>i({chart:t,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){const t=this;t._request||(t._running=!0,t._request=o.call(window,(()=>{t._update(),t._request=null,t._running&&t._refresh()})))}_update(){const t=this,e=Date.now();let n=0;t._charts.forEach(((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let a,s=o.length-1,l=!1;for(;s>=0;--s)a=o[s],a._active?(a.tick(e),l=!0):(o[s]=o[o.length-1],o.pop());l&&(r.draw(),t._notify(r,i,e,"progress")),r.options.animation.debug&&function(t,e,n,i){const r=1e3/(n-i)|0,o=t.ctx;o.save(),o.clearRect(0,0,50,24),o.fillStyle="black",o.textAlign="right",e&&(o.fillText(e,50,8),o.fillText(r+" fps",50,18)),o.restore()}(r,o.length,e,t._lastDate),o.length||(i.running=!1,t._notify(r,i,e,"complete")),n+=o.length})),t._lastDate=e,0===n&&(t._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const be="transparent",ye={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=pe(t||be),r=i.valid&&pe(e||be);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class xe{constructor(t,e,n,i){const r=e[n];i=Pt([t.to,i,r,t.from]);const o=Pt([t.from,r,i]);this._active=!0,this._fn=t.fn||ye[t.type||typeof o],this._easing=me[t.easing||"linear"],this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){const i=this;if(i._active){const r=i._target[i._prop],o=n-i._start,a=i._duration-o;i._start=n,i._duration=Math.floor(Math.max(a,t.duration)),i._loop=!!t.loop,i._to=Pt([t.to,e,r,t.from]),i._from=Pt([t.from,r,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,n=t-e._start,i=e._duration,r=e._prop,o=e._from,a=e._loop,s=e._to;let l;if(e._active=o!==s&&(a||n<i),!e._active)return e._target[r]=s,void e._notify(!0);n<0?e._target[r]=o:(l=n/i%2,l=a&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[r]=e._fn(o,s,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let t=0;t<n.length;t++)n[t][e]()}}const we=["borderColor","backgroundColor"];kt.set("animation",{duration:1e3,easing:"easeOutQuart",onProgress:s,onComplete:s,colors:{type:"color",properties:we},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]},active:{duration:400},resize:{duration:0},show:{colors:{type:"color",properties:we,from:"transparent"},visible:{type:"boolean",duration:0}},hide:{colors:{type:"color",properties:we,to:"transparent"},visible:{type:"boolean",easing:"easeInExpo"}}});class ke{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!d(t))return;const e=this._properties,n=function(t){const e={};return Object.keys(t).forEach((n=>{const i=t[n];d(i)||(e[n]=i)})),e}(t);Object.keys(t).forEach((i=>{const r=t[i];d(r)&&(r.properties||[i]).forEach((t=>{if(e.has(t)){if(t===i){const{properties:n,...i}=e.get(t);e.set(t,Object.assign({},i,r))}}else e.set(t,Object.assign({},n,r))}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&!e.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&!i.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let e=0;e<i.length;e++){const r=t[i[e]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const l=o[s];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,a);continue}u.cancel()}d&&d.duration?(r[l]=u=new xe(d,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return function(t,e){const n=t.options,i=e.options;n&&i&&(n.$shared&&!i.$shared?t.options=Object.assign({},n,i,{$shared:!1}):Object.assign(n,i),delete e.options)}(t,e),void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(ve.add(this._chart,n),!0):void 0}}function _e(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:i?o:r,end:i?r:o}}function Me(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Te(t,e,n,i){const r=t.keys;let o,a,s,l;for(o=0,a=r.length;o<a;++o){if(s=+r[o],s===n){if(i)continue;break}l=t.values[s],isNaN(l)||0!==e&&$(e)!==$(l)||(e+=l)}return e}function Se(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Ce(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Pe(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=i,l=o.axis,c=a.axis,u=function(t,e,n){return t.id+"."+e.id+"."+n.stack+"."+n.type}(o,a,i),d=e.length;let h;for(let t=0;t<d;++t){const n=e[t],{[l]:i,[c]:o}=n;h=(n._stacks||(n._stacks={}))[c]=Ce(r,u,i),h[s]=o}}function Ee(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}const De=(t,e)=>e?"hover"+_(t):t,Ae=t=>"reset"===t||"none"===t;class Le{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedAnimations={},this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this._config=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=Se(e.vScale,e),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,e=t.chart,n=t._cachedMeta,i=t.getDataset(),r=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,o=n.xAxisID=f(i.xAxisID,Ee(e,"x")),a=n.yAxisID=f(i.yAxisID,Ee(e,"y")),s=n.rAxisID=f(i.rAxisID,Ee(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,o,a,s),u=n.vAxisID=r(l,a,o,s);n.xScale=t.getScaleForId(o),n.yScale=t.getScaleForId(a),n.rScale=t.getScaleForId(s),n.iScale=t.getScaleForId(c),n.vScale=t.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){this._data&&F(this._data,this)}_dataCheck(){const t=this,e=t.getDataset(),n=e.data||(e.data=[]);var i,r;d(n)?t._data=function(t){const e=Object.keys(t),n=new Array(e.length);let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],n[i]={x:o,y:t[o]};return n}(n):t._data!==n&&(t._data&&F(t._data,t),n&&Object.isExtensible(n)&&(r=t,(i=n)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),H.forEach((t=>{const e="_onData"+_(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...t){const r=n.apply(this,t);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[e]&&n[e](...t)})),r}})})))),t._data=n)}addElements(){const t=this,e=t._cachedMeta;t._dataCheck();const n=t._data,i=e.data=new Array(n.length);for(let e=0,r=n.length;e<r;++e)i[e]=new t.dataElementType;t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(){const t=this,e=t._cachedMeta,n=t.getDataset();let i=!1;t._dataCheck(),e._stacked=Se(e.vScale,e),e.stack!==n.stack&&(i=!0,e._parsed.forEach((t=>{delete t._stacks[e.vScale.id][e.index]})),e.stack=n.stack),t._resyncElements(),i&&Pe(t,e._parsed)}configure(){const t=this;t._config=y({},[t.chart.options[t._type].datasets,t.getDataset()],{merger(t,e,n){"data"!==t&&b(t,e,n)}}),t._parsing=Pt([t._config.parsing,t.chart.options.parsing,!0])}parse(t,e){const n=this,{_cachedMeta:i,_data:r}=n,{iScale:o,vScale:a,_stacked:s}=i,l=o.axis;let c,h,f,g,p=!0;if(t>0&&(p=i._sorted,g=i._parsed[t-1]),!1===n._parsing)i._parsed=r,i._sorted=!0;else{h=u(r[t])?n.parseArrayData(i,r,t,e):d(r[t])?n.parseObjectData(i,r,t,e):n.parsePrimitiveData(i,r,t,e);const o=()=>isNaN(f[l])||g&&f[l]<g[l];for(c=0;c<e;++c)i._parsed[c+t]=f=h[c],p&&(o()&&(p=!1),g=f);i._sorted=p}s&&Pe(n,h),o.invalidateCaches(),a.invalidateCaches()}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,a=r.axis,s=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let d,h,f;for(d=0,h=i;d<h;++d)f=d+n,u[d]={[a]:c||r.parse(l[f],f),[s]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,a=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=e[c],a[s]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=e[d],l[c]={x:r.parse(k(h,a),d),y:o.parse(k(h,s),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}applyStack(t,e){const n=this.chart,i=this._cachedMeta,r=e[t.axis];return Te({keys:Me(n,!0),values:e._stacks[t.axis]},r,i.index)}updateRangeFromParsed(t,e,n,i){let r=n[e.axis];const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,t.min=Math.min(t.min,r),t.max=Math.max(t.max,r),r=Te(i,r,this._cachedMeta.index,!0)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this,i=n._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,a=r.length,s=n._getOtherScale(t),l=e&&i._stacked&&{keys:Me(n.chart,!0),values:null},c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,f,g,p;function m(){return g=r[h],f=g[t.axis],p=g[s.axis],isNaN(f)||isNaN(p)||u>p||d<p}for(h=0;h<a&&(m()||(n.updateRangeFromParsed(c,t,g,l),!o));++h);if(o)for(h=a-1;h>=0;--h)if(!m()){n.updateRangeFromParsed(c,t,g,l);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],isNaN(o)||n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this,n=e._cachedMeta;e.configure(),e._cachedAnimations={},e._cachedDataOpts={},e.update(t||"default"),n._clip=function(t){let e,n,i,r;return d(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r}}(f(e._config.clip,function(t,e,n){if(!1===n)return!1;const i=_e(t,n),r=_e(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(n.xScale,n.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,n=t.chart,i=t._cachedMeta,r=i.data||[],o=n.chartArea,a=[],s=t._drawStart||0,l=t._drawCount||r.length-s;let c;for(i.dataset&&i.dataset.draw(e,o,s,l),c=s;c<s+l;++c){const t=r[c];t.active?a.push(t):t.draw(e,o)}for(c=0;c<a.length;++c)a[c].draw(e,o)}_addAutomaticHoverColors(t,e){const n=this.getStyle(t),i=Object.keys(n).filter((t=>-1!==t.indexOf("Color")&&!(t in e)));let r,o=i.length-1;for(;o>=0;o--)r=i[o],e[r]=(a=n[r],ge(a)?a:fe(a).saturate(.5).darken(.1).hexString());var a}getStyle(t,e){const n=this,i=n._cachedMeta.dataset;n._config||n.configure();const r=i&&void 0===t?n.resolveDatasetElementOptions(e):n.resolveDataElementOptions(t||0,e&&"active");return e&&n._addAutomaticHoverColors(t,r),r}getContext(t,e){return{chart:this.chart,dataPoint:this.getParsed(t),dataIndex:t,dataset:this.getDataset(),datasetIndex:this.index,active:e}}resolveDatasetElementOptions(t){return this._resolveOptions(this.datasetElementOptions,{active:t,type:this.datasetElementType.id})}resolveDataElementOptions(t,e){const n=this,i="active"===(e=e||"default"),r=n._cachedDataOpts,o=r[e],a=n.enableOptionSharing;if(o)return((t,e)=>e?t:Object.assign({},t))(o,a);const s={cacheable:!i},l=n._resolveOptions(n.dataElementOptions,{index:t,active:i,info:s,type:n.dataElementType.id});return s.cacheable&&(l.$shared=a,r[e]=((t,e)=>e?Object.freeze(t):t)(l,a)),l}_resolveOptions(t,e){const n=this,{index:i,active:r,type:o,info:a}=e,s=n._config,l=n.chart.options.elements[o]||{},c={},d=n.getContext(i,r),h=(t=>u(t)?t:Object.keys(t))(t);for(let e=0,n=h.length;e<n;++e){const n=h[e],o=De(n,r),u=Pt([s[t[o]],s[o],l[o]],d,i,a);void 0!==u&&(c[n]=u)}return c}_resolveAnimations(t,e,n){const i=this,r=i.chart,o=i._cachedAnimations;if(o[e=e||"default"])return o[e];const a={cacheable:!0},s=i.getContext(t,n),l=Pt([r.options.animation],s,t,a),c=Pt([i._config.animation],s,t,a);let u=l&&x({},[c,l]);u[e]&&(u=Object.assign({},u,u[e]));const d=new ke(r,u);return a.cacheable&&(o[e]=d&&Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ae(t)}updateElement(t,e,n,i){Ae(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&this._resolveAnimations(void 0,e).update({options:t},{options:n})}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(){const t=this,e=t._cachedMeta,n=e.data.length,i=t._data.length;i>n?t._insertElements(n,i-n):i<n&&(e.data.splice(i,n-i),e._parsed.splice(i,n-i)),t.parse(0,Math.min(i,n))}_insertElements(t,e){const n=this,i=new Array(e),r=n._cachedMeta,o=r.data;let a;for(a=0;a<e;++a)i[a]=new n.dataElementType;o.splice(t,0,...i),n._parsing&&r._parsed.splice(t,0,...new Array(e)),n.parse(t,e),n.updateElements(o,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this;n._parsing&&n._cachedMeta._parsed.splice(t,e),n._cachedMeta.data.splice(t,e)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,e){this._removeElements(t,e),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}function Oe(t,e,n,i){return u(t)?function(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),a=Math.min(r,o),s=Math.max(r,o);let l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:a,max:s}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Re(t,e,n,i){const r=t.iScale,o=t.vScale,a=r.getLabels(),s=r===o,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=s||r.parse(a[c],c),l.push(Oe(h,d,o,c));return l}function Ne(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}Le.defaults={},Le.prototype.datasetElementType=null,Le.prototype.dataElementType=null,Le.prototype.datasetElementOptions=["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],Le.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","pointStyle"];class Ie extends Le{parsePrimitiveData(t,e,n,i){return Re(t,e,n,i)}parseArrayData(t,e,n,i){return Re(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?a:s,c="x"===o.axis?a:s,u=[];let d,h,f,g;for(d=n,h=n+i;d<h;++d)g=e[d],f={},f[r.axis]=r.parse(k(g,l),d),u.push(Oe(k(g,c),f,o,d));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,a=Ne(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();t._cachedMeta.stack=t.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r=this,o="reset"===i,a=r._cachedMeta.vScale,s=a.getBasePixel(),l=a.isHorizontal(),c=r._getRuler(),u=r.resolveDataElementOptions(e,i),d=r.getSharedOptions(u),h=r.includeOptions(i,d);r.updateSharedOptions(d,i,u);for(let a=e;a<e+n;a++){const e=d||r.resolveDataElementOptions(a,i),n=r._calculateBarValuePixels(a,e),u=r._calculateBarIndexPixels(a,c,e),f={horizontal:l,base:o?s:n.base,x:l?o?s:n.head:u.center,y:l?u.center:o?s:n.head,height:l?u.size:void 0,width:l?void 0:u.size};h&&(f.options=e),r.updateElement(t[a],a,f,i)}}_getStacks(t,e){const n=this._cachedMeta.iScale,i=n.getMatchingVisibleMetas(this._type),r=n.options.stacked,o=i.length,a=[];let s,l;for(s=0;s<o;++s){if(l=i[s],void 0!==e){const t=l.controller.getParsed(e)[l.controller._cachedMeta.vScale.axis];if(c(t)||isNaN(t))continue}if((!1===r||-1===a.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&a.push(l.stack),l.index===t)break}return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e){const n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i}_getRuler(){const t=this,e=t._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(t.getParsed(r)[n.axis],r));return{min:function(t,e){let n,i,r,o,a=t._length;for(r=1,o=e.length;r<o;++r)a=Math.min(a,Math.abs(e[r]-e[r-1]));for(r=0,o=t.ticks.length;r<o;++r)i=t.getPixelForTick(r),a=r>0?Math.min(a,Math.abs(i-n)):a,n=i;return a}(n,i),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:t._getStackCount(),scale:n}}_calculateBarValuePixels(t,e){const n=this,i=n._cachedMeta,r=i.vScale,o=e.minBarLength,a=n.getParsed(t),s=a._custom;let l,c,u=a[r.axis],d=0,h=i._stacked?n.applyStack(r,a):u;h!==u&&(d=h-u,h=u),Ne(s)&&(u=s.barStart,h=s.barEnd-s.barStart,0!==u&&$(u)!==$(s.barEnd)&&(d=0),d+=u);let f=it(r.getPixelForValue(d),r._startPixel-10,r._endPixel+10);return l=this.chart.getDataVisibility(t)?r.getPixelForValue(d+h):f,c=l-f,void 0!==o&&Math.abs(c)<o&&(c=c<0?-o:o,0===u&&(f-=c/2),l=f+c),{size:c,base:f,head:l,center:l+c/2}}_calculateBarIndexPixels(t,e,n){const i=this,r=i.chart.options.skipNull?i._getStackCount(t):e.stackCount,o="flex"===n.barThickness?function(t,e,n,i){const r=e.pixels,o=r[t];let a=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,n,r):function(t,e,n,i){const r=n.barThickness;let o,a;return c(r)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:e.pixels[t]-o/2}}(t,e,n,r),a=i._getStackIndex(i.index,i._cachedMeta.stack),s=o.start+o.chunk*a+o.chunk/2,l=Math.min(f(n.maxBarThickness,1/0),o.chunk*o.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const t=this,e=t.chart,n=t._cachedMeta,i=n.vScale,r=n.data,o=r.length;let a=0;for(D(e.ctx,e.chartArea);a<o;++a)isNaN(t.getParsed(a)[i.axis])||r[a].draw(t._ctx);A(e.ctx)}}Ie.id="bar",Ie.defaults={datasetElementType:!1,dataElementType:"rectangle",dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],hover:{mode:"index"},datasets:{categoryPercentage:.8,barPercentage:.9,animation:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},scales:{_index_:{type:"category",offset:!0,gridLines:{offsetGridLines:!0}},_value_:{type:"linear",beginAtZero:!0}}};class He extends Le{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=[];let c,u,d;for(c=n,u=n+i;c<u;++c)d=e[c],l.push({x:r.parse(k(d,a),c),y:o.parse(k(d,s),c),_custom:d&&d.r&&+d.r});return l}getMaxOverflow(){const t=this;let e=(t._cachedMeta.data||[]).length-1,n=0;for(;e>=0;--e)n=Math.max(n,t.getStyle(e,!0).radius);return n>0&&n}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:i}=e,r=this.getParsed(t),o=n.getLabelForValue(r.x),a=i.getLabelForValue(r.y),s=r._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r=this,o="reset"===i,{xScale:a,yScale:s}=r._cachedMeta,l=r.resolveDataElementOptions(e,i),c=r.getSharedOptions(l),u=r.includeOptions(i,c);for(let l=e;l<e+n;l++){const e=t[l],n=!o&&r.getParsed(l),c=o?a.getPixelForDecimal(.5):a.getPixelForValue(n.x),d=o?s.getBasePixel():s.getPixelForValue(n.y),h={x:c,y:d,skip:isNaN(c)||isNaN(d)};u&&(h.options=r.resolveDataElementOptions(l,i),o&&(h.options.radius=0)),r.updateElement(e,l,h,i)}r.updateSharedOptions(c,i,l)}resolveDataElementOptions(t,e){const n=this,i=n.chart,r=n.getParsed(t);let o=super.resolveDataElementOptions(t,e);const a=n.getContext(t,"active"===e);return o.$shared&&(o=Object.assign({},o,{$shared:!1})),"active"!==e&&(o.radius=0),o.radius+=Pt([r&&r._custom,n._config.radius,i.options.elements.point.radius],a,t),o}}He.id="bubble",He.defaults={datasetElementType:!1,dataElementType:"point",dataElementOptions:["backgroundColor","borderColor","borderWidth","hitRadius","radius","pointStyle","rotation"],animation:{numbers:{properties:["x","y","borderWidth","radius"]}},scales:{x:{type:"linear"},y:{type:"linear"}},tooltips:{callbacks:{title:()=>""}}};class Fe extends Le{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;let r,o;for(r=t,o=t+e;r<o;++r)i._parsed[r]=+n[r]}getRingIndex(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e}_getRotationExtents(){let t=U,e=-U;const n=this,i=n.chart.options;for(let r=0;r<n.chart.data.datasets.length;++r)if(n.chart.isDatasetVisible(r)){const o=n.chart.data.datasets[r],a=K(f(o.rotation,i.rotation)-90),s=K(f(o.circumference,i.circumference));t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){const e=this,n=e.chart,{chartArea:i,options:r}=n,o=e._cachedMeta,a=o.data,s=r.cutoutPercentage/100||0,l=e._getRingWeight(e.index),{circumference:c,rotation:u}=e._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:f,offsetY:g}=function(t,e,n){let i=1,r=1,o=0,a=0;if(e<U){let s=t%U;s+=s>=j?-U:s<-j?U:0;const l=s+e,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),f=s<=0&&l>=0||l>=U,g=s<=V&&l>=V||l>=U+V,p=s<=-V&&l>=-V||l>=j+V,m=s===-j||l>=j?-1:Math.min(c,c*n,d,d*n),v=p?-1:Math.min(u,u*n,h,h*n),b=f?1:Math.max(c,c*n,d,d*n),y=g?1:Math.max(u,u*n,h,h*n);i=(b-m)/2,r=(y-v)/2,o=-(b+m)/2,a=-(y+v)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}(u,c,s),p=e.getMaxBorderWidth()+e.getMaxOffset(a),m=(i.right-i.left-p)/d,v=(i.bottom-i.top-p)/h,b=Math.max(Math.min(m,v)/2,0),y=(b-Math.max(b*s,0))/e._getVisibleDatasetWeightTotal();e.offsetX=f*b,e.offsetY=g*b,o.total=e.calculateTotal(),e.outerRadius=b-y*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-y*l,0),e.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this,i=n.chart.options,r=n._cachedMeta,o=K(f(n._config.circumference,i.circumference));return e&&i.animation.animateRotate?0:this.chart.getDataVisibility(t)?n.calculateCircumference(r._parsed[t]*o/U):0}updateElements(t,e,n,i){const r=this,o="reset"===i,a=r.chart,s=a.chartArea,l=a.options,c=l.animation,u=(s.left+s.right)/2,d=(s.top+s.bottom)/2,h=o&&c.animateScale,g=h?0:r.innerRadius,p=h?0:r.outerRadius,m=r.resolveDataElementOptions(e,i),v=r.getSharedOptions(m),b=r.includeOptions(i,v);let y,x=K(f(r._config.rotation,l.rotation)-90);for(y=0;y<e;++y)x+=r._circumference(y,o);for(y=e;y<e+n;++y){const e=r._circumference(y,o),n=t[y],a={x:u+r.offsetX,y:d+r.offsetY,startAngle:x,endAngle:x+e,circumference:e,outerRadius:p,innerRadius:g};b&&(a.options=v||r.resolveDataElementOptions(y,i)),x+=e,r.updateElement(n,y,a,i)}r.updateSharedOptions(v,i,m)}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const e=t._parsed[n];!isNaN(e)&&this.chart.getDataVisibility(n)&&(i+=Math.abs(e))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?U*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta;return{label:(this.chart.data.labels||[])[t]||"",value:e._parsed[t]}}getMaxBorderWidth(t){const e=this;let n=0;const i=e.chart;let r,o,a,s,l;if(!t)for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,s=a.controller,s!==e&&s.configure();break}if(!t)return 0;for(r=0,o=t.length;r<o;++r)l=s.resolveDataElementOptions(r),"inner"!==l.borderAlign&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(f(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fe.id="doughnut",Fe.defaults={datasetElementType:!1,dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]},animateRotate:!0,animateScale:!1},aspectRatio:1,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(((e,n)=>{const i=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:!t.getDataVisibility(n),index:n}})):[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},cutoutPercentage:50,rotation:0,circumference:360,tooltips:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return u(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}};class je extends Le{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,n=e._cachedMeta,{dataset:i,data:r=[]}=n,o=e.chart._animationsDisabled;let{start:a,count:s}=function(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:a,_parsed:s}=t,l=a.axis,{min:c,max:u,minDefined:d,maxDefined:h}=a.getUserBounds();d&&(r=it(Math.min(N(s,a.axis,c).lo,n?i:N(e,l,a.getPixelForValue(c)).lo),0,i-1)),o=h?it(Math.max(N(s,a.axis,u).hi+1,n?0:N(e,l,a.getPixelForValue(u)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(n,r,o);if(e._drawStart=a,e._drawCount=s,function(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}(n)&&!o&&(a=0,s=r.length),"resize"!==t){const n={points:r,options:e.resolveDatasetElementOptions()};e.updateElement(i,void 0,n,t)}e.updateElements(r,a,s,t)}updateElements(t,e,n,i){const r=this,o="reset"===i,{xScale:a,yScale:s,_stacked:l}=r._cachedMeta,c=r.resolveDataElementOptions(e,i),u=r.getSharedOptions(c),d=r.includeOptions(i,u),h=f(r._config.spanGaps,r.chart.options.spanGaps),g=X(h)?h:Number.POSITIVE_INFINITY;let p=e>0&&r.getParsed(e-1);for(let c=e;c<e+n;++c){const e=t[c],n=r.getParsed(c),h=a.getPixelForValue(n.x,c),f=o?s.getBasePixel():s.getPixelForValue(l?r.applyStack(s,n):n.y,c),m={x:h,y:f,skip:isNaN(h)||isNaN(f),stop:c>0&&n.x-p.x>g};d&&(m.options=u||r.resolveDataElementOptions(c,i)),r.updateElement(e,c,m,i),p=n}r.updateSharedOptions(u,i,c)}resolveDatasetElementOptions(t){const e=this._config,n=this.chart.options,i=n.elements.line,r=super.resolveDatasetElementOptions(t),o=f(e.showLine,n.showLines);return r.spanGaps=f(e.spanGaps,n.spanGaps),r.tension=f(e.lineTension,i.tension),r.stepped=Pt([e.stepped,i.stepped]),o||(r.borderWidth=0),r}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset.options.borderWidth||0,n=t.data||[];if(!n.length)return e;const i=n[0].size(),r=n[n.length-1].size();return Math.max(e,i,r)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}je.id="line",je.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","capBezierPoints","cubicInterpolationMode","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverHitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},showLines:!0,spanGaps:!1,hover:{mode:"index"},scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Ue extends Le{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this,e=t.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),a=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();t.outerRadius=o-a*t.index,t.innerRadius=t.outerRadius-a}updateElements(t,e,n,i){const r=this,o="reset"===i,a=r.chart,s=r.getDataset(),l=a.options,c=l.animation,u=r._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=K(l.startAngle)-.5*j;let g,p=f;for(r._cachedMeta.count=r.countVisibleElements(),g=0;g<e;++g)p+=r._computeAngle(g,i);for(g=e;g<e+n;g++){const e=t[g];let n=p,a=p+r._computeAngle(g,i),l=this.chart.getDataVisibility(g)?u.getDistanceFromCenterForValue(s.data[g]):0;p=a,o&&(c.animateScale&&(l=0),c.animateRotate&&(n=f,a=f));const m={x:d,y:h,innerRadius:0,outerRadius:l,startAngle:n,endAngle:a,options:r.resolveDataElementOptions(g,i)};r.updateElement(e,g,m,i)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let n=0;return e.data.forEach(((e,i)=>{!isNaN(t.data[i])&&this.chart.getDataVisibility(i)&&n++})),n}_computeAngle(t,e){const n=this,i=n._cachedMeta.count,r=n.getDataset();if(isNaN(r.data[t])||!this.chart.getDataVisibility(t))return 0;const o=n.getContext(t,"active"===e);return K(Pt([n.chart.options.elements.arc.angle,360/i],o,t))}}Ue.id="polarArea",Ue.defaults={dataElementType:"arc",dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","offset"],animation:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]},animateRotate:!0,animateScale:!0},aspectRatio:1,datasets:{indexAxis:"r"},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,gridLines:{circular:!0},pointLabels:{display:!1}}},startAngle:0,legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(((e,n)=>{const i=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:!t.getDataVisibility(n),index:n}})):[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltips:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}};class We extends Fe{}We.id="pie",We.defaults={cutoutPercentage:0};class Be extends Le{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}update(t){const e=this,n=e._cachedMeta,i=n.dataset,r=n.data||[],o=n.iScale.getLabels();if("resize"!==t){const n={points:r,_loop:!0,_fullLoop:o.length===r.length,options:e.resolveDatasetElementOptions()};e.updateElement(i,void 0,n,t)}e.updateElements(r,0,r.length,t)}updateElements(t,e,n,i){const r=this,o=r.getDataset(),a=r._cachedMeta.rScale,s="reset"===i;for(let l=e;l<e+n;l++){const e=t[l],n=r.resolveDataElementOptions(l,i),c=a.getPointPositionForValue(l,o.data[l]),u=s?a.xCenter:c.x,d=s?a.yCenter:c.y,h={x:u,y:d,angle:c.angle,skip:isNaN(u)||isNaN(d),options:n};r.updateElement(e,l,h,i)}}resolveDatasetElementOptions(t){const e=this._config,n=this.chart.options,i=super.resolveDatasetElementOptions(t),r=f(e.showLine,n.showLines);return i.spanGaps=f(e.spanGaps,n.spanGaps),i.tension=f(e.lineTension,n.elements.line.tension),r||(i.borderWidth=0),i}}Be.id="radar",Be.defaults={datasetElementType:"line",datasetElementOptions:["backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","borderWidth","fill"],dataElementType:"point",dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},aspectRatio:1,spanGaps:!1,scales:{r:{type:"radialLinear"}},datasets:{indexAxis:"r"},elements:{line:{fill:"start",tension:0}}};class ze extends je{}function Ve(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}ze.id="scatter",ze.defaults={scales:{x:{type:"linear"},y:{type:"linear"}},datasets:{showLine:!1,fill:!1},tooltips:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}};class Ye{constructor(t){this.options=t||{}}formats(){return Ve()}parse(t,e){return Ve()}format(t,e){return Ve()}add(t,e,n){return Ve()}diff(t,e,n){return Ve()}startOf(t,e,n){return Ve()}endOf(t,e){return Ve()}}Ye.override=function(t){Object.assign(Ye.prototype,t)};var qe={_date:Ye};function Ge(t,e){return"native"in t?{x:t.x,y:t.y}:ft(t,e)}function Xe(t,e,n,i){const{controller:r,data:o,_sorted:a}=t,s=r._cachedMeta.iScale;if(s&&e===s.axis&&a&&o.length){const t=s._reversePixels?I:N;if(!i)return t(o,e,n);if(r._sharedOptions){const i=o[0],r="function"==typeof i.getRange&&i.getRange(e);if(r){const i=t(o,e,n-r),a=t(o,e,n+r);return{lo:i.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Je(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let t=0,n=o.length;t<n;++t){const{index:n,data:s}=o[t],{lo:l,hi:c}=Xe(o[t],e,a,r);for(let t=l;t<=c;++t){const e=s[t];e.skip||i(e,n,t)}}}function Qe(t,e,n,i){const r=[];if(!E(e,t.chartArea))return r;return Je(t,n,e,(function(t,n,o){t.inRange(e.x,e.y,i)&&r.push({element:t,datasetIndex:n,index:o})}),!0),r}function $e(t,e,n,i,r){const o=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let a=Number.POSITIVE_INFINITY,s=[];if(!E(e,t.chartArea))return s;return Je(t,n,e,(function(t,n,l){if(i&&!t.inRange(e.x,e.y,r))return;const c=t.getCenterPoint(r),u=o(e,c);u<a?(s=[{element:t,datasetIndex:n,index:l}],a=u):u===a&&s.push({element:t,datasetIndex:n,index:l})})),s}function Ke(t,e,n,i){const r=Ge(e,t),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange";let l=!1;return function(t,e){const n=t.getSortedVisibleDatasetMetas();let i,r,o;for(let t=0,a=n.length;t<a;++t){({index:i,data:r}=n[t]);for(let t=0,n=r.length;t<n;++t)o=r[t],o.skip||e(o,i,t)}}(t,((t,e,n)=>{t[s](r[a],i)&&o.push({element:t,datasetIndex:e,index:n}),t.inRange(r.x,r.y,i)&&(l=!0)})),n.intersect&&!l?[]:o}var Ze={modes:{index(t,e,n,i){const r=Ge(e,t),o=n.axis||"x",a=n.intersect?Qe(t,r,o,i):$e(t,r,o,!1,i),s=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&s.push({element:n,datasetIndex:t.index,index:e})})),s):[]},dataset(t,e,n,i){const r=Ge(e,t),o=n.axis||"xy";let a=n.intersect?Qe(t,r,o,i):$e(t,r,o,!1,i);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>Qe(t,Ge(e,t),n.axis||"xy",i),nearest:(t,e,n,i)=>$e(t,Ge(e,t),n.axis||"xy",n.intersect,i),x:(t,e,n,i)=>(n.axis="x",Ke(t,e,n,i)),y:(t,e,n,i)=>(n.axis="y",Ke(t,e,n,i))}};const tn=["left","top","right","bottom"];function en(t,e){return t.filter((t=>t.pos===e))}function nn(t,e){return t.filter((t=>-1===tn.indexOf(t.pos)&&t.box.axis===e))}function rn(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function on(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function an(t,e,n){const i=n.box,r=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?i.height:i.width,t[n.pos]+=n.size,i.getPadding){const t=i.getPadding();r.top=Math.max(r.top,t.top),r.left=Math.max(r.left,t.left),r.bottom=Math.max(r.bottom,t.bottom),r.right=Math.max(r.right,t.right)}const o=e.outerWidth-on(r,t,"left","right"),a=e.outerHeight-on(r,t,"top","bottom");if(o!==t.w||a!==t.h)return t.w=o,t.h=a,n.horizontal?o!==t.w:a!==t.h}function sn(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function ln(t,e,n){const i=[];let r,o,a,s,l,c;for(r=0,o=t.length;r<o;++r)a=t[r],s=a.box,s.update(a.width||e.w,a.height||e.h,sn(a.horizontal,e)),an(e,n,a)&&(c=!0,i.length&&(l=!0)),s.fullWidth||i.push(a);return l&&ln(i,e,n)||c}function cn(t,e,n){const i=n.padding;let r,o,a,s,l=e.x,c=e.y;for(r=0,o=t.length;r<o;++r)a=t[r],s=a.box,a.horizontal?(s.left=s.fullWidth?i.left:e.left,s.right=s.fullWidth?n.outerWidth-i.right:e.left+e.w,s.top=c,s.bottom=c+s.height,s.width=s.right-s.left,c=s.bottom):(s.left=l,s.right=l+s.width,s.top=s.fullWidth?i.top:e.top,s.bottom=s.fullWidth?n.outerHeight-i.right:e.top+e.h,s.height=s.bottom-s.top,l=s.right);e.x=l,e.y=c}kt.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var un={addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){const i=["fullWidth","position","weight"],r=i.length;let o,a=0;for(;a<r;++a)o=i[a],Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},update(t,e,n){if(!t)return;const i=St((t.options.layout||{}).padding),r=e-i.width,o=n-i.height,a=function(t){const e=function(t){const e=[];let n,i,r;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],e.push({index:n,box:r,pos:r.position,horizontal:r.isHorizontal(),weight:r.weight});return e}(t),n=rn(en(e,"left"),!0),i=rn(en(e,"right")),r=rn(en(e,"top"),!0),o=rn(en(e,"bottom")),a=nn(e,"x"),s=nn(e,"y");return{leftAndTop:n.concat(r),rightAndBottom:i.concat(s).concat(o).concat(a),chartArea:en(e,"chartArea"),vertical:n.concat(i).concat(s),horizontal:r.concat(o).concat(a)}}(t.boxes),s=a.vertical,l=a.horizontal,c=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/s.length,hBoxMaxHeight:o/2}),u=Object.assign({maxPadding:Object.assign({},i),w:r,h:o,x:i.left,y:i.top},i);!function(t,e){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.horizontal?(r.width=r.box.fullWidth&&e.availableWidth,r.height=e.hBoxMaxHeight):(r.width=e.vBoxMaxWidth,r.height=r.box.fullWidth&&e.availableHeight)}(s.concat(l),c),ln(s,u,c),ln(l,u,c)&&ln(s,u,c),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(u),cn(a.leftAndTop,u,c),u.x+=u.w,u.y+=u.h,cn(a.rightAndBottom,u,c),t.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},p(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(u.w,u.h)}))}};class dn{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}}class hn extends dn{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const fn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gn=t=>null===t||""===t;const pn=!!mt&&{passive:!0};function mn(t,e,n){t.canvas.removeEventListener(e,n,pn)}function vn(t,e,n){const i=t.canvas,r=i&&lt(i)||i,o=new MutationObserver((t=>{const e=lt(r);t.forEach((t=>{for(let i=0;i<t.addedNodes.length;i++){const o=t.addedNodes[i];o!==r&&o!==e||n(t.target)}}))}));return o.observe(document,{childList:!0,subtree:!0}),o}function bn(t,e,n){const i=t.canvas,r=i&&lt(i);if(!r)return;const o=new MutationObserver((t=>{t.forEach((t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===i){n();break}}))}));return o.observe(r,{childList:!0}),o}const yn=new Map;let xn=0;function wn(){const t=window.devicePixelRatio;t!==xn&&(xn=t,yn.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function kn(t,e,n){const i=t.canvas,r=i&&lt(i);if(!r)return;const o=a(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(t,e){yn.size||window.addEventListener("resize",wn),yn.set(t,e)}(t,o),s}function _n(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){yn.delete(t),yn.size||window.removeEventListener("resize",wn)}(t)}function Mn(t,e,n){const i=t.canvas,r=a((e=>{null!==t.ctx&&n(function(t,e){const n=fn[t.type]||t.type,{x:i,y:r}=ft(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,pn)}(i,e,r),r}class Tn extends dn{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gn(r)){const e=vt(t,"width");void 0!==e&&(t.width=e)}if(gn(i))if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{const e=vt(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const n=e.$chartjs.initial;["height","width"].forEach((t=>{const i=n[t];c(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:vn,detach:bn,resize:kn}[e]||Mn;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:_n,detach:_n,resize:_n}[e]||mn)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return gt(t,e,n,i)}isAttached(t){const e=lt(t);return!(!e||!lt(e))}}class Sn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return X(this.x)&&X(this.y)}getProps(t,e){const n=this,i=this.$animations;if(!e||!i)return n;const r={};return t.forEach((t=>{r[t]=i[t]&&i[t].active?i[t]._to:n[t]})),r}}Sn.defaults={},Sn.defaultRoutes=void 0;const Cn=new Map,Pn={values:t=>u(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale,r=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));let o;(r<1e-4||r>1e15)&&(o="scientific");let a=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;Math.abs(a)>1&&t!==Math.floor(t)&&(a=t-Math.floor(t));const s=G(Math.abs(a)),l=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};Object.assign(c,this.options.ticks.format);const u=i+JSON.stringify(c);let d=Cn.get(u);return d||(d=new Intl.NumberFormat(i,c),Cn.set(u,d)),d.format(t)},logarithmic:function(t,e,n){if(0===t)return"0";const i=t/Math.pow(10,Math.floor(G(t)));return 1===i||2===i||5===i?Pn.numeric.call(this,t,e,n):""}};var En={formatters:Pn};function Dn(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function An(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,a=t._endPixel,s=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,a-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<o-s||c>a+s)))return c}function Ln(t){return t.drawTicks?t.tickMarkLength:0}function On(t,e){if(!t.display)return 0;const n=Ct(t.font,e),i=St(t.padding);return n.lineHeight+i.height}function Rn(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const o=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i==0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>r)return e}return Math.max(r,1)}function Nn(t,e,n,i,r){const o=f(i,0),a=Math.min(f(r,t.length),t.length);let s,l,c,u=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<a;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}kt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,lineWidth:0,strokeStyle:"",padding:0,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:En.formatters.values,minor:{},major:{},align:"center",crossAlign:"near"}});class In extends Sn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._ticksLength=0,this._borderValue=0}init(t){const e=this;e.options=t,e.axis=e.isHorizontal()?"x":"y",e._userMin=e.parse(t.min),e._userMax=e.parse(t.max)}parse(t,e){return t}getUserBounds(){let t=this._userMin,e=this._userMax;return(c(t)||isNaN(t))&&(t=Number.POSITIVE_INFINITY),(c(e)||isNaN(e))&&(e=Number.NEGATIVE_INFINITY),{min:t,max:e,minDefined:h(t),maxDefined:h(e)}}getMinMax(t){const e=this;let n,{min:i,max:r,minDefined:o,maxDefined:a}=e.getUserBounds();if(o&&a)return{min:i,max:r};const s=e.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)n=s[l].controller.getMinMax(e,t),o||(i=Math.min(i,n.min)),a||(r=Math.max(r,n.max));return{min:i,max:r}}invalidateCaches(){}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeUpdate(){g(this.options.beforeUpdate,[this])}update(t,e,n){const i=this,r=i.options.ticks,o=r.sampleSize;i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i._margins=Object.assign({left:0,right:0,top:0,bottom:0},n),i.ticks=null,i._labelSizes=null,i._gridLineItems=null,i._labelItems=null,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i.beforeBuildTicks(),i.ticks=i.buildTicks()||[],i.afterBuildTicks();const a=o<i.ticks.length;i._convertTicksToLabels(a?Dn(i.ticks,o):i.ticks),i.configure(),i.beforeCalculateLabelRotation(),i.calculateLabelRotation(),i.afterCalculateLabelRotation(),i.beforeFit(),i.fit(),i.afterFit(),i.ticks=r.display&&(r.autoSkip||"auto"===r.source)?i._autoSkip(i.ticks):i.ticks,a&&i._convertTicksToLabels(i.ticks),i.afterUpdate()}configure(){const t=this;let e,n,i=t.options.reverse;t.isHorizontal()?(e=t.left,n=t.right):(e=t.top,n=t.bottom,i=!i),t._startPixel=e,t._endPixel=n,t._reversePixels=i,t._length=n-e}afterUpdate(){g(this.options.afterUpdate,[this])}beforeSetDimensions(){g(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){g(this.options.afterSetDimensions,[this])}beforeDataLimits(){g(this.options.beforeDataLimits,[this])}determineDataLimits(){}afterDataLimits(){g(this.options.afterDataLimits,[this])}beforeBuildTicks(){g(this.options.beforeBuildTicks,[this])}buildTicks(){return[]}afterBuildTicks(){g(this.options.afterBuildTicks,[this])}beforeTickToLabelConversion(){g(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,n=e.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=g(n.callback,[o.value,i,t],e)}afterTickToLabelConversion(){g(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){g(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,n=e.ticks,i=t.ticks.length,r=n.minRotation||0,o=n.maxRotation;let a,s,l,c=r;if(!t._isVisible()||!n.display||r>=o||i<=1||!t.isHorizontal())return void(t.labelRotation=r);const u=t._getLabelSizes(),d=u.widest.width,h=u.highest.height-u.highest.offset,f=Math.min(t.maxWidth,t.chart.width-d);a=e.offset?t.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),s=t.maxHeight-Ln(e.gridLines)-n.padding-On(e.scaleLabel,t.chart.options.font),l=Math.sqrt(d*d+h*h),c=Z(Math.min(Math.asin(Math.min((u.highest.height+6)/a,1)),Math.asin(Math.min(s/l,1))-Math.asin(h/l))),c=Math.max(r,Math.min(o,c))),t.labelRotation=c}afterCalculateLabelRotation(){g(this.options.afterCalculateLabelRotation,[this])}beforeFit(){g(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},n=t.chart,i=t.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,s=t._isVisible(),l="top"!==i.position&&"x"===t.axis,c=t.isHorizontal(),u=s&&On(o,n.options.font);if(c?e.width=t.maxWidth:s&&(e.width=Ln(a)+u),c?s&&(e.height=Ln(a)+u):e.height=t.maxHeight,r.display&&s&&t.ticks.length){const n=t._getLabelSizes(),i=n.first,o=n.last,a=n.widest,s=n.highest,u=.8*s.offset,d=r.padding;if(c){const n=0!==t.labelRotation,c=K(t.labelRotation),h=Math.cos(c),f=Math.sin(c),g=f*a.width+h*(s.height-(n?s.offset:0))+(n?0:u);e.height=Math.min(t.maxHeight,e.height+g+d);const p=t.getPixelForTick(0)-t.left,m=t.right-t.getPixelForTick(t.ticks.length-1);let v,b;n?(v=l?h*i.width+f*i.offset:f*(i.height-i.offset),b=l?f*(o.height-o.offset):h*o.width+f*o.offset):"start"===r.align?(v=0,b=o.width):"end"===r.align?(v=i.width,b=0):(v=i.width/2,b=o.width/2),t.paddingLeft=Math.max((v-p)*t.width/(t.width-p),0)+3,t.paddingRight=Math.max((b-m)*t.width/(t.width-m),0)+3}else{const n=r.mirror?0:a.width+d+u;e.width=Math.min(t.maxWidth,e.width+n);let s=o.height/2,l=i.height/2;"start"===r.align?(s=0,l=i.height):"end"===r.align&&(s=o.height,l=0),t.paddingTop=s,t.paddingBottom=l}}t._handleMargins(),c?(t.width=t._length=n.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t._margins.top-t._margins.bottom)}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){g(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullWidth(){return this.options.fullWidth}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t),e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;return e||(t._labelSizes=e=t._computeLabelSizes()),e}_computeLabelSizes(){const t=this,e=t.ctx,n=t._longestTextCache,i=t.options.ticks.sampleSize,r=[],o=[],a=[];let s=t.ticks;i<s.length&&(s=Dn(s,i));const l=s.length;let d,h,f,g,m,v,b,y,x,w,k;for(d=0;d<l;++d){if(g=s[d].label,m=t._resolveTickFontOptions(d),e.font=v=m.string,b=n[v]=n[v]||{data:{},gc:[]},y=m.lineHeight,x=w=0,c(g)||u(g)){if(u(g))for(h=0,f=g.length;h<f;++h)k=g[h],c(k)||u(k)||(x=M(e,b.data,b.gc,x,k),w+=y)}else x=M(e,b.data,b.gc,x,g),w=y;r.push(x),o.push(w),a.push(y/2)}!function(t,e){p(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(n,l);const _=r.indexOf(Math.max.apply(null,r)),T=o.indexOf(Math.max.apply(null,o));function S(t){return{width:r[t]||0,height:o[t]||0,offset:a[t]||0}}return{first:S(0),last:S(l-1),widest:S(_),highest:S(T)}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;return e._reversePixels&&(t=1-t),it(e._startPixel+t*e._length,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];return{chart:this.chart,scale:this,tick:e[t],index:t}}_autoSkip(t){const e=this,n=e.options.ticks,i=n.maxTicksLimit||e._length/e._tickSize(),r=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(t):[],o=r.length,a=r[0],s=r[o-1],l=[];if(o>i)return function(t,e,n,i){let r,o=0,a=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===a&&(e.push(t[r]),o++,a=n[o*i])}(t,l,r,o/i),l;const u=Rn(r,t,i);if(o>0){let e,n;const i=o>1?Math.round((s-a)/(o-1)):null;for(Nn(t,l,u,c(i)?0:a-i,a),e=0,n=o-1;e<n;e++)Nn(t,l,u,r[e],r[e+1]);return Nn(t,l,u,s,c(i)?t.length:s+i),l}return Nn(t,l,u),l}_tickSize(){const t=this,e=t.options.ticks,n=K(t.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=t._getLabelSizes(),a=e.autoSkipPadding||0,s=o?o.widest.width+a:0,l=o?o.highest.height+a:0;return t.isHorizontal()?l*i>s*r?s/i:l/r:l*r<s*i?l/i:s/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,n=e.axis,i=e.chart,r=e.options,{gridLines:o,position:a}=r,s=o.offsetGridLines,l=e.isHorizontal(),c=e.ticks.length+(s?1:0),u=Ln(o),h=[];let f=this.getContext(0);const g=o.drawBorder?Pt([o.borderWidth,o.lineWidth,0],f,0):0,p=g/2,m=function(t){return S(i,t,g)};let v,b,y,x,w,k,_,M,T,C,P,E;if("top"===a)v=m(e.bottom),k=e.bottom-u,M=v-p,C=m(t.top)+p,E=t.bottom;else if("bottom"===a)v=m(e.top),C=t.top,E=m(t.bottom)-p,k=v+p,M=e.top+u;else if("left"===a)v=m(e.right),w=e.right-u,_=v-p,T=m(t.left)+p,P=t.right;else if("right"===a)v=m(e.left),T=t.left,P=m(t.right)-p,w=v+p,_=e.left+u;else if("x"===n){if("center"===a)v=m((t.top+t.bottom)/2);else if(d(a)){const t=Object.keys(a)[0],n=a[t];v=m(e.chart.scales[t].getPixelForValue(n))}C=t.top,E=t.bottom,k=v+p,M=k+u}else if("y"===n){if("center"===a)v=m((t.left+t.right)/2);else if(d(a)){const t=Object.keys(a)[0],n=a[t];v=m(e.chart.scales[t].getPixelForValue(n))}w=v-p,_=w-u,T=t.left,P=t.right}for(b=0;b<c;++b){f=this.getContext(b);const t=Pt([o.lineWidth],f,b),n=Pt([o.color],f,b),r=o.borderDash||[],a=Pt([o.borderDashOffset],f,b);y=An(e,b,s),void 0!==y&&(x=S(i,y,t),l?w=_=T=P=x:k=M=C=E=x,h.push({tx1:w,ty1:k,tx2:_,ty2:M,x1:T,y1:C,x2:P,y2:E,width:t,color:n,borderDash:r,borderDashOffset:a}))}return e._ticksLength=c,e._borderValue=v,h}_computeLabelItems(t){const e=this,n=e.axis,i=e.options,{position:r,ticks:o}=i,a=e.isHorizontal(),s=e.ticks,{align:l,crossAlign:c,padding:h}=o,f=Ln(i.gridLines),g=f+h,p=-K(e.labelRotation),m=[];let v,b,y,x,w,k,_,M,T,S,C,P,E="middle";if("top"===r)k=e.bottom-g,_=e._getXAxisLabelAlignment();else if("bottom"===r)k=e.top+g,_=e._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(f);_=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(f);_=t.textAlign,w=t.x}else if("x"===n){if("center"===r)k=(t.top+t.bottom)/2+g;else if(d(r)){const t=Object.keys(r)[0],n=r[t];k=e.chart.scales[t].getPixelForValue(n)+g}_=e._getXAxisLabelAlignment()}else if("y"===n){if("center"===r)w=(t.left+t.right)/2-g;else if(d(r)){const t=Object.keys(r)[0],n=r[t];w=e.chart.scales[t].getPixelForValue(n)}_=this._getYAxisLabelAlignment(f).textAlign}"y"===n&&("start"===l?E="top":"end"===l&&(E="bottom"));const D=e._getLabelSizes();for(v=0,b=s.length;v<b;++v){y=s[v],x=y.label,M=e.getPixelForTick(v)+o.labelOffset,T=e._resolveTickFontOptions(v),S=T.lineHeight,C=u(x)?x.length:1;const t=C/2;a?(w=M,"top"===r?"near"===c||0!==p?(P=(Math.sin(p)*t+.5)*S,P-=(0===p?C-.5:Math.cos(p)*t)*S):"center"===c?(P=D.highest.height/2*-1,P-=t*S):P=-1*D.highest.height+.5*S:"bottom"===r&&("near"===c||0!==p?(P=Math.sin(p)*t*S,P+=(0===p?.5:Math.cos(p)*t)*S):"center"===c?(P=D.highest.height/2,P-=t*S):P=D.highest.height-(C-.5)*S)):(k=M,P=(1-C)*S/2),m.push({x:w,y:k,rotation:p,label:x,font:T,textOffset:P,textAlign:_,textBaseline:E})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-K(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align&&(n="right"),n}_getYAxisLabelAlignment(t){const e=this,{position:n,ticks:i}=e.options,{crossAlign:r,mirror:o,padding:a}=i,s=t+a,l=e._getLabelSizes().widest.width;let c,u;return"left"===n?o?(c="left",u=e.right-a):(u=e.right-s,"near"===r?c="right":"center"===r?(c="center",u-=l/2):(c="left",u-=l)):"right"===n?o?(c="right",u=e.left+a):(u=e.left+s,"near"===r?c="left":"center"===r?(c="center",u+=l/2):(c="right",u+=l)):c="right",{textAlign:c,x:u}}drawGrid(t){const e=this,n=e.options.gridLines,i=e.ctx,r=e.chart;let o=e.getContext(0);const a=n.drawBorder?Pt([n.borderWidth,n.lineWidth,0],o,0):0,s=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,c;if(n.display)for(l=0,c=s.length;l<c;++l){const t=s[l],e=t.width,r=t.color;e&&r&&(i.save(),i.lineWidth=e,i.strokeStyle=r,i.setLineDash&&(i.setLineDash(t.borderDash),i.lineDashOffset=t.borderDashOffset),i.beginPath(),n.drawTicks&&(i.moveTo(t.tx1,t.ty1),i.lineTo(t.tx2,t.ty2)),n.drawOnChartArea&&(i.moveTo(t.x1,t.y1),i.lineTo(t.x2,t.y2)),i.stroke(),i.restore())}if(a){const t=a;o=e.getContext(e._ticksLength-1);const s=Pt([n.lineWidth,1],o,e._ticksLength-1),l=e._borderValue;let c,u,d,h;e.isHorizontal()?(c=S(r,e.left,t)-t/2,u=S(r,e.right,s)+s/2,d=h=l):(d=S(r,e.top,t)-t/2,h=S(r,e.bottom,s)+s/2,c=u=l),i.lineWidth=a,i.strokeStyle=Pt([n.borderColor,n.color],o,0),i.beginPath(),i.moveTo(c,d),i.lineTo(u,h),i.stroke()}}drawLabels(t){const e=this;if(!e.options.ticks.display)return;const n=e.ctx,i=e._labelItems||(e._labelItems=e._computeLabelItems(t));let r,o,a,s;for(r=0,a=i.length;r<a;++r){const t=i[r],e=t.font,a=e.lineWidth>0&&""!==e.strokeStyle;n.save(),n.translate(t.x,t.y),n.rotate(t.rotation),n.font=e.string,n.fillStyle=e.color,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline,a&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.lineWidth);const l=t.label;let c=t.textOffset;if(u(l))for(o=0,s=l.length;o<s;++o)a&&n.strokeText(""+l[o],0,c),n.fillText(""+l[o],0,c),c+=e.lineHeight;else a&&n.strokeText(l,0,c),n.fillText(l,0,c);n.restore()}}drawTitle(t){const e=this,n=e.ctx,i=e.options,r=i.scaleLabel;if(!r.display)return;const o=Ct(r.font,e.chart.options.font),a=St(r.padding),s=o.lineHeight/2,l=r.align,c=i.position,u=e.options.reverse;let d,h,f,g=0;if(e.isHorizontal()){switch(l){case"start":h=e.left+(u?e.width:0),d=u?"right":"left";break;case"end":h=e.left+(u?0:e.width),d=u?"left":"right";break;default:h=e.left+e.width/2,d="center"}f="top"===c?e.top+s+a.top:e.bottom-s-a.bottom}else{const t="left"===c;switch(h=t?e.left+s+a.top:e.right-s-a.top,l){case"start":f=e.top+(u?0:e.height),d=u===t?"right":"left";break;case"end":f=e.top+(u?e.height:0),d=u===t?"left":"right";break;default:f=e.top+e.height/2,d="center"}g=t?-V:V}n.save(),n.translate(h,f),n.rotate(g),n.textAlign=d,n.textBaseline="middle",n.fillStyle=o.color,n.font=o.string,n.fillText(r.labelString,0,0),n.restore()}draw(t){const e=this;e._isVisible()&&(e.drawGrid(t),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw(e){t.drawGrid(e),t.drawTitle()}},{z:n,draw(e){t.drawLabels(e)}}]:[{z:n,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,n=e.chart.getSortedVisibleDatasetMetas(),i=e.axis+"AxisID",r=[];let o,a;for(o=0,a=n.length;o<a;++o){const a=n[o];a[i]!==e.id||t&&a.type!==t||r.push(a)}return r}_resolveTickFontOptions(t){const e=this,n=e.chart,i=e.options.ticks,r=e.getContext(t);return Ct(Pt([i.font],r),n.options.font)}}In.prototype._draw=In.prototype.draw;class Hn{constructor(t,e){this.type=t,this.scope=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope,a=o?o+"."+r:r;if(!r)throw new Error("class does not have id: "+t);if(r in i)return a;if(Object.keys(kt.get(a)).length)throw new Error('Can not register "'+r+'", because "defaults.'+a+'" would collide with existing defaults');return i[r]=t,function(t,e,n){const i=n?Object.assign({},kt.get(n),t.defaults):t.defaults;kt.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=e[n].split("."),r=i.pop(),o=i.join(".");kt.route(t,n,o,r)}))}(e,t.defaultRoutes)}(t,a,n),a}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in kt[i]?delete kt[i][n]:n in kt&&delete kt[n]}}var Fn=new class{constructor(){this.controllers=new Hn(Le,""),this.elements=new Hn(Sn,"elements"),this.plugins=new Hn(Object,"plugins"),this.scales=new Hn(In,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){const i=this;[...e].forEach((e=>{const r=n||i._getRegistryForType(e);n||r.isForType(e)||r===i.plugins&&e.id?i._exec(t,r,e):p(e,(e=>{const r=n||i._getRegistryForType(e);i._exec(t,r,e)}))}))}_exec(t,e,n){const i=_(t);g(n["before"+i],[],n),e[t](n),g(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}};class jn{notify(t,e,n){const i=this._descriptors(t);for(let r=0;r<i.length;++r){const o=i[r],a=o.plugin,s=a[e];if("function"==typeof s){const e=[t].concat(n||[]);if(e.push(o.options),!1===s.apply(a,e))return!1}}return!0}invalidate(){this._cache=void 0}_descriptors(t){if(this._cache)return this._cache;const e=t&&t.config||{},n=e.options&&e.options.plugins||{},i=function(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i],o=r.id;let a=e[o];!1!==a&&(!0===a&&(a={}),n.push({plugin:r,options:x({},[a,kt.plugins[o]])}))}return n}(function(t){const e=[],n=Object.keys(Fn.plugins.items);for(let t=0;t<n.length;t++)e.push(Fn.getPlugin(n[t]));const i=t.plugins||[];for(let t=0;t<i.length;t++){const n=i[t];-1===e.indexOf(n)&&e.push(n)}return e}(e),n);return this._cache=i,i}}function Un(t,e){const n=(kt[t]||{}).datasets||{};return((e[t]||{}).datasets||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Wn(t,e){e=e||{};const n=kt[t.type]||{scales:{}},i=e.scales||{},r=Un(t.type,e),o={},a={};return Object.keys(i).forEach((t=>{const e=i[t],s=Yn(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(s,r);o[s]=o[s]||t,a[t]=x({axis:s},[e,n.scales[s],n.scales[l]])})),e.scale&&(a[e.scale.id||"r"]=x({axis:"r"},[e.scale,n.scales.r]),o.r=o.r||e.scale.id||"r"),t.data.datasets.forEach((n=>{const r=n.type||t.type,s=n.indexAxis||Un(r,e),l=(kt[r]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),r=n[e+"AxisID"]||o[e]||e;a[r]=a[r]||{},x(a[r],[{axis:e},i[r],l[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];x(e,[kt.scales[e.type],kt.scale])})),a}function Bn(...t){return y({},t,{merger(t,e,n,i){"scales"!==t&&"scale"!==t&&b(t,e,n,i)}})}const zn=["top","bottom","left","right","chartArea"];function Vn(t,e){return"top"===t||"bottom"===t||-1===zn.indexOf(t)&&"x"===e}function Yn(t,e){return"x"===t||"y"===t||"r"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function qn(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Gn(t){const e=t.chart,n=e.options.animation;e._plugins.notify(e,"afterRender"),g(n&&n.onComplete,[t],e)}function Xn(t){const e=t.chart,n=e.options.animation;g(n&&n.onProgress,[t],e)}function Jn(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Qn(t){return Jn()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}class $n{constructor(t,e){const n=this;e=function(t){const e=(t=t||{}).data=t.data||{datasets:[],labels:[]};e.datasets=e.datasets||[],e.labels=e.labels||[];const n=Wn(t,t.options),i=t.options=Bn(kt,kt[t.type],t.options||{});return i.scales=n,i.title=!1!==i.title&&y({},[kt.plugins.title,i.title]),i.tooltips=!1!==i.tooltips&&y({},[kt.plugins.tooltip,i.tooltips]),t}(e);const i=Qn(t),r=$n.getChart(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");this.platform=n._initializePlatform(i,e);const o=n.platform.acquireContext(i,e),a=o&&o.canvas,s=a&&a.height,c=a&&a.width;this.id=l(),this.ctx=o,this.canvas=a,this.config=e,this.width=c,this.height=s,this.aspectRatio=s?c/s:null,this.options=e.options,this._bufferedRender=!1,this._layers=[],this._metasets=[],this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.data=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this._updating=!1,this.scales={},this.scale=void 0,this._plugins=new jn,this.$proxies={},this._hiddenIndices={},this.attached=!1,$n.instances[n.id]=n,Object.defineProperty(n,"data",{get:()=>n.config.data,set(t){n.config.data=t}}),o&&a?(ve.listen(n,"complete",Gn),ve.listen(n,"progress",Xn),n._initialize(),n.attached&&n.update()):console.error("Failed to create chart: can't acquire context from the given item")}_initialize(){const t=this;return t._plugins.notify(t,"beforeInit"),t.options.responsive?t.resize(!0):pt(t,t.options.devicePixelRatio),t.bindEvents(),t._plugins.notify(t,"afterInit"),t}_initializePlatform(t,e){return e.platform?new e.platform:!Jn()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new hn:new Tn}clear(){return C(this),this}stop(){return ve.stop(this),this}resize(t,e,n){const i=this,r=i.options,o=i.canvas,a=r.maintainAspectRatio&&i.aspectRatio,s=i.platform.getMaximumSize(o,e,n,a),l=i.currentDevicePixelRatio,c=r.devicePixelRatio||i.platform.getDevicePixelRatio();i.width===s.width&&i.height===s.height&&l===c||(o.width=i.width=s.width,o.height=i.height=s.height,o.style&&(o.style.width=s.width+"px",o.style.height=s.height+"px"),pt(i,c),t||(i._plugins.notify(i,"resize",[s]),g(r.onResize,[s],i),i.attached&&i.update("resize")))}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{},n=t.scale;p(e,((t,e)=>{t.id=e})),n&&(n.id=n.id||"scale")}buildOrUpdateScales(){const t=this,e=t.options,n=e.scales,i=t.scales||{},r=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let o=[];n&&(o=o.concat(Object.keys(n).map((t=>{const e=n[t],i=Yn(t,e),r="r"===i,o="x"===i;return{options:e,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),p(o,(n=>{const o=n.options,a=o.id,s=Yn(a,o),l=f(o.type,n.dtype);void 0!==o.position&&Vn(o.position,s)===Vn(n.dposition)||(o.position=n.dposition),r[a]=!0;let c=null;if(a in i&&i[a].type===l)c=i[a];else{c=new(Fn.getScale(l))({id:a,type:l,ctx:t.ctx,chart:t}),i[c.id]=c}c.init(o,e),n.isDefault&&(t.scale=c)})),p(r,((t,e)=>{t||delete i[e]})),t.scales=i,p(i,(e=>{e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,un.addBox(t,e)}))}_updateMetasetIndex(t,e){const n=this._metasets,i=t.index;i!==e&&(n[i]=n[e],n[e]=t,t.index=e)}_updateMetasets(){const t=this,e=t._metasets,n=t.data.datasets.length,i=e.length;if(i>n){for(let e=n;e<i;++e)t._destroyDatasetMeta(e);e.splice(n,i-n)}t._sortedMetasets=e.slice(0).sort(qn("order","index"))}buildOrUpdateControllers(){const t=this,e=[],n=t.data.datasets;let i,r;for(i=0,r=n.length;i<r;i++){const r=n[i];let o=t.getDatasetMeta(i);const a=r.type||t.config.type;if(o.type&&o.type!==a&&(t._destroyDatasetMeta(i),o=t.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Un(a,t.options),o.order=r.order||0,t._updateMetasetIndex(o,i),o.label=""+r.label,o.visible=t.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const n=kt[a],r=Fn.getController(a);Object.assign(r.prototype,{dataElementType:Fn.getElement(n.dataElementType),datasetElementType:n.datasetElementType&&Fn.getElement(n.datasetElementType),dataElementOptions:n.dataElementOptions,datasetElementOptions:n.datasetElementOptions}),o.controller=new r(t,i),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;p(t.data.datasets,((e,n)=>{t.getDatasetMeta(n).controller.reset()}),t)}reset(){this._resetElements(),this._plugins.notify(this,"reset")}update(t){const e=this;let n,i;if(e._updating=!0,function(t){let e=t.options;p(t.scales,(e=>{un.removeBox(t,e)}));const n=Wn(t.config,e);e=Bn(kt,kt[t.config.type],e),t.options=t.config.options=e,t.options.scales=n,t._animationsDisabled=!e.animation}(e),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e._plugins.invalidate(),!1===e._plugins.notify(e,"beforeUpdate"))return;const r=e.buildOrUpdateControllers();for(n=0,i=e.data.datasets.length;n<i;n++)e.getDatasetMeta(n).controller.buildOrUpdateElements();e._updateLayout(),p(r,(t=>{t.reset()})),e._updateDatasets(t),e._plugins.notify(e,"afterUpdate"),e._layers.sort(qn("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render(),e._updating=!1}_updateLayout(){const t=this;!1!==t._plugins.notify(t,"beforeLayout")&&(un.update(t,t.width,t.height),t._layers=[],p(t.boxes,(e=>{e.configure&&e.configure(),t._layers.push(...e._layers())}),t),t._layers.forEach(((t,e)=>{t._idx=e})),t._plugins.notify(t,"afterLayout"))}_updateDatasets(t){const e=this,n="function"==typeof t;if(!1!==e._plugins.notify(e,"beforeDatasetsUpdate")){for(let i=0,r=e.data.datasets.length;i<r;++i)e._updateDataset(i,n?t({datasetIndex:i}):t);e._plugins.notify(e,"afterDatasetsUpdate")}}_updateDataset(t,e){const n=this,i=n.getDatasetMeta(t),r={meta:i,index:t,mode:e};!1!==n._plugins.notify(n,"beforeDatasetUpdate",[r])&&(i.controller._update(e),n._plugins.notify(n,"afterDatasetUpdate",[r]))}render(){const t=this;!1!==t._plugins.notify(t,"beforeRender")&&(ve.has(t)?t.attached&&!ve.running(t)&&ve.start(t):(t.draw(),Gn({chart:t})))}draw(){const t=this;let e;if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t._plugins.notify(t,"beforeDraw"))return;const n=t._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(t.chartArea);for(t._drawDatasets();e<n.length;++e)n[e].draw(t.chartArea);t._plugins.notify(t,"afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t._plugins.notify(t,"beforeDatasetsDraw"))return;const e=t.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)t._drawDataset(e[n]);t._plugins.notify(t,"afterDatasetsDraw")}_drawDataset(t){const e=this,n=e.ctx,i=t._clip,r=e.chartArea,o={meta:t,index:t.index};!1!==e._plugins.notify(e,"beforeDatasetDraw",[o])&&(D(n,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?e.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?e.height:r.bottom+i.bottom}),t.controller.draw(),A(n),e._plugins.notify(e,"afterDatasetDraw",[o]))}getElementAtEvent(t){return Ze.modes.nearest(this,t,{intersect:!0})}getElementsAtEvent(t){return Ze.modes.index(this,t,{intersect:!0})}getElementsAtXAxis(t){return Ze.modes.index(this,t,{intersect:!1})}getElementsAtEventForMode(t,e,n,i){const r=Ze.modes[e];return"function"==typeof r?r(this,t,n,i):[]}getDatasetAtEvent(t){return Ze.modes.dataset(this,t,{intersect:!0})}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t._dataset===e)).pop();return i||(i=n[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1}),i}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,e){const n=this,i=e?"show":"hide",r=n.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);n.setDatasetVisibility(t,e),o.update(r,{visible:e}),n.update((e=>e.datasetIndex===t?i:void 0))}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const e=this,n=e._metasets&&e._metasets[t];n&&(n.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,e=t.canvas;let n,i;for(t.stop(),ve.remove(t),n=0,i=t.data.datasets.length;n<i;++n)t._destroyDatasetMeta(n);e&&(t.unbindEvents(),C(t),t.platform.releaseContext(t.ctx),t.canvas=null,t.ctx=null),t._plugins.notify(t,"destroy"),delete $n.instances[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,e=t._listeners,n=t.platform,i=(i,r)=>{n.addEventListener(t,i,r),e[i]=r},r=(i,r)=>{e[i]&&(n.removeEventListener(t,i,r),delete e[i])};let o=function(e,n,i){e.offsetX=n,e.offsetY=i,t._eventHandler(e)};if(p(t.options.events,(t=>i(t,o))),t.options.responsive){let e;o=(e,n)=>{t.canvas&&t.resize(!1,e,n)};const a=()=>{r("attach",a),t.attached=!0,t.resize(),i("resize",o),i("detach",e)};e=()=>{t.attached=!1,r("resize",o),i("attach",a)},n.isAttached(t.canvas)?a():e()}else t.attached=!0}unbindEvents(){const t=this,e=t._listeners;e&&(delete t._listeners,p(e,((e,n)=>{t.platform.removeEventListener(t,n,e)})))}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,a,s;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a)o=t[a],o&&this.getDatasetMeta(o.datasetIndex).controller[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this,n=e._active||[],i=t.map((({datasetIndex:t,index:n})=>{const i=e.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!m(i,n)&&(e._active=i,e._updateHoverStyles(i,n))}_updateHoverStyles(t,e){const n=this,i=(n.options||{}).hover;e.length&&n.updateHoverStyle(e,i.mode,!1),t.length&&i.mode&&n.updateHoverStyle(t,i.mode,!0)}_eventHandler(t,e){const n=this;if(!1!==n._plugins.notify(n,"beforeEvent",[t,e]))return n._handleEvent(t,e),n._plugins.notify(n,"afterEvent",[t,e]),n.render(),n}_handleEvent(t,e){const n=this,i=n._active||[],r=n.options,o=r.hover,a=e;let s=[],l=!1;return"mouseout"===t.type?n._lastEvent=null:(s=n.getElementsAtEventForMode(t,o.mode,o,a),n._lastEvent="click"===t.type?n._lastEvent:t),g(r.onHover||r.hover.onHover,[t,s,n],n),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||E(t,n.chartArea)&&g(r.onClick,[t,s,n],n),l=!m(s,i),(l||e)&&(n._active=s,n._updateHoverStyles(s,i)),l}}$n.defaults=kt,$n.instances={},$n.registry=Fn,$n.version="v3.0.0-beta.4",$n.getChart=t=>{const e=Qn(t);return Object.values($n.instances).filter((t=>t.canvas===e)).pop()};const Kn=()=>p($n.instances,(t=>t._plugins.invalidate()));function Zn(t,e){const{startAngle:n,endAngle:i,pixelMargin:r,x:o,y:a,outerRadius:s,innerRadius:l}=e;let c=r/s;t.beginPath(),t.arc(o,a,s,n-c,i+c),l>r?(c=r/l,t.arc(o,a,l,i+c,n-c,!0)):t.arc(o,a,r,i+V,n-V),t.closePath(),t.clip()}function ti(t,e){const{x:n,y:i,startAngle:r,endAngle:o,pixelMargin:a}=e,s=Math.max(e.outerRadius-a,0),l=e.innerRadius+a;t.beginPath(),t.arc(n,i,s,r,o),t.arc(n,i,l,o,r,!0),t.closePath()}function ei(t,e){const{x:n,y:i,startAngle:r,endAngle:o,pixelMargin:a,options:s}=e,l=e.outerRadius,c=e.innerRadius+a,u="inner"===s.borderAlign;s.borderWidth&&(u?(t.lineWidth=2*s.borderWidth,t.lineJoin="round"):(t.lineWidth=s.borderWidth,t.lineJoin="bevel"),e.fullCircles&&function(t,e,n){const{x:i,y:r,startAngle:o,endAngle:a,pixelMargin:s}=e,l=Math.max(e.outerRadius-s,0),c=e.innerRadius+s;let u;for(n&&(e.endAngle=e.startAngle+U,Zn(t,e),e.endAngle=a,e.endAngle===e.startAngle&&(e.endAngle+=U,e.fullCircles--)),t.beginPath(),t.arc(i,r,c,o+U,o,!0),u=0;u<e.fullCircles;++u)t.stroke();for(t.beginPath(),t.arc(i,r,l,o,o+U),u=0;u<e.fullCircles;++u)t.stroke()}(t,e,u),u&&Zn(t,e),t.beginPath(),t.arc(n,i,l,r,o),t.arc(n,i,c,o,r,!0),t.closePath(),t.stroke())}$n.register=(...t)=>{Fn.add(...t),Kn()},$n.unregister=(...t)=>{Fn.remove(...t),Kn()};class ni extends Sn{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=function(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*j&&(o+=U),{angle:o,distance:r}}(i,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n);return(u>=U||nt(r,a,s))&&(o>=l&&o<=c)}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),s=(i+r)/2,l=(o+a)/2;return{x:e+Math.cos(s)*l,y:n+Math.sin(s)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,n=e.options,i=n.offset||0;if(e.pixelMargin="inner"===n.borderAlign?.33:0,e.fullCircles=Math.floor(e.circumference/U),0!==e.circumference){if(t.save(),i&&e.circumference<U){const n=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(n)*i,Math.sin(n)*i)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,function(t,e){if(e.fullCircles){e.endAngle=e.startAngle+U,ti(t,e);for(let n=0;n<e.fullCircles;++n)t.fill();e.endAngle=e.startAngle+e.circumference%U}ti(t,e),t.fill()}(t,e),ei(t,e),t.restore()}}}function ii(t,e,n){t.lineTo(n.x,n.y)}function ri(t,e,n){n=n||{};const i=t.length,r=Math.max(n.start||0,e.start),o=Math.min(n.end||i-1,e.end);return{count:i,start:r,loop:e.loop,ilen:o<r?i+o-r:o-r}}function oi(t,e,n,i){const{points:r,options:o}=e,{count:a,start:s,loop:l,ilen:c}=ri(r,n,i),u=function(t){return t.stepped?L:t.tension?O:ii}(o);let d,h,f,{move:g=!0,reverse:p}=i||{};for(d=0;d<=c;++d)h=r[(s+(p?c-d:d))%a],h.skip||(g?(t.moveTo(h.x,h.y),g=!1):u(t,f,h,p,o.stepped),f=h);return l&&(h=r[(s+(p?c:0))%a],u(t,f,h,p,o.stepped)),!!l}function ai(t,e,n,i){const r=e.points,{count:o,start:a,ilen:s}=ri(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,h,f,g,p,m=0,v=0;const b=t=>(a+(c?s-t:t))%o,y=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=r[b(0)],t.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=r[b(u)],d.skip)continue;const e=d.x,n=d.y,i=0|e;i===h?(n<f?f=n:n>g&&(g=n),m=(v*m+e)/++v):(y(),t.lineTo(e,n),h=i,v=0,f=g=n),p=n}y()}function si(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!(t._loop||e.tension||e.stepped||n)?ai:oi}ni.id="arc",ni.defaults={borderAlign:"center",borderColor:"#fff",borderWidth:2,offset:0},ni.defaultRoutes={backgroundColor:"color"};class li extends Sn{constructor(t){super(),this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._points=void 0,this._segments=void 0,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const e=this,n=e.options;if(n.tension&&!n.stepped&&!e._pointsUpdated){const i=n.spanGaps?e._loop:e._fullLoop;st(e._points,n,t,i),e._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t){const e=t.points,n=t.options.spanGaps,i=e.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}(e,i,r,n);return!0===n?[{start:o,end:a,loop:r}]:function(t,e,n,i){const r=t.length,o=[];let a,s=e,l=t[e];for(a=e+1;a<=n;++a){const n=t[a%r];n.skip||n.stop?l.skip||(i=!1,o.push({start:e%r,end:(a-1)%r,loop:i}),e=s=n.stop?a:null):(s=a,l.skip&&(e=a)),l=n}return null!==s&&o.push({start:e%r,end:s%r,loop:i}),o}(e,o,a<o?a+i:a,!!t._fullLoop&&0===o&&a===i-1)}(this))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this,i=n.options,r=t[e],o=n.points,a=Nt(n,{property:e,start:r,end:r});if(!a.length)return;const s=[],l=function(t){return t.stepped?yt:t.tension?xt:bt}(i);let c,u;for(c=0,u=a.length;c<u;++c){const{start:n,end:u}=a[c],d=o[n],h=o[u];if(d===h){s.push(d);continue}const f=l(d,h,Math.abs((r-d[e])/(h[e]-d[e])),i.stepped);f[e]=t[e],s.push(f)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return si(this)(t,this,e,n)}path(t,e,n){const i=this,r=i.segments,o=r.length,a=si(i);let s=i._loop;e=e||0,n=n||i.points.length-e;for(let l=0;l<o;++l)s&=a(t,i,r[l],{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),function(t,e){t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor}(t,r),t.beginPath(),this.path(t,n,i)&&t.closePath(),t.stroke(),t.restore(),this._pointsUpdated=!1)}}li.id="line",li.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,fill:!0,tension:0},li.defaultRoutes={backgroundColor:"color",borderColor:"color"};class ci extends Sn{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){const n=this.options,{x:i}=this.getProps(["x"],e);return Math.abs(t-i)<n.radius+n.hitRadius}inYRange(t,e){const n=this.options,{y:i}=this.getProps(["x"],e);return Math.abs(t-i)<n.radius+n.hitRadius}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(){const t=this.options||{},e=Math.max(t.radius,t.hoverRadius)||0;return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this,i=n.options;n.skip||i.radius<=0||(void 0===e||E(n,e))&&(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,P(t,i,n.x,n.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ui(t,e){const{x:n,y:i,base:r,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,c,u,d;return t.horizontal?(d=a/2,s=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=o/2,s=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:s,top:c,right:l,bottom:u}}function di(t,e,n,i){var r,o,a;return i?(a=n,t=hi(t=(r=t)===(o=e)?a:r===a?o:r,n,e)):t=hi(t,e,n),t}function hi(t,e,n){return"start"===t?e:"end"===t?n:t}function fi(t,e,n,i){return t?0:Math.max(Math.min(e,i),n)}function gi(t,e,n){const i=t.options.borderWidth,r=function(t){let e=t.options.borderSkipped;const n={};return e?(e=t.horizontal?di(e,"left","right",t.base>t.x):di(e,"bottom","top",t.base<t.y),n[e]=!0,n):n}(t),o=Tt(i);return{t:fi(r.top,o.top,0,n),r:fi(r.right,o.right,0,e),b:fi(r.bottom,o.bottom,0,n),l:fi(r.left,o.left,0,e)}}function pi(t,e,n,i){const r=null===e,o=null===n,a=t&&!(r&&o)&&ui(t,i);return a&&(r||e>=a.left&&e<=a.right)&&(o||n>=a.top&&n<=a.bottom)}ci.id="point",ci.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3},ci.defaultRoutes={backgroundColor:"color",borderColor:"color"};class mi extends Sn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:n,outer:i}=function(t){const e=ui(t),n=e.right-e.left,i=e.bottom-e.top,r=gi(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(this);t.save(),i.w===n.w&&i.h===n.h||(t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.rect(n.x,n.y,n.w,n.h),t.fillStyle=e.borderColor,t.fill("evenodd")),t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),t.restore()}inRange(t,e,n){return pi(this,t,e,n)}inXRange(t,e){return pi(this,t,null,e)}inYRange(t,e){return pi(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}mi.id="rectangle",mi.defaults={borderSkipped:"start",borderWidth:0},mi.defaultRoutes={backgroundColor:"color",borderColor:"color"};function vi(t,e){const{boxWidth:n}=t;return t.usePointStyle&&n>e||c(n)?e:n}function bi(t,e){const{boxHeight:n}=t;return t.usePointStyle&&n>e||c(n)?e:n}class yi extends Sn{constructor(t){super(),Object.assign(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnWidths=void 0,this.columnHeights=void 0,this.lineWidths=void 0,this._minSize=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.position=void 0,this.weight=void 0,this.fullWidth=void 0}beforeUpdate(){}update(t,e,n){const i=this;i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i._margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}afterUpdate(){}beforeSetDimensions(){}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t._minSize={width:0,height:0}}afterSetDimensions(){}beforeBuildLabels(){}buildLabels(){const t=this,e=t.options.labels||{};let n=g(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter((n=>e.filter(n,t.chart.data)))),e.sort&&(n=n.sort(((n,i)=>e.sort(n,i,t.chart.data)))),t.options.reverse&&n.reverse(),t.legendItems=n}afterBuildLabels(){}beforeFit(){}fit(){const t=this,e=t.options,n=e.labels,i=e.display,r=t.ctx,o=Ct(n.font,t.chart.options.font),a=o.size,s=vi(n,a),l=bi(n,a),c=Math.max(l,a),u=t.legendHitBoxes=[],d=t._minSize,h=t.isHorizontal(),f=t._computeTitleHeight();if(h?(d.width=t.maxWidth,d.height=i?10:0):(d.width=i?10:0,d.height=t.maxHeight),i){if(r.font=o.string,h){const e=t.lineWidths=[0];let i=f;r.textAlign="left",r.textBaseline="middle",t.legendItems.forEach(((t,o)=>{const l=s+a/2+r.measureText(t.text).width;(0===o||e[e.length-1]+l+2*n.padding>d.width)&&(i+=c+n.padding,e[e.length-(o>0?0:1)]=0),u[o]={left:0,top:0,width:l,height:c},e[e.length-1]+=l+n.padding})),d.height+=i}else{const e=n.padding,i=t.columnWidths=[],o=t.columnHeights=[];let l=n.padding,h=0,g=0;const p=d.height-f;t.legendItems.forEach(((t,d)=>{const f=s+a/2+r.measureText(t.text).width;d>0&&g+a+2*e>p&&(l+=h+n.padding,i.push(h),o.push(g),h=0,g=0),h=Math.max(h,f),g+=a+e,u[d]={left:0,top:0,width:f,height:c}})),l+=h,i.push(h),o.push(g),d.width+=l}t.width=Math.min(d.width,e.maxWidth||B),t.height=Math.min(d.height,e.maxHeight||B)}else t.width=d.width=t.height=d.height=0}afterFit(){}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const t=this,e=t.options,n=e.labels,i=kt.color,r=t.height,o=t.columnHeights,a=t.width,s=t.lineWidths;if(!e.display)return;t.drawTitle();const l=Et(e.rtl,t.left,t._minSize.width),c=t.ctx,u=Ct(n.font,t.chart.options.font),d=u.color,h=u.size;let g;c.textAlign=l.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=d,c.fillStyle=d,c.font=u.string;const p=vi(n,h),m=bi(n,h),v=Math.max(h,m),b=t.legendHitBoxes,y=function(t,i){switch(e.align){case"start":return n.padding;case"end":return t-i;default:return(t-i+n.padding)/2}},x=t.isHorizontal(),w=this._computeTitleHeight();g=x?{x:t.left+y(a,s[0]),y:t.top+n.padding+w,line:0}:{x:t.left+n.padding,y:t.top+y(r,o[0])+w,line:0},Dt(t.ctx,e.textDirection);const k=v+n.padding;t.legendItems.forEach(((e,u)=>{const d=c.measureText(e.text).width,w=p+h/2+d;let _=g.x,M=g.y;l.setWidth(t._minSize.width),x?u>0&&_+w+n.padding>t.left+t._minSize.width&&(M=g.y+=k,g.line++,_=g.x=t.left+y(a,s[g.line])):u>0&&M+k>t.top+t._minSize.height&&(_=g.x=_+t.columnWidths[g.line]+n.padding,g.line++,M=g.y=t.top+y(r,o[g.line]));const T=l.x(_);!function(t,e,r){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;c.save();const o=f(r.lineWidth,1);if(c.fillStyle=f(r.fillStyle,i),c.lineCap=f(r.lineCap,"butt"),c.lineDashOffset=f(r.lineDashOffset,0),c.lineJoin=f(r.lineJoin,"miter"),c.lineWidth=o,c.strokeStyle=f(r.strokeStyle,i),c.setLineDash&&c.setLineDash(f(r.lineDash,[])),n&&n.usePointStyle){const n={radius:p*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:o},i=l.xPlus(t,p/2);P(c,n,i,e+h/2)}else{const n=e+Math.max((h-m)/2,0);c.fillRect(l.leftForLtr(t,p),n,p,m),0!==o&&c.strokeRect(l.leftForLtr(t,p),n,p,m)}c.restore()}(T,M,e),b[u].left=l.leftForLtr(T,b[u].width),b[u].top=M,function(t,e,n,i){const r=h/2,o=l.xPlus(t,p+r),a=e+v/2;c.fillText(n.text,o,a),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(o,a),c.lineTo(l.xPlus(o,i),a),c.stroke())}(T,M,e,d),x?g.x+=w+n.padding:g.y+=k})),At(t.ctx,e.textDirection)}drawTitle(){const t=this,e=t.options,n=e.title,i=Ct(n.font,t.chart.options.font),r=St(n.padding);if(!n.display)return;const o=Et(e.rtl,t.left,t._minSize.width),a=t.ctx,s=n.position;let l,c;const u=i.size/2;let d=t.top+r.top+u,h=t.left,f=t.width;if(this.isHorizontal())switch(f=Math.max(...t.lineWidths),e.align){case"start":break;case"end":h=t.right-f;break;default:h=(t.left+t.right)/2-f/2}else{const n=Math.max(...t.columnHeights);switch(e.align){case"start":break;case"end":d+=t.height-n;break;default:d+=(t.height-n)/2}}switch(s){case"start":l=h,c="left";break;case"end":l=h+f,c="right";break;default:l=h+f/2,c="center"}a.textAlign=o.textAlign(c),a.textBaseline="middle",a.strokeStyle=i.color,a.fillStyle=i.color,a.font=i.string,a.fillText(n.text,l,d)}_computeTitleHeight(){const t=this.options.title,e=Ct(t.font,this.chart.options.font),n=St(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){const n=this;let i,r,o;if(t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom)for(o=n.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],t>=r.left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height)return n.legendItems[i];return null}handleEvent(t){const e=this,n=e.options,i="mouseup"===t.type?"click":t.type;if("mousemove"===i){if(!n.onHover&&!n.onLeave)return}else{if("click"!==i)return;if(!n.onClick)return}const r=e._getLegendItemAt(t.x,t.y);"click"===i?r&&g(n.onClick,[t,r,e],e):(n.onLeave&&r!==e._hoveredItem&&(e._hoveredItem&&g(n.onLeave,[t,e._hoveredItem,e],e),e._hoveredItem=r),r&&g(n.onHover,[t,r,e],e))}}function xi(t){return!1!==t&&y({},[kt.plugins.legend,t])}function wi(t,e){const n=new yi({ctx:t.ctx,options:e,chart:t});un.configure(t,n,e),un.addBox(t,n),t.legend=n}var ki={id:"legend",_element:yi,beforeInit(t){const e=xi(t.options.legend);e&&wi(t,e)},beforeUpdate(t){const e=xi(t.options.legend),n=t.legend;e?n?(un.configure(t,n,e),n.options=e):wi(t,e):n&&(un.removeBox(t,n),delete t.legend)},afterUpdate(t){t.legend&&t.legend.buildLabels()},afterEvent(t,e){const n=t.legend;n&&n.handleEvent(e)},defaults:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map((t=>{const n=t.controller.getStyle(i?0:void 0);return{text:e[t.index].label,fillStyle:n.backgroundColor,hidden:!t.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,pointStyle:n.pointStyle,rotation:n.rotation,datasetIndex:t.index}}),this)}},title:{display:!1,position:"center",text:""}}};class _i extends Sn{constructor(t){super(),Object.assign(this,t),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._margins=void 0,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.position=void 0,this.weight=void 0,this.fullWidth=void 0}beforeUpdate(){}update(t,e,n){const i=this;i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i._margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}afterUpdate(){}beforeSetDimensions(){}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height)}afterSetDimensions(){}beforeBuildLabels(){}buildLabels(){}afterBuildLabels(){}beforeFit(){}fit(){const t=this,e=t.options,n={},i=t.isHorizontal();if(!e.display)return void(t.width=n.width=t.height=n.height=0);const r=u(e.text)?e.text.length:1;t._padding=St(e.padding);const o=r*Ct(e.font,t.chart.options.font).lineHeight+t._padding.height;t.width=n.width=i?t.maxWidth:o,t.height=n.height=i?o:t.maxHeight}afterFit(){}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}draw(){const t=this,e=t.ctx,n=t.options;if(!n.display)return;const i=Ct(n.font,t.chart.options.font),r=i.lineHeight,o=r/2+t._padding.top;let a=0;const s=t.top,l=t.left,c=t.bottom,d=t.right;let h,f,g,p;if(t.isHorizontal()){switch(n.align){case"start":f=l,p="left";break;case"end":f=d,p="right";break;default:f=l+(d-l)/2,p="center"}g=s+o,h=d-l}else{switch(f="left"===n.position?l+o:d-o,n.align){case"start":g="left"===n.position?c:s,p="left";break;case"end":g="left"===n.position?s:c,p="right";break;default:g=s+(c-s)/2,p="center"}h=c-s,a=j*("left"===n.position?-.5:.5)}e.save(),e.fillStyle=i.color,e.font=i.string,e.translate(f,g),e.rotate(a),e.textAlign=p,e.textBaseline="middle";const m=n.text;if(u(m)){let t=0;for(let n=0;n<m.length;++n)e.fillText(m[n],0,t,h),t+=r}else e.fillText(m,0,0,h);e.restore()}}function Mi(t,e){const n=new _i({ctx:t.ctx,options:e,chart:t});un.configure(t,n,e),un.addBox(t,n),t.titleBlock=n}var Ti={id:"title",_element:_i,beforeInit(t){const e=t.options.title;e&&Mi(t,e)},beforeUpdate(t){const e=t.options.title,n=t.titleBlock;e?(x(e,kt.plugins.title),n?(un.configure(t,n,e),n.options=e):Mi(t,e)):n&&(un.removeBox(t,n),delete t.titleBlock)},defaults:{align:"center",display:!1,font:{style:"bold"},fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}};const Si={average(t){if(!t.length)return!1;let e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i+=t.x,r+=t.y,++o}}return{x:i/o,y:r/o}},nearest(t,e){let n,i,r,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=i.getCenterPoint(),n=(l=e,c=t,Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)));n<s&&(s=n,r=i)}}var l,c;if(r){const t=r.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Ci(t,e){return e&&(u(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pi(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ei(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:a,value:s}=o.getLabelAndValue(r);return{chart:t,label:a,dataPoint:o.getParsed(r),formattedValue:s,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Di(t){const e=t._chart.ctx,{body:n,footer:i,options:r,title:o}=t,{bodyFont:a,footerFont:s,titleFont:l,boxWidth:c,boxHeight:u}=r,d=o.length,h=i.length,f=n.length;let g=2*r.yPadding,m=0,v=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*l.size+(d-1)*r.titleSpacing+r.titleMarginBottom),v){g+=f*(r.displayColors?Math.max(u,a.size):a.size)+(v-f)*a.size+(v-1)*r.bodySpacing}h&&(g+=r.footerMarginTop+h*s.size+(h-1)*r.footerSpacing);let b=0;const y=function(t){m=Math.max(m,e.measureText(t).width+b)};return e.save(),e.font=l.string,p(t.title,y),e.font=a.string,p(t.beforeBody.concat(t.afterBody),y),b=r.displayColors?c+2:0,p(n,(t=>{p(t.before,y),p(t.lines,y),p(t.after,y)})),b=0,e.font=s.string,p(t.footer,y),e.restore(),m+=2*r.xPadding,{width:m,height:g}}function Ai(t,e,n){const{x:i,y:r,width:o,height:a}=n,s=t.chartArea;let l,c,u="center",d="center";r<a?d="top":r>t.height-a&&(d="bottom");const h=(s.left+s.right)/2,f=(s.top+s.bottom)/2;"center"===d?(l=t=>t<=h,c=t=>t>h):(l=t=>t<=o/2,c=e=>e>=t.width-o/2);const g=t=>t<=f?"top":"bottom";return l(i)?(u="left",i+o+e.caretSize+e.caretPadding>t.width&&(u="center",d=g(r))):c(i)&&(u="right",(t=>t-o-e.caretSize-e.caretPadding<0)(i)&&(u="center",d=g(r))),{xAlign:e.xAlign?e.xAlign:u,yAlign:e.yAlign?e.yAlign:d}}function Li(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:l}=n,c=r+o,u=a+o;let d=function(t,e,n){let{x:i,width:r}=t;return"right"===e?i-=r:"center"===e&&(i-=r/2,i+r>n&&(i=n-r),i<0&&(i=0)),i}(e,s,i.width);return"center"===l?"left"===s?d+=c:"right"===s&&(d-=c):"left"===s?d-=u:"right"===s&&(d+=u),{x:d,y:function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c)}}function Oi(t,e){const n=t.options;return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.xPadding:t.x+n.xPadding}function Ri(t){return Ci([],Pi(t))}class Ni extends Sn{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this.$animations=void 0,this.options=void 0,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelTextColors=void 0,this.initialize()}initialize(){const t=this._chart.options;var e,n;this.options=(e=t.tooltips,n=t.font,(e=y({},[kt.plugins.tooltip,e])).bodyFont=Ct(e.bodyFont,n),e.titleFont=Ct(e.titleFont,n),e.footerFont=Ct(e.footerFont,n),e.boxHeight=f(e.boxHeight,e.bodyFont.size),e.boxWidth=f(e.boxWidth,e.bodyFont.size),e)}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const n=t._chart,i=t.options,r=i.enabled&&n.options.animation&&i.animation,o=new ke(t._chart,r);return t._cachedAnimations=Object.freeze(o),o}getTitle(t){const e=this,n=e.options.callbacks,i=n.beforeTitle.apply(e,[t]),r=n.title.apply(e,[t]),o=n.afterTitle.apply(e,[t]);let a=[];return a=Ci(a,Pi(i)),a=Ci(a,Pi(r)),a=Ci(a,Pi(o)),a}getBeforeBody(t){return Ri(this.options.callbacks.beforeBody.apply(this,[t]))}getBody(t){const e=this,n=e.options.callbacks,i=[];return p(t,(t=>{const r={before:[],lines:[],after:[]};Ci(r.before,Pi(n.beforeLabel.call(e,t))),Ci(r.lines,n.label.call(e,t)),Ci(r.after,Pi(n.afterLabel.call(e,t))),i.push(r)})),i}getAfterBody(t){return Ri(this.options.callbacks.afterBody.apply(this,[t]))}getFooter(t){const e=this,n=e.options.callbacks,i=n.beforeFooter.apply(e,[t]),r=n.footer.apply(e,[t]),o=n.afterFooter.apply(e,[t]);let a=[];return a=Ci(a,Pi(i)),a=Ci(a,Pi(r)),a=Ci(a,Pi(o)),a}_createItems(){const t=this,e=t._active,n=t.options,i=t._chart.data,r=[],o=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(Ei(t._chart,e[a]));return n.filter&&(l=l.filter(((t,e,r)=>n.filter(t,e,r,i)))),n.itemSort&&(l=l.sort(((t,e)=>n.itemSort(t,e,i)))),p(l,(e=>{r.push(n.callbacks.labelColor.call(t,e)),o.push(n.callbacks.labelTextColor.call(t,e))})),t.labelColors=r,t.labelTextColors=o,t.dataPoints=l,l}update(t){const e=this,n=e.options,i=e._active;let r;if(i.length){const t=Si[n.position].call(e,i,e._eventPosition),o=e._createItems();e.title=e.getTitle(o),e.beforeBody=e.getBeforeBody(o),e.body=e.getBody(o),e.afterBody=e.getAfterBody(o),e.footer=e.getFooter(o);const a=e._size=Di(e),s=Object.assign({},t,a),l=Ai(e._chart,n,s),c=Li(n,s,l,e._chart);e.xAlign=l.xAlign,e.yAlign=l.yAlign,r={opacity:1,x:c.x,y:c.y,width:a.width,height:a.height,caretX:t.x,caretY:t.y}}else 0!==e.opacity&&(r={opacity:0});r&&e._resolveAnimations().update(e,r),t&&n.custom&&n.custom.call(e,{chart:e._chart,tooltip:e})}drawCaret(t,e,n){const i=this.getCaretPosition(t,n);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e){const{xAlign:n,yAlign:i,options:r}=this,{cornerRadius:o,caretSize:a}=r,{x:s,y:l}=t,{width:c,height:u}=e;let d,h,f,g,p,m;return"center"===i?(p=l+u/2,"left"===n?(d=s,h=d-a,g=p+a,m=p-a):(d=s+c,h=d+a,g=p-a,m=p+a),f=d):(h="left"===n?s+o+a:"right"===n?s+c-o-a:this.caretX,"top"===i?(g=l,p=g-a,d=h-a,f=h+a):(g=l+u,p=g+a,d=h+a,f=h-a),m=g),{x1:d,x2:h,x3:f,y1:g,y2:p,y3:m}}drawTitle(t,e){const n=this,i=n.options,r=n.title,o=r.length;let a,s,l;if(o){const c=Et(i.rtl,n.x,n.width);for(t.x=Oi(n,i.titleAlign),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",a=i.titleFont,s=i.titleSpacing,e.fillStyle=i.titleFont.color,e.font=a.string,l=0;l<o;++l)e.fillText(r[l],c.x(t.x),t.y+a.size/2),t.y+=a.size+s,l+1===o&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(t,e,n,i){const r=this,o=r.options,a=r.labelColors[n],{boxHeight:s,boxWidth:l,bodyFont:c}=o,u=Oi(r,"left"),d=i.x(u),h=s<c.size?(c.size-s)/2:0,f=e.y+h;t.fillStyle=o.multiKeyBackground,t.fillRect(i.leftForLtr(d,l),f,l,s),t.lineWidth=1,t.strokeStyle=a.borderColor,t.strokeRect(i.leftForLtr(d,l),f,l,s),t.fillStyle=a.backgroundColor,t.fillRect(i.leftForLtr(i.xPlus(d,1),l-2),f+1,l-2,s-2),t.fillStyle=r.labelTextColors[n]}drawBody(t,e){const n=this,{body:i,options:r}=n,{bodyFont:o,bodySpacing:a,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:u}=r;let d=o.size,h=0;const f=Et(r.rtl,n.x,n.width),g=function(n){e.fillText(n,f.x(t.x+h),t.y+d/2),t.y+=d+a},m=f.textAlign(s);let v,b,y,x,w,k,_;for(e.textAlign=s,e.textBaseline="middle",e.font=o.string,t.x=Oi(n,m),e.fillStyle=o.color,p(n.beforeBody,g),h=l&&"right"!==m?"center"===s?u/2+1:u+2:0,x=0,k=i.length;x<k;++x){for(v=i[x],b=n.labelTextColors[x],e.fillStyle=b,p(v.before,g),y=v.lines,l&&y.length&&(n._drawColorBox(e,t,x,f),d=Math.max(o.size,c)),w=0,_=y.length;w<_;++w)g(y[w]),d=o.size;p(v.after,g)}h=0,d=o.size,p(n.afterBody,g),t.y-=a}drawFooter(t,e){const n=this,i=n.options,r=n.footer,o=r.length;let a,s;if(o){const l=Et(i.rtl,n.x,n.width);for(t.x=Oi(n,i.footerAlign),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",a=i.footerFont,e.fillStyle=i.footerFont.color,e.font=a.string,s=0;s<o;++s)e.fillText(r[s],l.x(t.x),t.y+a.size/2),t.y+=a.size+i.footerSpacing}}drawBackground(t,e,n){const{xAlign:i,yAlign:r,options:o}=this,{x:a,y:s}=t,{width:l,height:c}=n,u=o.cornerRadius;e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(a+u,s),"top"===r&&this.drawCaret(t,e,n),e.lineTo(a+l-u,s),e.quadraticCurveTo(a+l,s,a+l,s+u),"center"===r&&"right"===i&&this.drawCaret(t,e,n),e.lineTo(a+l,s+c-u),e.quadraticCurveTo(a+l,s+c,a+l-u,s+c),"bottom"===r&&this.drawCaret(t,e,n),e.lineTo(a+u,s+c),e.quadraticCurveTo(a,s+c,a,s+c-u),"center"===r&&"left"===i&&this.drawCaret(t,e,n),e.lineTo(a,s+u),e.quadraticCurveTo(a,s,a+u,s),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(){const t=this,e=t._chart,n=t.options,i=t.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const i=Si[n.position].call(t,t._active,t._eventPosition);if(!i)return;const a=t._size=Di(t),s=Object.assign({},i,t._size),l=Ai(e,n,s),c=Li(n,s,l,e);r._to===c.x&&o._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=a.width,t.height=a.height,t.caretX=i.x,t.caretY=i.y,t._resolveAnimations().update(t,c))}}draw(t){const e=this,n=e.options;let i=e.opacity;if(!i)return;e._updateAnimationTarget();const r={width:e.width,height:e.height},o={x:e.x,y:e.y};i=Math.abs(i)<.001?0:i;const a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,e.drawBackground(o,t,r),Dt(t,n.textDirection),o.y+=n.yPadding,e.drawTitle(o,t),e.drawBody(o,t),e.drawFooter(o,t),At(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this,i=n._active,r=t.map((({datasetIndex:t,index:e})=>{const i=n._chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),o=!m(i,r),a=n._positionChanged(r,e);(o||a)&&(n._active=r,n._eventPosition=e,n.update(!0))}handleEvent(t,e){const n=this,i=n.options,r=n._active||[];let o=!1,a=[];"mouseout"!==t.type&&(a=n._chart.getElementsAtEventForMode(t,i.mode,i,e),i.reverse&&a.reverse());const s=n._positionChanged(a,t);return o=e||!m(a,r)||s,o&&(n._active=a,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0))),o}_positionChanged(t,e){const n=this,i=Si[n.options.position].call(n,t,e);return n.caretX!==i.x||n.caretY!==i.y}}Ni.positioners=Si;var Ii={id:"tooltip",_element:Ni,positioners:Si,afterInit(t){t.options.tooltips&&(t.tooltip=new Ni({_chart:t}))},beforeUpdate(t){t.tooltip&&t.tooltip.initialize()},reset(t){t.tooltip&&t.tooltip.initialize()},afterDraw(t){const e=t.tooltip,n={tooltip:e};!1!==t._plugins.notify(t,"beforeTooltipDraw",[n])&&(e&&e.draw(t.ctx),t._plugins.notify(t,"afterTooltipDraw",[n]))},afterEvent(t,e,n){if(t.tooltip){const i=n;t.tooltip.handleEvent(e,i)}},defaults:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFont:{style:"bold",color:"#fff"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodySpacing:2,bodyFont:{color:"#fff"},bodyAlign:"left",footerSpacing:2,footerMarginTop:6,footerFont:{color:"#fff",style:"bold"},footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart",numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:s,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:s,beforeBody:s,beforeLabel:s,label(t){let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return c(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}},labelTextColor(){return this.options.bodyFont.color},afterLabel:s,afterBody:s,beforeFooter:s,footer:s,afterFooter:s}}};class Hi extends In{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){const n=this.getLabels();if(n[e]===t)return e;const i=n.indexOf(t),r=n.lastIndexOf(t);return-1===i||i!==r?e:i}determineDataLimits(){const t=this,e=t.getLabels().length-1;t.min=Math.max(t._userMin||0,0),t.max=Math.min(t._userMax||e,e)}buildTicks(){const t=this,e=t.min,n=t.max,i=t.options.offset,r=[];let o=t.getLabels();o=0===e&&n===o.length-1?o:o.slice(e,n+1),t._valueRange=Math.max(o.length-(i?0:1),1),t._startValue=t.min-(i?.5:0);for(let t=e;t<=n;t++)r.push({value:t});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!=typeof t&&(t=e.parse(t)),e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){const e=this,n=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(n,0),e.ticks.length-1)}getBasePixel(){return this.bottom}}function Fi(t){const e=Math.floor(G(t)),n=t/Math.pow(10,e);let i;return i=n<=1?1:n<=2?2:n<=5?5:10,i*Math.pow(10,e)}function ji(t,e){const n=[],{stepSize:i,min:r,max:o,precision:a}=t,s=i||1,l=t.maxTicks-1,{min:u,max:d}=e;let f,g,p,m,v=Fi((d-u)/l/s)*s;if(v<1e-14&&c(r)&&c(o))return[{value:u},{value:d}];m=Math.ceil(d/v)-Math.floor(u/v),m>l&&(v=Fi(m*v/l/s)*s),i||c(a)?f=Math.pow(10,function(t){if(!h(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}(v)):(f=Math.pow(10,a),v=Math.ceil(v*f)/f),g=Math.floor(u/v)*v,p=Math.ceil(d/v)*v,!i||c(r)||c(o)||function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-r)/i,v/1e3)&&(g=r,p=o),m=(p-g)/v,m=J(m,Math.round(m),v/1e3)?Math.round(m):Math.ceil(m),g=Math.round(g*f)/f,p=Math.round(p*f)/f,n.push({value:c(r)?g:r});for(let t=1;t<m;++t)n.push({value:Math.round((g+t*v)*f)/f});return n.push({value:c(o)?p:o}),n}Hi.id="category",Hi.defaults={ticks:{callback:Hi.prototype.getLabelForValue}};class Ui extends In{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return c(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?NaN:+t}handleTickRangeOptions(){const t=this,e=t.options;if(e.beginAtZero){const e=$(t.min),n=$(t.max);e<0&&n<0?t.max=0:e>0&&n>0&&(t.min=0)}const n=void 0!==e.min||void 0!==e.suggestedMin,i=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),n!==i&&t.min>=t.max&&(n?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)}getTickLimit(){const t=this,e=t.options.ticks;let n,{maxTicksLimit:i,stepSize:r}=e;return r?n=Math.ceil(t.max/r)-Math.floor(t.min/r)+1:(n=t.computeTickLimit(),i=i||11),i&&(n=Math.min(i,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,n=e.ticks;let i=t.getTickLimit();i=Math.max(2,i);const r=ji({maxTicks:i,min:e.min,max:e.max,precision:n.precision,stepSize:f(n.fixedStepSize,n.stepSize)},t);return Q(r,t,"value"),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),r}configure(){const t=this,e=t.ticks;let n=t.min,i=t.max;if(super.configure(),t.options.offset&&e.length){const t=(i-n)/Math.max(e.length-1,1)/2;n-=t,i+=t}t._startValue=n,t._endValue=i,t._valueRange=i-n}getLabelForValue(t){return new Intl.NumberFormat(this.options.locale).format(t)}}class Wi extends Ui{determineDataLimits(){const t=this,e=t.options,{min:n,max:i}=t.getMinMax(!0);t.min=h(n)?n:f(e.suggestedMin,0),t.max=h(i)?i:f(e.suggestedMax,1),e.stacked&&n>0&&(t.min=0),t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const e=t._resolveTickFontOptions(0);return Math.ceil(t.height/e.lineHeight)}getPixelForValue(t){const e=this;return e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Bi(t){return 1===t/Math.pow(10,Math.floor(G(t)))}function zi(t,e){return h(t)?t:e}Wi.id="linear",Wi.defaults={ticks:{callback:En.formatters.numeric}};class Vi extends In{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Ui.prototype.parse.apply(this,[t,e]);if(0!==n)return h(n)&&n>0?n:NaN;this._zero=!0}determineDataLimits(){const t=this,{min:e,max:n}=t.getMinMax(!0);t.min=h(e)?Math.max(0,e):null,t.max=h(n)?Math.max(0,n):null,t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this;let e=t.min,n=t.max;e===n&&(e<=0?(e=1,n=10):(e=Math.pow(10,Math.floor(G(e))-1),n=Math.pow(10,Math.floor(G(n))+1))),e<=0&&(e=Math.pow(10,Math.floor(G(n))-1)),n<=0&&(n=Math.pow(10,Math.floor(G(e))+1)),!t._userMin&&t._zero&&e===Math.pow(10,Math.floor(G(t.min)))&&(e=Math.pow(10,Math.floor(G(e))-1)),t.min=e,t.max=n}buildTicks(){const t=this,e=t.options,n=function(t,e){const n=Math.floor(G(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),r=[];let o=zi(t.min,Math.pow(10,Math.floor(G(e.min)))),a=Math.floor(G(o)),s=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:o,major:Bi(o)}),++s,10===s&&(s=1,++a,l=a>=0?1:l),o=Math.round(s*Math.pow(10,a)*l)/l}while(a<n||a===n&&s<i);const c=zi(t.max,o);return r.push({value:c,major:Bi(o)}),r}({min:t._userMin,max:t._userMax},t);let i=!t.isHorizontal();return Q(n,t,"value"),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&n.reverse(),n}getLabelForValue(t){return void 0===t?"0":new Intl.NumberFormat(this.options.locale).format(t)}configure(){const t=this,e=t.min;super.configure(),t._startValue=G(e),t._valueRange=G(t.max)-G(e),t._zero=t.options.beginAtZero}getPixelForValue(t){const e=this;return void 0!==t&&0!==t||(t=e.min),e.getPixelForDecimal(t===e.min?0:(G(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,n=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+n*e._valueRange)}}function Yi(t){const e=t.ticks;return e.display&&t.display?f(e.font&&e.font.size,kt.font.size)+2*e.backdropPaddingY:0}function qi(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Gi(t){return 0===t||180===t?"center":t<180?"left":"right"}function Xi(t,e,n,i){let r,o,a=n.y+i/2;if(u(e))for(r=0,o=e.length;r<o;++r)t.fillText(e[r],n.x,a),a+=i;else t.fillText(e,n.x,a)}function Ji(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function Qi(t){return X(t)?t:0}Vi.id="logarithmic",Vi.defaults={ticks:{callback:En.formatters.logarithmic,major:{enabled:!0}}};class $i extends Ui{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this.pointLabels=[]}init(t){super.init(t),this.axis="r"}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Yi(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:n}=t.getMinMax(!1);t.min=h(e)&&!isNaN(e)?e:0,t.max=h(n)&&!isNaN(n)?n:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Yi(this.options))}generateTickLabels(t){const e=this;Ui.prototype.generateTickLabels.call(e,t),e.pointLabels=e.chart.data.labels.map(((t,n)=>{const i=g(e.options.pointLabels.callback,[t,n],e);return i||0===i?i:""}))}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?function(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},n={};let i,r,o;t._pointLabelSizes=[];const a=t.chart.data.labels.length;for(i=0;i<a;i++){o=t.getPointPosition(i,t.drawingArea+5);const a=t.getContext(i),d=Ct(Pt([t.options.pointLabels.font],a,i),t.chart.options.font);t.ctx.font=d.string,s=t.ctx,l=d.lineHeight,r=u(c=t.pointLabels[i])?{w:T(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[i]=r;const h=t.getIndexAngle(i),f=Z(h),g=qi(f,o.x,r.w,0,180),p=qi(f,o.y,r.h,90,270);g.start<e.l&&(e.l=g.start,n.l=h),g.end>e.r&&(e.r=g.end,n.r=h),p.start<e.t&&(e.t=p.start,n.t=h),p.end>e.b&&(e.b=p.end,n.b=h)}var s,l,c;t._setReductions(t.drawingArea,e,n)}(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,n){const i=this;let r=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=Qi(r),o=Qi(o),a=Qi(a),s=Qi(s),i.drawingArea=Math.min(Math.floor(t-(r+o)/2),Math.floor(t-(a+s)/2)),i.setCenterPoint(r,o,a,s)}setCenterPoint(t,e,n,i){const r=this,o=r.width-e-r.drawingArea,a=t+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((a+o)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)}getIndexAngle(t){const e=this.chart;return et(t*(U/e.data.labels.length)+K((e.options||{}).startAngle||0))}getDistanceFromCenterForValue(t){const e=this;if(c(t))return NaN;const n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n}getValueForDistanceFromCenter(t){if(c(t))return NaN;const e=this,n=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-n:e.min+n}getPointPosition(t,e){const n=this,i=n.getIndexAngle(t)-V;return{x:Math.cos(i)*e+n.xCenter,y:Math.sin(i)*e+n.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}drawGrid(){const t=this,e=t.ctx,n=t.options,i=n.gridLines,r=n.angleLines;let o,a,s;if(n.pointLabels.display&&function(t){const e=t.ctx,n=t.options,i=n.pointLabels,r=Yi(n),o=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max);e.save(),e.textBaseline="middle";for(let n=t.chart.data.labels.length-1;n>=0;n--){const a=0===n?r/2:0,s=t.getPointPosition(n,o+a+5),l=t.getContext(n),c=Ct(Pt([i.font],l,n),t.chart.options.font);e.font=c.string,e.fillStyle=c.color;const u=Z(t.getIndexAngle(n));e.textAlign=Gi(u),Ji(u,t._pointLabelSizes[n],s),Xi(e,t.pointLabels[n],s,c.lineHeight)}e.restore()}(t),i.display&&t.ticks.forEach(((e,n)=>{0!==n&&(a=t.getDistanceFromCenterForValue(t.ticks[n].value),function(t,e,n,i){const r=t.ctx,o=e.circular,a=t.chart.data.labels.length,s=t.getContext(i),l=Pt([e.color],s,i-1),c=Pt([e.lineWidth],s,i-1);let u;if((o||a)&&l&&c){if(r.save(),r.strokeStyle=l,r.lineWidth=c,r.setLineDash&&(r.setLineDash(Pt([e.borderDash,[]],s)),r.lineDashOffset=Pt([e.borderDashOffset],s,i-1)),r.beginPath(),o)r.arc(t.xCenter,t.yCenter,n,0,U);else{u=t.getPointPosition(0,n),r.moveTo(u.x,u.y);for(let e=1;e<a;e++)u=t.getPointPosition(e,n),r.lineTo(u.x,u.y)}r.closePath(),r.stroke(),r.restore()}}(t,i,a,n))})),r.display){for(e.save(),o=t.chart.data.labels.length-1;o>=0;o--){const l=t.getContext(o),c=Pt([r.lineWidth,i.lineWidth],l,o),u=Pt([r.color,i.color],l,o);c&&u&&(e.lineWidth=c,e.strokeStyle=u,e.setLineDash&&(e.setLineDash(Pt([r.borderDash,i.borderDash,[]],l)),e.lineDashOffset=Pt([r.borderDashOffset,i.borderDashOffset,0],l,o)),a=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),s=t.getPointPosition(o,a),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(s.x,s.y),e.stroke())}e.restore()}}drawLabels(){const t=this,e=t.ctx,n=t.options,i=n.ticks;if(!i.display)return;const r=t.getIndexAngle(0);let o,a;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach(((r,s)=>{if(0===s&&!n.reverse)return;const l=t.getContext(s),c=t._resolveTickFontOptions(s);e.font=c.string,o=t.getDistanceFromCenterForValue(t.ticks[s].value);Pt([i.showLabelBackdrop],l,s)&&(a=e.measureText(r.label).width,e.fillStyle=Pt([i.backdropColor],l,s),e.fillRect(-a/2-i.backdropPaddingX,-o-c.size/2-i.backdropPaddingY,a+2*i.backdropPaddingX,c.size+2*i.backdropPaddingY)),e.fillStyle=c.color,e.fillText(r.label,0,-o)})),e.restore()}drawTitle(){}}$i.id="radialLinear",$i.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:En.formatters.numeric},pointLabels:{display:!0,font:{size:10},callback:t=>t}};const Ki=Number.MAX_SAFE_INTEGER||9007199254740991,Zi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tr=Object.keys(Zi);function er(t,e){return t-e}function nr(t,e){if(c(e))return null;const n=t._adapter,i=t.options.time,{parser:r,round:o,isoWeekday:a}=i;let s=e;return"function"==typeof r&&(s=r(s)),h(s)||(s="string"==typeof r?n.parse(s,r):n.parse(s)),null===s?s:(o&&(s="week"!==o||!X(a)&&!0!==a?t._adapter.startOf(s,o):t._adapter.startOf(s,"isoWeek",a)),+s)}function ir(t,e,n,i){const r=tr.length;for(let o=tr.indexOf(t);o<r-1;++o){const t=Zi[tr[o]],r=t.steps?t.steps:Ki;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return tr[o]}return tr[r-1]}function rr(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=R(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function or(t,e,n){const i=[],r={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],r[s]=a,i.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),a=e[e.length-1].value;let s,l;for(s=o;s<=a;s=+r.add(s,1,i))l=n[s],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class ar extends In{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1}init(t,e){const n=t.time||(t.time={}),i=this._adapter=new qe._date(t.adapters.date);x(n.displayFormats,i.formats()),super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?NaN:nr(this,t)}invalidateCaches(){this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,n=t._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:s}=t.getUserBounds();function l(t){a||isNaN(t.min)||(r=Math.min(r,t.min)),s||isNaN(t.max)||(o=Math.max(o,t.max))}a&&s||(l(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(t.getMinMax(!1))),r=h(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=h(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,t.min=Math.min(r,o),t.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this,e=t.options,n=e.time,i=e.ticks,r="labels"===i.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&r.length&&(t.min=t._userMin||r[0],t.max=t._userMax||r[r.length-1]);const o=t.min,a=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(r,o,t.max);return t._unit=n.unit||(i.autoSkip?ir(n.minUnit,t.min,t.max,t._getLabelCapacity(o)):function(t,e,n,i,r){for(let o=tr.length-1;o>=tr.indexOf(n);o--){const n=tr[o];if(Zi[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return tr[n?tr.indexOf(n):0]}(t,a.length,n.minUnit,t.min,t.max)),t._majorUnit=i.major.enabled&&"year"!==t._unit?function(t){for(let e=tr.indexOf(t)+1,n=tr.length;e<n;++e)if(Zi[tr[e]].common)return tr[e]}(t._unit):void 0,t.initOffsets(r),e.reverse&&a.reverse(),or(t,a,t._majorUnit)}initOffsets(t){const e=this;let n,i,r=0,o=0;e.options.offset&&t.length&&(n=e.getDecimalForValue(t[0]),r=1===t.length?1-n:(e.getDecimalForValue(t[1])-n)/2,i=e.getDecimalForValue(t[t.length-1]),o=1===t.length?i:(i-e.getDecimalForValue(t[t.length-2]))/2),e._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const t=this,e=t._adapter,n=t.min,i=t.max,r=t.options,o=r.time,a=o.unit||ir(o.minUnit,n,i,t._getLabelCapacity(n)),s=f(o.stepSize,1),l="week"===a&&o.isoWeekday,c=X(l)||!0===l,u={};let d,h=n;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":a),e.diff(i,n,a)>1e5*s)throw new Error(n+" and "+i+" are too far apart with stepSize of "+s+" "+a);const g="data"===r.ticks.source&&t.getDataTimestamps();for(d=h;d<i;d=+e.add(d,s,a))rr(u,d,g);return d!==i&&"ticks"!==r.bounds||rr(u,d,g),Object.keys(u).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,i){const r=this,o=r.options,a=o.time.displayFormats,s=r._unit,l=r._majorUnit,c=s&&a[s],u=l&&a[l],d=n[e],h=l&&u&&d&&d.major,f=r._adapter.format(t,i||(h?u:c)),g=o.ticks.callback;return g?g(f,e,n):f}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){const e=this;return(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,n=e._offsets,i=e.getDecimalForValue(t);return e.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const e=this,n=e._offsets,i=e.getDecimalForPixel(t)/n.factor-n.end;return e.min+i*(e.max-e.min)}_getLabelSize(t){const e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,r=K(e.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),a=Math.sin(r),s=e._resolveTickFontOptions(0).size;return{w:i*o+s*a,h:i*a+s*o}}_getLabelCapacity(t){const e=this,n=e.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=e._tickFormatFunction(t,0,or(e,[t],e._majorUnit),r),a=e._getLabelSize(o),s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h)-1;return s>0?s:1}getDataTimestamps(){const t=this;let e,n,i=t._cache.data||[];if(i.length)return i;const r=t.getMatchingVisibleMetas();if(t._normalized&&r.length)return t._cache.data=r[0].controller.getAllParsedValues(t);for(e=0,n=r.length;e<n;++e)i=i.concat(r[e].controller.getAllParsedValues(t));return t._cache.data=t.normalize(i)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let n,i;if(e.length)return e;const r=t.getLabels();for(n=0,i=r.length;n<i;++n)e.push(nr(t,r[n]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return function(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);if(e.size===i)return t;const r=[];return e.forEach((t=>{r.push(t)})),r}(t.sort(er))}}function sr(t,e,n){let i,r,o,a;if(n)i=Math.floor(e),r=Math.ceil(e),o=t[i],a=t[r];else{const n=R(t,e);o=n.lo,a=n.hi,i=t[o],r=t[a]}const s=r-i;return s?o+(a-o)*(e-i)/s:o}ar.id="time",ar.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class lr extends ar{constructor(t){super(t),this._table=[],this._maxIndex=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable();t._table=t.buildLookupTable(e),t._maxIndex=t._table.length-1,super.initOffsets(e)}buildLookupTable(t){const{min:e,max:n}=this;if(!t.length)return[{time:e,pos:0},{time:n,pos:1}];const i=[e];let r,o,a;for(r=0,o=t.length;r<o;++r)a=t[r],a>e&&a<n&&i.push(a);return i.push(n),i}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const n=t.getDataTimestamps(),i=t.getLabelTimestamps();return e=n.length&&i.length?t.normalize(n.concat(i)):n.length?n:i,e=t._cache.all=e,e}getPixelForValue(t,e){const n=this,i=n._offsets,r=n._normalized&&n._maxIndex>0&&!c(e)?e/n._maxIndex:n.getDecimalForValue(t);return n.getPixelForDecimal((i.start+r)*i.factor)}getDecimalForValue(t){return sr(this._table,t)/this._maxIndex}getValueForPixel(t){const e=this,n=e._offsets,i=e.getDecimalForPixel(t)/n.factor-n.end;return sr(e._table,i*this._maxIndex,!0)}}function cr(t,e){if(void 0!==t.one&&1===e)return t.one;var n=e%10,i=e%100;return 1===n&&11!==i?t.singularNominative.replace("{{count}}",e):n>=2&&n<=4&&(i<10||i>20)?t.singularGenitive.replace("{{count}}",e):t.pluralGenitive.replace("{{count}}",e)}function ur(t){return function(e,n){return n.addSuffix?n.comparison>0?t.future?cr(t.future,e):"через "+cr(t.regular,e):t.past?cr(t.past,e):cr(t.regular,e)+" назад":cr(t.regular,e)}}lr.id="timeseries",lr.defaults=ar.defaults;var dr={lessThanXSeconds:ur({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:ur({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,e){return e.addSuffix?e.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:ur({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:ur({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:ur({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:ur({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:ur({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:ur({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:ur({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:ur({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:ur({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:ur({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:ur({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:ur({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:ur({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};function hr(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var fr={date:hr({formats:{full:"EEEE, do MMMM y 'г.'",long:"do MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},defaultWidth:"full"}),time:hr({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:hr({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})};function gr(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function pr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function mr(t){pr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function vr(t,e){pr(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:gr(r),a=null==n.weekStartsOn?o:gr(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=mr(t),l=s.getUTCDay(),c=(l<a?7:0)+l-a;return s.setUTCDate(s.getUTCDate()-c),s.setUTCHours(0,0,0,0),s}function br(t,e,n){pr(2,arguments);var i=vr(t,n),r=vr(e,n);return i.getTime()===r.getTime()}var yr=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function xr(t){var e=yr[t];return 2===t?"'во "+e+" в' p":"'в "+e+" в' p"}var wr={lastWeek:function(t,e,n){var i=t.getUTCDay();return br(t,e,n)?xr(i):function(t){var e=yr[t];switch(t){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}(i)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,e,n){var i=t.getUTCDay();return br(t,e,n)?xr(i):function(t){var e=yr[t];switch(t){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}(i)},other:"P"};function kr(t){return function(e,n){var i,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,l=r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function _r(t){return function(e,n){var i=String(e),r=n||{},o=i.match(t.matchPattern);if(!o)return null;var a=o[0],s=i.match(t.parsePattern);if(!s)return null;var l=t.valueCallback?t.valueCallback(s[0]):s[0];return{value:l=r.valueCallback?r.valueCallback(l):l,rest:i.slice(a.length)}}}function Mr(t){return function(e,n){var i=String(e),r=n||{},o=r.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=i.match(a);if(!s)return null;var l,c=s[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(u,(function(t){return t.test(c)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(u,(function(t){return t.test(c)})),l=t.valueCallback?t.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:i.slice(c.length)}}}const Tr={code:"ru",formatDistance:function(t,e,n){return n=n||{},dr[t](e,n)},formatLong:fr,formatRelative:function(t,e,n,i){var r=wr[t];return"function"==typeof r?r(e,n,i):r},localize:{ordinalNumber:function(t,e){var n=String((e||{}).unit);return t+("date"===n?"-е":"week"===n||"minute"===n||"second"===n?"-я":"-й")},era:kr({values:{narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},defaultWidth:"wide"}),quarter:kr({values:{narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:kr({values:{narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},defaultWidth:"wide",formattingValues:{narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},defaultFormattingWidth:"wide"}),day:kr({values:{narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},defaultWidth:"wide"}),dayPeriod:kr({values:{narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},defaultWidth:"any",formattingValues:{narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:_r({matchPattern:/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Mr({matchPatterns:{narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^д/i,/^н/i]},defaultParseWidth:"any"}),quarter:Mr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Mr({matchPatterns:{narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},defaultParseWidth:"any"}),day:Mr({matchPatterns:{narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},defaultParseWidth:"any"}),dayPeriod:Mr({matchPatterns:{narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};var Sr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};var Cr={date:hr({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:hr({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:hr({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Pr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Er={code:"en-US",formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof Sr[t]?Sr[t]:1===e?Sr[t].one:Sr[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:Cr,formatRelative:function(t,e,n,i){return Pr[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:kr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:kr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:_r({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Mr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Mr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Mr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Mr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Mr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dr(t,e){pr(2,arguments);var n=mr(t).getTime(),i=gr(e);return new Date(n+i)}function Ar(t,e){pr(2,arguments);var n=gr(e);return Dr(t,-n)}function Lr(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Or(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Rr(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}const Nr={p:Rr,P:function(t,e){var n,i=t.match(/(P+)(p+)?/),r=i[1],o=i[2];if(!o)return Or(t,e);switch(r){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",Or(r,e)).replace("{{time}}",Rr(o,e))}};var Ir=6e4;function Hr(t){return t.getTime()%Ir}function Fr(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());e.setSeconds(0,0);var i=n>0?(Ir+Hr(e))%Ir:Hr(e);return n*Ir+i}var jr=["D","DD"],Ur=["YY","YYYY"];function Wr(t){return-1!==jr.indexOf(t)}function Br(t){return-1!==Ur.indexOf(t)}function zr(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}function Vr(t,e){pr(1,arguments);var n=mr(t,e),i=n.getUTCFullYear(),r=e||{},o=r.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:gr(a),l=null==r.firstWeekContainsDate?s:gr(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setUTCFullYear(i+1,0,l),c.setUTCHours(0,0,0,0);var u=vr(c,e),d=new Date(0);d.setUTCFullYear(i,0,l),d.setUTCHours(0,0,0,0);var h=vr(d,e);return n.getTime()>=u.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function Yr(t,e,n){pr(2,arguments);var i=n||{},r=i.locale,o=r&&r.options&&r.options.weekStartsOn,a=null==o?0:gr(o),s=null==i.weekStartsOn?a:gr(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=mr(t),c=gr(e),u=l.getUTCDay(),d=c%7,h=(d+7)%7,f=(h<s?7:0)+c-u;return l.setUTCDate(l.getUTCDate()+f),l}function qr(t){pr(1,arguments);var e=1,n=mr(t),i=n.getUTCDay(),r=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Gr(t){pr(1,arguments);var e=mr(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=qr(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=qr(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Xr(t){pr(1,arguments);var e=Gr(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=qr(n);return i}var Jr=6048e5;function Qr(t){pr(1,arguments);var e=mr(t),n=qr(e).getTime()-Xr(e).getTime();return Math.round(n/Jr)+1}function $r(t,e){pr(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:gr(r),a=null==n.firstWeekContainsDate?o:gr(n.firstWeekContainsDate),s=Vr(t,e),l=new Date(0);l.setUTCFullYear(s,0,a),l.setUTCHours(0,0,0,0);var c=vr(l,e);return c}var Kr=6048e5;function Zr(t,e){pr(1,arguments);var n=mr(t),i=vr(n,e).getTime()-$r(n,e).getTime();return Math.round(i/Kr)+1}var to=/^(1[0-2]|0?\d)/,eo=/^(3[0-1]|[0-2]?\d)/,no=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,io=/^(5[0-3]|[0-4]?\d)/,ro=/^(2[0-3]|[0-1]?\d)/,oo=/^(2[0-4]|[0-1]?\d)/,ao=/^(1[0-1]|0?\d)/,so=/^(1[0-2]|0?\d)/,lo=/^[0-5]?\d/,co=/^[0-5]?\d/,uo=/^\d/,ho=/^\d{1,2}/,fo=/^\d{1,3}/,go=/^\d{1,4}/,po=/^-?\d+/,mo=/^-?\d/,vo=/^-?\d{1,2}/,bo=/^-?\d{1,3}/,yo=/^-?\d{1,4}/,xo=/^([+-])(\d{2})(\d{2})?|Z/,wo=/^([+-])(\d{2})(\d{2})|Z/,ko=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,_o=/^([+-])(\d{2}):(\d{2})|Z/,Mo=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function To(t,e,n){var i=e.match(t);if(!i)return null;var r=parseInt(i[0],10);return{value:n?n(r):r,rest:e.slice(i[0].length)}}function So(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function Co(t,e){return To(po,t,e)}function Po(t,e,n){switch(t){case 1:return To(uo,e,n);case 2:return To(ho,e,n);case 3:return To(fo,e,n);case 4:return To(go,e,n);default:return To(new RegExp("^\\d{1,"+t+"}"),e,n)}}function Eo(t,e,n){switch(t){case 1:return To(mo,e,n);case 2:return To(vo,e,n);case 3:return To(bo,e,n);case 4:return To(yo,e,n);default:return To(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function Do(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ao(t,e){var n,i=e>0,r=i?e:1-e;if(r<=50)n=t||100;else{var o=r+50;n=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return i?n:1-n}var Lo=[31,28,31,30,31,30,31,31,30,31,30,31],Oo=[31,29,31,30,31,30,31,31,30,31,30,31];function Ro(t){return t%400==0||t%4==0&&t%100!=0}const No={G:{priority:140,parse:function(t,e,n,i){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,i){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Po(4,t,r);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Po(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,i){var r=t.getUTCFullYear();if(n.isTwoDigitYear){var o=Ao(n.year,r);return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}var a="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Po(4,t,r);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Po(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,i){var r=Vr(t,i);if(n.isTwoDigitYear){var o=Ao(n.year,r);return t.setUTCFullYear(o,0,i.firstWeekContainsDate),t.setUTCHours(0,0,0,0),vr(t,i)}var a="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(a,0,i.firstWeekContainsDate),t.setUTCHours(0,0,0,0),vr(t,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,i){return Eo("R"===e?4:e.length,t)},set:function(t,e,n,i){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),qr(r)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,i){return Eo("u"===e?4:e.length,t)},set:function(t,e,n,i){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,i){switch(e){case"Q":case"QQ":return Po(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,i){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,i){switch(e){case"q":case"qq":return Po(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,i){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"M":return To(to,t,r);case"MM":return Po(2,t,r);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"L":return To(to,t,r);case"LL":return Po(2,t,r);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,i){switch(e){case"w":return To(io,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,i){return vr(function(t,e,n){pr(2,arguments);var i=mr(t),r=gr(e),o=Zr(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(t,n,i),i)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,i){switch(e){case"I":return To(io,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,i){return qr(function(t,e){pr(2,arguments);var n=mr(t),i=gr(e),r=Qr(n)-i;return n.setUTCDate(n.getUTCDate()-7*r),n}(t,n,i),i)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,i){switch(e){case"d":return To(eo,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Po(e.length,t)}},validate:function(t,e,n){var i=Ro(t.getUTCFullYear()),r=t.getUTCMonth();return i?e>=1&&e<=Oo[r]:e>=1&&e<=Lo[r]},set:function(t,e,n,i){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,i){switch(e){case"D":case"DD":return To(no,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Po(e.length,t)}},validate:function(t,e,n){return Ro(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,i){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,i){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=Yr(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Po(e.length,t,r);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=Yr(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Po(e.length,t,r);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=Yr(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,i){var r=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return Po(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiii":default:return n.day(t,{width:"wide",context:"formatting",valueCallback:r})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n,i){return(t=function(t,e){pr(2,arguments);var n=gr(e);n%7==0&&(n-=7);var i=1,r=mr(t),o=r.getUTCDay(),a=((n%7+7)%7<i?7:0)+n-o;return r.setUTCDate(r.getUTCDate()+a),r}(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,i){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Do(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,i){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Do(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,i){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Do(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,i){switch(e){case"h":return To(so,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,i){var r=t.getUTCHours()>=12;return r&&n<12?t.setUTCHours(n+12,0,0,0):r||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,i){switch(e){case"H":return To(ro,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,i){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,i){switch(e){case"K":return To(ao,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,i){switch(e){case"k":return To(oo,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,i){var r=n<=24?n%24:n;return t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,i){switch(e){case"m":return To(lo,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,i){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,i){switch(e){case"s":return To(co,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Po(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,i){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,i){return Po(e.length,t,(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))},set:function(t,e,n,i){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,i){switch(e){case"X":return So(xo,t);case"XX":return So(wo,t);case"XXXX":return So(ko,t);case"XXXXX":return So(Mo,t);case"XXX":default:return So(_o,t)}},set:function(t,e,n,i){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,i){switch(e){case"x":return So(xo,t);case"xx":return So(wo,t);case"xxxx":return So(ko,t);case"xxxxx":return So(Mo,t);case"xxx":default:return So(_o,t)}},set:function(t,e,n,i){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,i){return Co(t)},set:function(t,e,n,i){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,i){return Co(t)},set:function(t,e,n,i){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var Io=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ho=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fo=/^'([^]*?)'?$/,jo=/''/g,Uo=/\S/,Wo=/[a-zA-Z]/;function Bo(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function zo(t){return t.match(Fo)[1].replace(jo,"'")}var Vo=36e5,Yo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qo=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Go=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xo=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Jo(t){var e,n={},i=t.split(Yo.dateTimeDelimiter);if(i.length>2)return n;if(/:/.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1],Yo.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Yo.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var r=Yo.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}function Qo(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:null};var r=i[1]&&parseInt(i[1]),o=i[2]&&parseInt(i[2]);return{year:null==o?r:100*o,restDateString:t.slice((i[1]||i[2]).length)}}function $o(t,e){if(null===e)return null;var n=t.match(qo);if(!n)return null;var i=!!n[4],r=Ko(n[1]),o=Ko(n[2])-1,a=Ko(n[3]),s=Ko(n[4]),l=Ko(n[5])-1;if(i)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,s,l)?function(t,e,n){var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,o=7*(e-1)+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}(e,s,l):new Date(NaN);var c=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(na[e]||(ia(t)?29:28))}(e,o,a)&&function(t,e){return e>=1&&e<=(ia(t)?366:365)}(e,r)?(c.setUTCFullYear(e,o,Math.max(r,a)),c):new Date(NaN)}function Ko(t){return t?parseInt(t):1}function Zo(t){var e=t.match(Go);if(!e)return null;var n=ta(e[1]),i=ta(e[2]),r=ta(e[3]);return function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,i,r)?n*Vo+6e4*i+1e3*r:NaN}function ta(t){return t&&parseFloat(t.replace(",","."))||0}function ea(t){if("Z"===t)return 0;var e=t.match(Xo);if(!e)return 0;var n="+"===e[1]?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,r)?n*(i*Vo+6e4*r):NaN}var na=[31,null,31,30,31,30,31,31,30,31,30,31];function ia(t){return t%400==0||t%4==0&&t%100}function ra(t){pr(1,arguments);var e=mr(t);return!isNaN(e)}function oa(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}const aa={y:function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return oa("yy"===e?i%100:i,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):oa(n+1,2)},d:function(t,e){return oa(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return oa(t.getUTCHours()%12||12,e.length)},H:function(t,e){return oa(t.getUTCHours(),e.length)},m:function(t,e){return oa(t.getUTCMinutes(),e.length)},s:function(t,e){return oa(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,i=t.getUTCMilliseconds();return oa(Math.floor(i*Math.pow(10,n-3)),e.length)}};var sa=864e5;var la="midnight",ca="noon",ua="morning",da="afternoon",ha="evening",fa="night";function ga(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var a=e||"";return n+String(r)+a+oa(o,2)}function pa(t,e){return t%60==0?(t>0?"-":"+")+oa(Math.abs(t)/60,2):ma(t,e)}function ma(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t);return i+oa(Math.floor(r/60),2)+n+oa(r%60,2)}const va={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return aa.y(t,e)},Y:function(t,e,n,i){var r=Vr(t,i),o=r>0?r:1-r;return"YY"===e?oa(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):oa(o,e.length)},R:function(t,e){return oa(Gr(t),e.length)},u:function(t,e){return oa(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return oa(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return oa(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return aa.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return oa(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=Zr(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):oa(r,e.length)},I:function(t,e,n){var i=Qr(t);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):oa(i,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):aa.d(t,e)},D:function(t,e,n){var i=function(t){pr(1,arguments);var e=mr(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),r=n-i;return Math.floor(r/sa)+1}(t);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):oa(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return oa(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return oa(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return oa(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i,r=t.getUTCHours();switch(i=12===r?ca:0===r?la:r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i,r=t.getUTCHours();switch(i=r>=17?ha:r>=12?da:r>=4?ua:fa,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var i=t.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return aa.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):aa.H(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):oa(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):oa(i,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):aa.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):aa.s(t,e)},S:function(t,e){return aa.S(t,e)},X:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return pa(r);case"XXXX":case"XX":return ma(r);case"XXXXX":case"XXX":default:return ma(r,":")}},x:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return pa(r);case"xxxx":case"xx":return ma(r);case"xxxxx":case"xxx":default:return ma(r,":")}},O:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ga(r,":");case"OOOO":default:return"GMT"+ma(r,":")}},z:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ga(r,":");case"zzzz":default:return"GMT"+ma(r,":")}},t:function(t,e,n,i){var r=i._originalDate||t;return oa(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,i){return oa((i._originalDate||t).getTime(),e.length)}};var ba=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ya=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xa=/^'([^]*?)'?$/,wa=/''/g,ka=/[a-zA-Z]/;function _a(t){return t.match(xa)[1].replace(wa,"'")}var Ma=36e5;function Ta(t,e){pr(2,arguments);var n=mr(t),i=gr(e);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function Sa(t,e){pr(2,arguments);var n=mr(t),i=gr(e);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var a=o.getDate();return r>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function Ca(t,e){pr(2,arguments);var n=mr(t),i=mr(e);return n.getTime()-i.getTime()}var Pa=36e5;function Ea(t){pr(1,arguments);var e=mr(t);return e.setHours(0,0,0,0),e}var Da=864e5;function Aa(t,e){pr(2,arguments);var n=Ea(t),i=Ea(e),r=n.getTime()-Fr(n),o=i.getTime()-Fr(i);return Math.round((r-o)/Da)}function La(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Oa(t,e){pr(2,arguments);var n=mr(t),i=mr(e),r=La(n,i),o=Math.abs(Aa(n,i));n.setDate(n.getDate()-r*o);var a=La(n,i)===-r,s=r*(o-a);return 0===s?0:s}function Ra(t,e){pr(2,arguments);var n=mr(t),i=mr(e),r=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return 12*r+o}function Na(t,e){pr(2,arguments);var n=mr(t),i=mr(e),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function Ia(t,e){pr(2,arguments);var n=mr(t),i=mr(e),r=Na(n,i),o=Math.abs(Ra(n,i));n.setMonth(n.getMonth()-r*o);var a=Na(n,i)===-r,s=r*(o-a);return 0===s?0:s}function Ha(t,e){pr(2,arguments);var n=mr(t),i=mr(e);return n.getFullYear()-i.getFullYear()}function Fa(t,e){pr(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:gr(r),a=null==n.weekStartsOn?o:gr(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=mr(t),l=s.getDay(),c=(l<a?7:0)+l-a;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ja(t){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ua={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"LLL yyyy",quarter:"qqq - yyyy",year:"yyyy"};const Wa={_id:"date-fns",formats:function(){return Ua},parse:function(t,e){if(null==t)return null;var n=ja(t);return"number"===n||t instanceof Date?t=mr(t):"string"===n&&(t="string"==typeof e?function(t,e,n,i){pr(3,arguments);var r=String(t),o=String(e),a=i||{},s=a.locale||Er;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,c=null==l?1:gr(l),u=null==a.firstWeekContainsDate?c:gr(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,h=null==d?0:gr(d),f=null==a.weekStartsOn?h:gr(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===r?mr(n):new Date(NaN);var g,p={firstWeekContainsDate:u,weekStartsOn:f,locale:s},m=[{priority:10,subPriority:-1,set:Bo,index:0}],v=o.match(Ho).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Nr[e])(t,s.formatLong,p):t})).join("").match(Io),b=[];for(g=0;g<v.length;g++){var y=v[g];!a.useAdditionalWeekYearTokens&&Br(y)&&zr(y,o,t),!a.useAdditionalDayOfYearTokens&&Wr(y)&&zr(y,o,t);var x=y[0],w=No[x];if(w){var k=w.incompatibleTokens;if(Array.isArray(k)){for(var _=void 0,M=0;M<b.length;M++){var T=b[M].token;if(-1!==k.indexOf(T)||T===x){_=b[M];break}}if(_)throw new RangeError("The format string mustn't contain `".concat(_.fullToken,"` and `").concat(y,"` at the same time"))}else if("*"===w.incompatibleTokens&&b.length)throw new RangeError("The format string mustn't contain `".concat(y,"` and any other token at the same time"));b.push({token:x,fullToken:y});var S=w.parse(r,y,s.match,p);if(!S)return new Date(NaN);m.push({priority:w.priority,subPriority:w.subPriority||0,set:w.set,validate:w.validate,value:S.value,index:m.length}),r=S.rest}else{if(x.match(Wo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if("''"===y?y="'":"'"===x&&(y=zo(y)),0!==r.indexOf(y))return new Date(NaN);r=r.slice(y.length)}}if(r.length>0&&Uo.test(r))return new Date(NaN);var C=m.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return m.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),P=mr(n);if(isNaN(P))return new Date(NaN);var E=Ar(P,Fr(P)),D={};for(g=0;g<C.length;g++){var A=C[g];if(A.validate&&!A.validate(E,A.value,p))return new Date(NaN);var L=A.set(E,D,A.value,p);L[0]?(E=L[0],Lr(D,L[1])):E=L}return E}(t,e,new Date,this.options):function(t,e){pr(1,arguments);var n=e||{},i=null==n.additionalDigits?2:gr(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var r,o=Jo(t);if(o.date){var a=Qo(o.date,i);r=$o(a.restDateString,a.year)}if(isNaN(r)||!r)return new Date(NaN);var s,l=r.getTime(),c=0;if(o.time&&(c=Zo(o.time),isNaN(c)||null===c))return new Date(NaN);if(!o.timezone){var u=new Date(l+c),d=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds());return d.setFullYear(u.getUTCFullYear()),d}return s=ea(o.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}(t,this.options)),ra(t)?t.getTime():null},format:function(t,e){return function(t,e,n){pr(2,arguments);var i=String(e),r=n||{},o=r.locale||Er,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:gr(a),l=null==r.firstWeekContainsDate?s:gr(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=o.options&&o.options.weekStartsOn,u=null==c?0:gr(c),d=null==r.weekStartsOn?u:gr(r.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var h=mr(t);if(!ra(h))throw new RangeError("Invalid time value");var f=Fr(h),g=Ar(h,f),p={firstWeekContainsDate:l,weekStartsOn:d,locale:o,_originalDate:h};return i.match(ya).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Nr[e])(t,o.formatLong,p):t})).join("").match(ba).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return _a(n);var a=va[i];if(a)return!r.useAdditionalWeekYearTokens&&Br(n)&&zr(n,e,t),!r.useAdditionalDayOfYearTokens&&Wr(n)&&zr(n,e,t),a(g,n,o.localize,p);if(i.match(ka))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("")}(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return Dr(t,e);case"second":return function(t,e){pr(2,arguments);var n=gr(e);return Dr(t,1e3*n)}(t,e);case"minute":return function(t,e){pr(2,arguments);var n=gr(e);return Dr(t,6e4*n)}(t,e);case"hour":return function(t,e){pr(2,arguments);var n=gr(e);return Dr(t,n*Ma)}(t,e);case"day":return Ta(t,e);case"week":return function(t,e){pr(2,arguments);var n=gr(e);return Ta(t,7*n)}(t,e);case"month":return Sa(t,e);case"quarter":return function(t,e){pr(2,arguments);var n=gr(e);return Sa(t,3*n)}(t,e);case"year":return function(t,e){pr(2,arguments);var n=gr(e);return Sa(t,12*n)}(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Ca(t,e);case"second":return function(t,e){pr(2,arguments);var n=Ca(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}(t,e);case"minute":return function(t,e){pr(2,arguments);var n=Ca(t,e)/6e4;return n>0?Math.floor(n):Math.ceil(n)}(t,e);case"hour":return function(t,e){pr(2,arguments);var n=Ca(t,e)/Pa;return n>0?Math.floor(n):Math.ceil(n)}(t,e);case"day":return Oa(t,e);case"week":return function(t,e){pr(2,arguments);var n=Oa(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}(t,e);case"month":return Ia(t,e);case"quarter":return function(t,e){pr(2,arguments);var n=Ia(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}(t,e);case"year":return function(t,e){pr(2,arguments);var n=mr(t),i=mr(e),r=Na(n,i),o=Math.abs(Ha(n,i));n.setFullYear("1584"),i.setFullYear("1584");var a=Na(n,i)===-r,s=r*(o-a);return 0===s?0:s}(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return function(t){pr(1,arguments);var e=mr(t);return e.setMilliseconds(0),e}(t);case"minute":return function(t){pr(1,arguments);var e=mr(t);return e.setSeconds(0,0),e}(t);case"hour":return function(t){pr(1,arguments);var e=mr(t);return e.setMinutes(0,0,0),e}(t);case"day":return Ea(t);case"week":return Fa(t);case"isoWeek":return Fa(t,{weekStartsOn:+n});case"month":return function(t){pr(1,arguments);var e=mr(t);return e.setDate(1),e.setHours(0,0,0,0),e}(t);case"quarter":return function(t){pr(1,arguments);var e=mr(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}(t);case"year":return function(t){pr(1,arguments);var e=mr(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t);default:return t}},endOf:function(t,e){switch(e){case"second":return function(t){pr(1,arguments);var e=mr(t);return e.setMilliseconds(999),e}(t);case"minute":return function(t){pr(1,arguments);var e=mr(t);return e.setSeconds(59,999),e}(t);case"hour":return function(t){pr(1,arguments);var e=mr(t);return e.setMinutes(59,59,999),e}(t);case"day":return function(t){pr(1,arguments);var e=mr(t);return e.setHours(23,59,59,999),e}(t);case"week":return function(t,e){pr(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:gr(r),a=null==n.weekStartsOn?o:gr(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=mr(t),l=s.getDay(),c=6+(l<a?-7:0)-(l-a);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}(t);case"month":return function(t){pr(1,arguments);var e=mr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}(t);case"quarter":return function(t){pr(1,arguments);var e=mr(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}(t);case"year":return function(t){pr(1,arguments);var e=mr(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}(t);default:return t}}};function Ba(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}$n.register(je,li,Ie,mi,ci,Wi,ar,Ii,ki,Ti),qe._date.override(Wa);var Va={openProfits:{incomes:function(){return JSON.parse(this.el.dataset.incomes)},expenses:function(){return JSON.parse(this.el.dataset.expenses)},profits:function(){return JSON.parse(this.el.dataset.profits)},popularCategories:function(){return JSON.parse(this.el.dataset.popularCategories)},mostExpensiveCategories:function(){return JSON.parse(this.el.dataset.mostExpensiveCategories)},colors:function(){return Object.entries({blue:"rgb(54, 162, 235)",yellow:"rgb(249, 231, 159)",green:"rgb(75, 192, 192)",red:"rgb(255, 99, 132)",purple:"rgb(108, 52, 131)",grey:"rgb(201, 203, 207)",darkRed:"rgb(110, 44, 0)",darkBlue:"rgb(28, 40, 51)",darkGreen:"rgb(0, 131, 143)"}).map((function(t){var e=Ba(t,2);e[0];return e[1]}))},createIncomeExpensesChart:function(){var t=document.getElementById("data-incomes-expenses"),e=this.incomes().map((function(t){return{x:t.date,y:t.amount,description:t.description}})),n=this.expenses().map((function(t){return{x:t.date,y:t.amount,description:t.description}}));new $n(t,{type:"bar",data:{datasets:[{backgroundColor:"rgb(75, 192, 192)",barThickness:"flex",label:"Поступление",data:e},{backgroundColor:"rgb(255, 99, 132)",label:"Расход",barThickness:"flex",data:n}]},options:{tooltips:{callbacks:{label:function(t){var e=t.dataset.data[t.dataIndex].description;return" ".concat(e,": ").concat(t.formattedValue," $")}},displayColors:!1},title:{display:!0,text:"Движение средств."},scales:{y:{beginAtZero:!0,suggestedMin:-100,suggestedMax:100,offset:!0},x:{type:"time",adapters:{date:{locale:Tr}},time:{unit:"month"},offset:!0}},responsive:!0,maintainAspectRatio:!1}})},createProfitsTrendChart:function(){var t=document.getElementById("data-profits-trend"),e={type:"line",data:{datasets:[{fill:!1,label:"Ежемесячная прибыль.",borderColor:"rgb(153, 102, 255)",data:this.profits().map((function(t){return{x:t.date,y:t.amount,description:t.description}}))}]},options:{title:{display:!0,text:"Ежемесячная прибыль."},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return" ".concat(t.formattedValue," $")}},displayColors:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,adapters:{date:{locale:Tr}},type:"time",time:{unit:"month"},offset:!0},y:{display:!0,scaleLabel:{display:!0,labelString:"Сумма"},suggestedMin:-100,suggestedMax:100,beginAtZero:!0}}}};new $n(t,e)},createPopularCategoriesChart:function(){var t=document.getElementById("data-popular-categories"),e=this.popularCategories(),n=this.colors(),i=Object.entries(e).flatMap((function(t,e){var i=Ba(t,2),r=i[0],o=i[1],a=n[e%n.length];return o.flatMap((function(t){return{fill:!1,pointRadius:4,label:r,backgroundColor:a,borderColor:a,data:t.map((function(t){return{x:t.date,y:t.records_count,description:t.category_name}}))}}))}));new $n(t,{type:"line",data:{datasets:i},options:{title:{display:!0,text:"Категории с наибольшим количеством транзакций."},legend:{display:!0,labels:{filter:function(t,e){return console.log(t.datasetIndex),console.log(e),t.datasetIndex==e.datasets.findIndex((function(e){return e.label===t.text}))}}},responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{title:function(t){return""},label:function(t){return"".concat(t.dataset.label,": ").concat(t.formattedValue)}},displayColors:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,adapters:{date:{locale:Tr}},type:"time",time:{unit:"month"},offset:!0},y:{display:!0,scaleLabel:{display:!0,labelString:"Количество транзакций"},suggestedMin:0,beginAtZero:!0}}}})},createMostExpensiveCategoriesChart:function(){var t=document.getElementById("data-most-expensive-categories"),e=this.mostExpensiveCategories(),n=this.colors(),i=Object.entries(e).flatMap((function(t,e){var i=Ba(t,2),r=i[0],o=i[1],a=n[e%n.length];return o.flatMap((function(t){return{fill:!1,label:r,backgroundColor:a,borderColor:a,pointRadius:4,data:t.map((function(t){return{x:t.date,y:t.sum_amount,description:t.category_name}}))}}))}));new $n(t,{type:"line",data:{datasets:i},options:{title:{display:!0,text:"Категории с наибольшими расходами (BYN)."},legend:{display:!0,labels:{filter:function(t,e){return console.log(t.datasetIndex),console.log(e),t.datasetIndex==e.datasets.findIndex((function(e){return e.label===t.text}))}}},responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{title:function(t){return""},label:function(t){return"".concat(t.dataset.label,": ").concat(t.formattedValue)}},displayColors:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,adapters:{date:{locale:Tr}},type:"time",time:{unit:"month"},offset:!0},y:{display:!0,scaleLabel:{display:!0,labelString:"Сумма транзакций"},suggestedMin:0,beginAtZero:!0}}}})},mounted:function(){this.createIncomeExpensesChart(),this.createProfitsTrendChart(),this.createPopularCategoriesChart(),this.createMostExpensiveCategoriesChart()}}},Ya=document.querySelector("meta[name='csrf-token']").getAttribute("content"),qa=new r.LiveSocket("/live",t.Socket,{params:{_csrf_token:Ya},hooks:Va});window.addEventListener("phx:page-loading-start",(function(t){return i().start()})),window.addEventListener("phx:page-loading-stop",(function(t){return i().done()})),qa.connect(),window.liveSocket=qa})()})();